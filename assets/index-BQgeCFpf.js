(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var _d={exports:{}},_o={};var __;function JS(){if(__)return _o;__=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return _o.Fragment=t,_o.jsx=i,_o.jsxs=i,_o}var v_;function WS(){return v_||(v_=1,_d.exports=JS()),_d.exports}var A=WS(),vd={exports:{}},Pt={};var E_;function tA(){if(E_)return Pt;E_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.iterator;function B(V){return V===null||typeof V!="object"?null:(V=k&&V[k]||V["@@iterator"],typeof V=="function"?V:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,W={};function it(V,Q,ot){this.props=V,this.context=Q,this.refs=W,this.updater=ot||J}it.prototype.isReactComponent={},it.prototype.setState=function(V,Q){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Q,"setState")},it.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ut(){}ut.prototype=it.prototype;function ht(V,Q,ot){this.props=V,this.context=Q,this.refs=W,this.updater=ot||J}var bt=ht.prototype=new ut;bt.constructor=ht,et(bt,it.prototype),bt.isPureReactComponent=!0;var wt=Array.isArray;function ft(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function b(V,Q,ot){var at=ot.ref;return{$$typeof:r,type:V,key:Q,ref:at!==void 0?at:null,props:ot}}function M(V,Q){return b(V.type,Q,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function I(V){var Q={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ot){return Q[ot]})}var w=/\/+/g;function xt(V,Q){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):Q.toString(36)}function kt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ft,ft):(V.status="pending",V.then(function(Q){V.status==="pending"&&(V.status="fulfilled",V.value=Q)},function(Q){V.status==="pending"&&(V.status="rejected",V.reason=Q)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function H(V,Q,ot,at,Rt){var Ot=typeof V;(Ot==="undefined"||Ot==="boolean")&&(V=null);var Gt=!1;if(V===null)Gt=!0;else switch(Ot){case"bigint":case"string":case"number":Gt=!0;break;case"object":switch(V.$$typeof){case r:case t:Gt=!0;break;case S:return Gt=V._init,H(Gt(V._payload),Q,ot,at,Rt)}}if(Gt)return Rt=Rt(V),Gt=at===""?"."+xt(V,0):at,wt(Rt)?(ot="",Gt!=null&&(ot=Gt.replace(w,"$&/")+"/"),H(Rt,Q,ot,"",function(yt){return yt})):Rt!=null&&(D(Rt)&&(Rt=M(Rt,ot+(Rt.key==null||V&&V.key===Rt.key?"":(""+Rt.key).replace(w,"$&/")+"/")+Gt)),Q.push(Rt)),1;Gt=0;var K=at===""?".":at+":";if(wt(V))for(var st=0;st<V.length;st++)at=V[st],Ot=K+xt(at,st),Gt+=H(at,Q,ot,Ot,Rt);else if(st=B(V),typeof st=="function")for(V=st.call(V),st=0;!(at=V.next()).done;)at=at.value,Ot=K+xt(at,st++),Gt+=H(at,Q,ot,Ot,Rt);else if(Ot==="object"){if(typeof V.then=="function")return H(kt(V),Q,ot,at,Rt);throw Q=String(V),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Gt}function rt(V,Q,ot){if(V==null)return V;var at=[],Rt=0;return H(V,at,"","",function(Ot){return Q.call(ot,Ot,Rt++)}),at}function Tt(V){if(V._status===-1){var Q=V._result;Q=Q(),Q.then(function(ot){(V._status===0||V._status===-1)&&(V._status=1,V._result=ot)},function(ot){(V._status===0||V._status===-1)&&(V._status=2,V._result=ot)}),V._status===-1&&(V._status=0,V._result=Q)}if(V._status===1)return V._result.default;throw V._result}var Ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ht={map:rt,forEach:function(V,Q,ot){rt(V,function(){Q.apply(this,arguments)},ot)},count:function(V){var Q=0;return rt(V,function(){Q++}),Q},toArray:function(V){return rt(V,function(Q){return Q})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Pt.Activity=C,Pt.Children=Ht,Pt.Component=it,Pt.Fragment=i,Pt.Profiler=o,Pt.PureComponent=ht,Pt.StrictMode=a,Pt.Suspense=_,Pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Pt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},Pt.cache=function(V){return function(){return V.apply(null,arguments)}},Pt.cacheSignal=function(){return null},Pt.cloneElement=function(V,Q,ot){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var at=et({},V.props),Rt=V.key;if(Q!=null)for(Ot in Q.key!==void 0&&(Rt=""+Q.key),Q)!R.call(Q,Ot)||Ot==="key"||Ot==="__self"||Ot==="__source"||Ot==="ref"&&Q.ref===void 0||(at[Ot]=Q[Ot]);var Ot=arguments.length-2;if(Ot===1)at.children=ot;else if(1<Ot){for(var Gt=Array(Ot),K=0;K<Ot;K++)Gt[K]=arguments[K+2];at.children=Gt}return b(V.type,Rt,at)},Pt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Pt.createElement=function(V,Q,ot){var at,Rt={},Ot=null;if(Q!=null)for(at in Q.key!==void 0&&(Ot=""+Q.key),Q)R.call(Q,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(Rt[at]=Q[at]);var Gt=arguments.length-2;if(Gt===1)Rt.children=ot;else if(1<Gt){for(var K=Array(Gt),st=0;st<Gt;st++)K[st]=arguments[st+2];Rt.children=K}if(V&&V.defaultProps)for(at in Gt=V.defaultProps,Gt)Rt[at]===void 0&&(Rt[at]=Gt[at]);return b(V,Ot,Rt)},Pt.createRef=function(){return{current:null}},Pt.forwardRef=function(V){return{$$typeof:g,render:V}},Pt.isValidElement=D,Pt.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:Tt}},Pt.memo=function(V,Q){return{$$typeof:y,type:V,compare:Q===void 0?null:Q}},Pt.startTransition=function(V){var Q=N.T,ot={};N.T=ot;try{var at=V(),Rt=N.S;Rt!==null&&Rt(ot,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(ft,Ft)}catch(Ot){Ft(Ot)}finally{Q!==null&&ot.types!==null&&(Q.types=ot.types),N.T=Q}},Pt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Pt.use=function(V){return N.H.use(V)},Pt.useActionState=function(V,Q,ot){return N.H.useActionState(V,Q,ot)},Pt.useCallback=function(V,Q){return N.H.useCallback(V,Q)},Pt.useContext=function(V){return N.H.useContext(V)},Pt.useDebugValue=function(){},Pt.useDeferredValue=function(V,Q){return N.H.useDeferredValue(V,Q)},Pt.useEffect=function(V,Q){return N.H.useEffect(V,Q)},Pt.useEffectEvent=function(V){return N.H.useEffectEvent(V)},Pt.useId=function(){return N.H.useId()},Pt.useImperativeHandle=function(V,Q,ot){return N.H.useImperativeHandle(V,Q,ot)},Pt.useInsertionEffect=function(V,Q){return N.H.useInsertionEffect(V,Q)},Pt.useLayoutEffect=function(V,Q){return N.H.useLayoutEffect(V,Q)},Pt.useMemo=function(V,Q){return N.H.useMemo(V,Q)},Pt.useOptimistic=function(V,Q){return N.H.useOptimistic(V,Q)},Pt.useReducer=function(V,Q,ot){return N.H.useReducer(V,Q,ot)},Pt.useRef=function(V){return N.H.useRef(V)},Pt.useState=function(V){return N.H.useState(V)},Pt.useSyncExternalStore=function(V,Q,ot){return N.H.useSyncExternalStore(V,Q,ot)},Pt.useTransition=function(){return N.H.useTransition()},Pt.version="19.2.3",Pt}var T_;function um(){return T_||(T_=1,vd.exports=tA()),vd.exports}var Mt=um(),Ed={exports:{}},vo={},Td={exports:{}},Sd={};var S_;function eA(){return S_||(S_=1,(function(r){function t(H,rt){var Tt=H.length;H.push(rt);t:for(;0<Tt;){var Ft=Tt-1>>>1,Ht=H[Ft];if(0<o(Ht,rt))H[Ft]=rt,H[Tt]=Ht,Tt=Ft;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var rt=H[0],Tt=H.pop();if(Tt!==rt){H[0]=Tt;t:for(var Ft=0,Ht=H.length,V=Ht>>>1;Ft<V;){var Q=2*(Ft+1)-1,ot=H[Q],at=Q+1,Rt=H[at];if(0>o(ot,Tt))at<Ht&&0>o(Rt,ot)?(H[Ft]=Rt,H[at]=Tt,Ft=at):(H[Ft]=ot,H[Q]=Tt,Ft=Q);else if(at<Ht&&0>o(Rt,Tt))H[Ft]=Rt,H[at]=Tt,Ft=at;else break t}}return rt}function o(H,rt){var Tt=H.sortIndex-rt.sortIndex;return Tt!==0?Tt:H.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],S=1,C=null,k=3,B=!1,J=!1,et=!1,W=!1,it=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function bt(H){for(var rt=i(y);rt!==null;){if(rt.callback===null)a(y);else if(rt.startTime<=H)a(y),rt.sortIndex=rt.expirationTime,t(_,rt);else break;rt=i(y)}}function wt(H){if(et=!1,bt(H),!J)if(i(_)!==null)J=!0,ft||(ft=!0,I());else{var rt=i(y);rt!==null&&kt(wt,rt.startTime-H)}}var ft=!1,N=-1,R=5,b=-1;function M(){return W?!0:!(r.unstable_now()-b<R)}function D(){if(W=!1,ft){var H=r.unstable_now();b=H;var rt=!0;try{t:{J=!1,et&&(et=!1,ut(N),N=-1),B=!0;var Tt=k;try{e:{for(bt(H),C=i(_);C!==null&&!(C.expirationTime>H&&M());){var Ft=C.callback;if(typeof Ft=="function"){C.callback=null,k=C.priorityLevel;var Ht=Ft(C.expirationTime<=H);if(H=r.unstable_now(),typeof Ht=="function"){C.callback=Ht,bt(H),rt=!0;break e}C===i(_)&&a(_),bt(H)}else a(_);C=i(_)}if(C!==null)rt=!0;else{var V=i(y);V!==null&&kt(wt,V.startTime-H),rt=!1}}break t}finally{C=null,k=Tt,B=!1}rt=void 0}}finally{rt?I():ft=!1}}}var I;if(typeof ht=="function")I=function(){ht(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,xt=w.port2;w.port1.onmessage=D,I=function(){xt.postMessage(null)}}else I=function(){it(D,0)};function kt(H,rt){N=it(function(){H(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return k},r.unstable_next=function(H){switch(k){case 1:case 2:case 3:var rt=3;break;default:rt=k}var Tt=k;k=rt;try{return H()}finally{k=Tt}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(H,rt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Tt=k;k=H;try{return rt()}finally{k=Tt}},r.unstable_scheduleCallback=function(H,rt,Tt){var Ft=r.unstable_now();switch(typeof Tt=="object"&&Tt!==null?(Tt=Tt.delay,Tt=typeof Tt=="number"&&0<Tt?Ft+Tt:Ft):Tt=Ft,H){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=Tt+Ht,H={id:S++,callback:rt,priorityLevel:H,startTime:Tt,expirationTime:Ht,sortIndex:-1},Tt>Ft?(H.sortIndex=Tt,t(y,H),i(_)===null&&H===i(y)&&(et?(ut(N),N=-1):et=!0,kt(wt,Tt-Ft))):(H.sortIndex=Ht,t(_,H),J||B||(J=!0,ft||(ft=!0,I()))),H},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(H){var rt=k;return function(){var Tt=k;k=rt;try{return H.apply(this,arguments)}finally{k=Tt}}}})(Sd)),Sd}var A_;function nA(){return A_||(A_=1,Td.exports=eA()),Td.exports}var Ad={exports:{}},on={};var b_;function iA(){if(b_)return on;b_=1;var r=um();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:_,containerInfo:y,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,on.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,S)},on.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},on.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},on.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},on.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,C=g(S,y.crossOrigin),k=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:C,integrity:k,fetchPriority:B}):S==="script"&&a.d.X(_,{crossOrigin:C,integrity:k,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},on.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,C=g(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},on.requestFormReset=function(_){a.d.r(_)},on.unstable_batchedUpdates=function(_,y){return _(y)},on.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},on.useFormStatus=function(){return d.H.useHostTransitionStatus()},on.version="19.2.3",on}var w_;function sA(){if(w_)return Ad.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ad.exports=iA(),Ad.exports}var R_;function rA(){if(R_)return vo;R_=1;var r=nA(),t=um(),i=sA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,k=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case it:return"Profiler";case W:return"StrictMode";case wt:return"Suspense";case ft:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ht:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:xt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return xt(e(n))}catch{}}return null}var kt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},Ft=[],Ht=-1;function V(e){return{current:e}}function Q(e){0>Ht||(e.current=Ft[Ht],Ft[Ht]=null,Ht--)}function ot(e,n){Ht++,Ft[Ht]=e.current,e.current=n}var at=V(null),Rt=V(null),Ot=V(null),Gt=V(null);function K(e,n){switch(ot(Ot,n),ot(Rt,e),ot(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?By(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=By(n),e=qy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(at),ot(at,e)}function st(){Q(at),Q(Rt),Q(Ot)}function yt(e){e.memoizedState!==null&&ot(Gt,e);var n=at.current,s=qy(n,e.type);n!==s&&(ot(Rt,e),ot(at,s))}function dt(e){Rt.current===e&&(Q(at),Q(Rt)),Gt.current===e&&(Q(Gt),mo._currentValue=Tt)}var gt,ct;function Ct(e){if(gt===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);gt=n&&n[1]||"",ct=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+e+ct}var Ae=!1;function An(e,n){if(!e||Ae)return"";Ae=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(G){var z=G}Reflect.construct(e,[],$)}else{try{$.call()}catch(G){z=G}e.call($.prototype)}}else{try{throw Error()}catch(G){z=G}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(G){if(G&&z&&typeof G.stack=="string")return[G.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var O=p.split(`
`),j=E.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===j.length)for(l=O.length-1,h=j.length-1;1<=l&&0<=h&&O[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==j[h]){var F=`
`+O[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{Ae=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ct(s):""}function bn(e,n){switch(e.tag){case 26:case 27:case 5:return Ct(e.type);case 16:return Ct("Lazy");case 13:return e.child!==n&&n!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return An(e.type,!1);case 11:return An(e.type.render,!1);case 1:return An(e.type,!0);case 31:return Ct("Activity");default:return""}}function ur(e){try{var n="",s=null;do n+=bn(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,Ce=r.unstable_scheduleCallback,ci=r.unstable_cancelCallback,pl=r.unstable_shouldYield,ia=r.unstable_requestPaint,Ze=r.unstable_now,qi=r.unstable_getCurrentPriorityLevel,cr=r.unstable_ImmediatePriority,hr=r.unstable_UserBlockingPriority,hi=r.unstable_NormalPriority,yl=r.unstable_LowPriority,fr=r.unstable_IdlePriority,dr=r.log,sa=r.unstable_setDisableYieldValue,X=null,pt=null;function vt(e){if(typeof dr=="function"&&sa(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(X,e)}catch{}}var nt=Math.clz32?Math.clz32:Ie,_e=Math.log,Lt=Math.LN2;function Ie(e){return e>>>=0,e===0?32:31-(_e(e)/Lt|0)|0}var re=256,mr=262144,Ve=4194304;function fi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=fi(l):(p&=E,p!==0?h=fi(p):s||(s=E&~e,s!==0&&(h=fi(s))))):(E=l&~f,E!==0?h=fi(E):p!==0?h=fi(p):s||(s=l&~e,s!==0&&(h=fi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Th(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var e=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),e}function mi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function gr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Sh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,O=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-nt(s),$=1<<F;E[F]=0,O[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var G=z[F];G!==null&&(G.lane&=-536870913)}s&=~$}l!==0&&pr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function pr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-nt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function _l(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-nt(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function vl(e,n){var s=n&-n;return s=(s&42)!==0?1:yr(s),(s&(e.suspendedLanes|n))!==0?0:s}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zo(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:h_(e.type))}function $n(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var Zn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Zn,Qe="__reactProps$"+Zn,gi="__reactContainer$"+Zn,ra="__reactEvents$"+Zn,Ah="__reactListeners$"+Zn,Jo="__reactHandles$"+Zn,Wo="__reactResources$"+Zn,pi="__reactMarker$"+Zn;function aa(e){delete e[xe],delete e[Qe],delete e[ra],delete e[Ah],delete e[Jo]}function yi(e){var n=e[xe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[gi]||s[xe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Xy(e);e!==null;){if(s=e[xe])return s;e=Xy(e)}return n}e=s,s=e.parentNode}return null}function kn(e){if(e=e[xe]||e[gi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function wn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function _i(e){var n=e[Wo];return n||(n=e[Wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ke(e){e[pi]=!0}var El=new Set,Tl={};function vi(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(Tl[e]=n,e=0;e<n.length;e++)El.add(n[e])}var Sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Al={},bl={};function tu(e){return be.call(bl,e)?!0:be.call(Al,e)?!1:Sl.test(e)?bl[e]=!0:(Al[e]=!0,!1)}function la(e,n,s){if(tu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Rn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Le(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ys(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function le(e){if(!e._valueTracker){var n=ys(e)?"checked":"value";e._valueTracker=wl(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ys(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function gn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function oa(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ke(n)):e.value!==""+Ke(n)&&(e.value=""+Ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Rl(e,p,Ke(n)):s!=null?Rl(e,p,Ke(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ke(E):e.removeAttribute("name")}function eu(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){le(e);return}s=s!=null?""+Ke(s):"",n=n!=null?""+Ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),le(e)}function Rl(e,n,s){n==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function _s(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function nu(e,n,s){if(n!=null&&(n=""+Ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ke(s):""}function vs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(kt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ke(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),le(e)}function pn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||iu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Il(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Cl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Cl(e,f,n[f])}function ua(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Es=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ca(e){return Es.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var Nl=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ts=null,Si=null;function Er(e){var n=kn(e);if(n&&(e=n.stateNode)){var s=e[Qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(oa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+gn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Qe]||null;if(!h)throw Error(a(90));oa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&_r(l)}break t;case"textarea":nu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&_s(e,!!s.multiple,n,!1)}}}var ha=!1;function Ss(e,n,s){if(ha)return e(n,s);ha=!0;try{var l=e(n);return l}finally{if(ha=!1,(Ts!==null||Si!==null)&&(Zu(),Ts&&(n=Ts,e=Si,Si=Ts=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function Wn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Qe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(Un)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{Tr=!1}var Ai=null,Dl=null,Sr=null;function Ol(){if(Sr)return Sr;var e,n=Dl,s=n.length,l,h="value"in Ai?Ai.value:Ai.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return Sr=h.slice(e,1<l?1-l:void 0)}function Ar(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function ti(){return!1}function Je(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gi:ti,this.isPropagationStopped=ti,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Je(Fi),As=C({},Fi,{view:0,detail:0}),Ml=Je(As),bs,fa,wi,da=C({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(bs=e.screenX-wi.screenX,fa=e.screenY-wi.screenY):fa=bs=0,wi=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:fa}}),Vl=Je(da),br=C({},da,{dataTransfer:0}),ru=Je(br),au=C({},As,{relatedTarget:0}),wr=Je(au),xl=C({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),lu=Je(xl),ma=C({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ou=Je(ma),uu=C({},Fi,{data:0}),Ri=Je(uu),cu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=fu[e])?!!n[e]:!1}function ws(){return du}var dn=C({},As,{key:function(e){if(e.key){var n=cu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ar(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?Ar(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ar(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mu=Je(dn),gu=C({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Je(gu),u=C({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),m=Je(u),v=C({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Je(v),U=C({},da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Je(U),lt=C({},Fi,{newState:0,oldState:0}),zt=Je(lt),Ne=[9,13,27,32],ie=Un&&"CompositionEvent"in window,ve=null;Un&&"documentMode"in document&&(ve=document.documentMode);var Pn=Un&&"TextEvent"in window&&!ve,Ci=Un&&(!ie||ve&&8<ve&&11>=ve),ei=" ",ni=!1;function Rr(e,n){switch(e){case"keyup":return Ne.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ga(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function S0(e,n){switch(e){case"compositionend":return ga(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function A0(e,n){if(pa)return e==="compositionend"||!ie&&Rr(e,n)?(e=Ol(),Sr=Dl=Ai=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var b0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!b0[e.type]:n==="textarea"}function Wm(e,n,s,l){Ts?Si?Si.push(l):Si=[l]:Ts=l,n=sc(n,"onChange"),0<n.length&&(s=new bi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var kl=null,Ll=null;function w0(e){ky(e,0)}function pu(e){var n=wn(e);if(_r(n))return e}function tg(e,n){if(e==="change")return n}var eg=!1;if(Un){var bh;if(Un){var wh="oninput"in document;if(!wh){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),wh=typeof ng.oninput=="function"}bh=wh}else bh=!1;eg=bh&&(!document.documentMode||9<document.documentMode)}function ig(){kl&&(kl.detachEvent("onpropertychange",sg),Ll=kl=null)}function sg(e){if(e.propertyName==="value"&&pu(Ll)){var n=[];Wm(n,Ll,e,Ln(e)),Ss(w0,n)}}function R0(e,n,s){e==="focusin"?(ig(),kl=n,Ll=s,kl.attachEvent("onpropertychange",sg)):e==="focusout"&&ig()}function C0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return pu(Ll)}function I0(e,n){if(e==="click")return pu(n)}function N0(e,n){if(e==="input"||e==="change")return pu(n)}function D0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Cn=typeof Object.is=="function"?Object.is:D0;function Ul(e,n){if(Cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!be.call(n,h)||!Cn(e[h],n[h]))return!1}return!0}function rg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ag(e,n){var s=rg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=rg(s)}}function lg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?lg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ti(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ti(e.document)}return n}function Rh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var O0=Un&&"documentMode"in document&&11>=document.documentMode,ya=null,Ch=null,Pl=null,Ih=!1;function ug(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ih||ya==null||ya!==Ti(l)||(l=ya,"selectionStart"in l&&Rh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Pl&&Ul(Pl,l)||(Pl=l,l=sc(Ch,"onSelect"),0<l.length&&(n=new bi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ya)))}function Cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var _a={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Nh={},cg={};Un&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Ir(e){if(Nh[e])return Nh[e];if(!_a[e])return e;var n=_a[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in cg)return Nh[e]=n[s];return e}var hg=Ir("animationend"),fg=Ir("animationiteration"),dg=Ir("animationstart"),M0=Ir("transitionrun"),V0=Ir("transitionstart"),x0=Ir("transitioncancel"),mg=Ir("transitionend"),gg=new Map,Dh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Dh.push("scrollEnd");function ii(e,n){gg.set(e,n),vi(n,[e])}var yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],va=0,Oh=0;function _u(){for(var e=va,n=Oh=va=0;n<e;){var s=jn[n];jn[n++]=null;var l=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&pg(s,h,f)}}function vu(e,n,s,l){jn[va++]=e,jn[va++]=n,jn[va++]=s,jn[va++]=l,Oh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Mh(e,n,s,l){return vu(e,n,s,l),Eu(e)}function Nr(e,n){return vu(e,null,null,n),Eu(e)}function pg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-nt(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Eu(e){if(50<ao)throw ao=0,qf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ea={};function k0(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,s,l){return new k0(e,n,s,l)}function Vh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var s=e.alternate;return s===null?(s=In(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function yg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Tu(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")Vh(e)&&(p=1);else if(typeof e=="string")p=zS(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=In(31,s,n,h),e.elementType=b,e.lanes=f,e;case et:return Dr(s.children,h,f,n);case W:p=8,h|=24;break;case it:return e=In(12,s,n,h|2),e.elementType=it,e.lanes=f,e;case wt:return e=In(13,s,n,h),e.elementType=wt,e.lanes=f,e;case ft:return e=In(19,s,n,h),e.elementType=ft,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:p=10;break t;case ut:p=9;break t;case bt:p=11;break t;case N:p=14;break t;case R:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=In(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Dr(e,n,s,l){return e=In(7,e,l,n),e.lanes=s,e}function xh(e,n,s){return e=In(6,e,null,n),e.lanes=s,e}function _g(e){var n=In(18,null,null,0);return n.stateNode=e,n}function kh(e,n,s){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var vg=new WeakMap;function zn(e,n){if(typeof e=="object"&&e!==null){var s=vg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:ur(n)},vg.set(e,n),n)}return{value:e,source:n,stack:ur(n)}}var Ta=[],Sa=0,Su=null,jl=0,Bn=[],qn=0,Rs=null,Ii=1,Ni="";function Yi(e,n){Ta[Sa++]=jl,Ta[Sa++]=Su,Su=e,jl=n}function Eg(e,n,s){Bn[qn++]=Ii,Bn[qn++]=Ni,Bn[qn++]=Rs,Rs=e;var l=Ii;e=Ni;var h=32-nt(l)-1;l&=~(1<<h),s+=1;var f=32-nt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Ii=1<<32-nt(n)+h|s<<h|l,Ni=f+e}else Ii=1<<f|s<<h|l,Ni=e}function Lh(e){e.return!==null&&(Yi(e,1),Eg(e,1,0))}function Uh(e){for(;e===Su;)Su=Ta[--Sa],Ta[Sa]=null,jl=Ta[--Sa],Ta[Sa]=null;for(;e===Rs;)Rs=Bn[--qn],Bn[qn]=null,Ni=Bn[--qn],Bn[qn]=null,Ii=Bn[--qn],Bn[qn]=null}function Tg(e,n){Bn[qn++]=Ii,Bn[qn++]=Ni,Bn[qn++]=Rs,Ii=n.id,Ni=n.overflow,Rs=e}var We=null,ge=null,Wt=!1,Cs=null,Hn=!1,Ph=Error(a(519));function Is(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(zn(n,e)),Ph}function Sg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[xe]=e,n[Qe]=l,s){case"dialog":Kt("cancel",n),Kt("close",n);break;case"iframe":case"object":case"embed":Kt("load",n);break;case"video":case"audio":for(s=0;s<oo.length;s++)Kt(oo[s],n);break;case"source":Kt("error",n);break;case"img":case"image":case"link":Kt("error",n),Kt("load",n);break;case"details":Kt("toggle",n);break;case"input":Kt("invalid",n),eu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Kt("invalid",n);break;case"textarea":Kt("invalid",n),vs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||jy(n.textContent,s)?(l.popover!=null&&(Kt("beforetoggle",n),Kt("toggle",n)),l.onScroll!=null&&Kt("scroll",n),l.onScrollEnd!=null&&Kt("scrollend",n),l.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Is(e,!0)}function Ag(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:We=We.return}}function Aa(e){if(e!==We)return!1;if(!Wt)return Ag(e),Wt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||id(e.type,e.memoizedProps)),s=!s),s&&ge&&Is(e),Ag(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ge=Yy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ge=Yy(e)}else n===27?(n=ge,qs(e.type)?(e=od,od=null,ge=e):ge=n):ge=We?Fn(e.stateNode.nextSibling):null;return!0}function Or(){ge=We=null,Wt=!1}function jh(){var e=Cs;return e!==null&&(En===null?En=e:En.push.apply(En,e),Cs=null),e}function zl(e){Cs===null?Cs=[e]:Cs.push(e)}var zh=V(null),Mr=null,Xi=null;function Ns(e,n,s){ot(zh,n._currentValue),n._currentValue=s}function $i(e){e._currentValue=zh.current,Q(zh)}function Bh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function qh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var O=0;O<n.length;O++)if(E.context===n[O]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Bh(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Bh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function ba(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Cn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Gt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(mo):e=[mo])}h=h.return}e!==null&&qh(n,e,s,l),n.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!Cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return bg(Mr,e)}function bu(e,n){return Mr===null&&Vr(e),bg(e,n)}function bg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(e===null)throw Error(a(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return s}var L0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},U0=r.unstable_scheduleCallback,P0=r.unstable_NormalPriority,Ue={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hh(){return{controller:new L0,data:new Map,refCount:0}}function Bl(e){e.refCount--,e.refCount===0&&U0(P0,function(){e.controller.abort()})}var ql=null,Gh=0,wa=0,Ra=null;function j0(e,n){if(ql===null){var s=ql=[];Gh=0,wa=Yf(),Ra={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Gh++,n.then(wg,wg),n}function wg(){if(--Gh===0&&ql!==null){Ra!==null&&(Ra.status="fulfilled");var e=ql;ql=null,wa=0,Ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function z0(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Rg=H.S;H.S=function(e,n){uy=Ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&j0(e,n),Rg!==null&&Rg(e,n)};var xr=V(null);function Fh(){var e=xr.current;return e!==null?e:me.pooledCache}function wu(e,n){n===null?ot(xr,xr.current):ot(xr,n.pool)}function Cg(){var e=Fh();return e===null?null:{parent:Ue._currentValue,pool:e}}var Ca=Error(a(460)),Qh=Error(a(474)),Ru=Error(a(542)),Cu={then:function(){}};function Ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ng(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=me,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Og(e),e}throw Lr=n,Ca}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Lr=s,Ca):s}}var Lr=null;function Dg(){if(Lr===null)throw Error(a(459));var e=Lr;return Lr=null,e}function Og(e){if(e===Ca||e===Ru)throw Error(a(483))}var Ia=null,Hl=0;function Iu(e){var n=Hl;return Hl+=1,Ia===null&&(Ia=[]),Ng(Ia,e,n)}function Gl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===k?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Mg(e){function n(L,x){if(e){var P=L.deletions;P===null?(L.deletions=[x],L.flags|=16):P.push(x)}}function s(L,x){if(!e)return null;for(;x!==null;)n(L,x),x=x.sibling;return null}function l(L){for(var x=new Map;L!==null;)L.key!==null?x.set(L.key,L):x.set(L.index,L),L=L.sibling;return x}function h(L,x){return L=Ki(L,x),L.index=0,L.sibling=null,L}function f(L,x,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<x?(L.flags|=67108866,x):P):(L.flags|=67108866,x)):(L.flags|=1048576,x)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,x,P,Y){return x===null||x.tag!==6?(x=xh(P,L.mode,Y),x.return=L,x):(x=h(x,P),x.return=L,x)}function O(L,x,P,Y){var At=P.type;return At===et?F(L,x,P.props.children,Y,P.key):x!==null&&(x.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&kr(At)===x.type)?(x=h(x,P.props),Gl(x,P),x.return=L,x):(x=Tu(P.type,P.key,P.props,null,L.mode,Y),Gl(x,P),x.return=L,x)}function j(L,x,P,Y){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=kh(P,L.mode,Y),x.return=L,x):(x=h(x,P.children||[]),x.return=L,x)}function F(L,x,P,Y,At){return x===null||x.tag!==7?(x=Dr(P,L.mode,Y,At),x.return=L,x):(x=h(x,P),x.return=L,x)}function $(L,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=xh(""+x,L.mode,P),x.return=L,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case B:return P=Tu(x.type,x.key,x.props,null,L.mode,P),Gl(P,x),P.return=L,P;case J:return x=kh(x,L.mode,P),x.return=L,x;case R:return x=kr(x),$(L,x,P)}if(kt(x)||I(x))return x=Dr(x,L.mode,P,null),x.return=L,x;if(typeof x.then=="function")return $(L,Iu(x),P);if(x.$$typeof===ht)return $(L,bu(L,x),P);Nu(L,x)}return null}function z(L,x,P,Y){var At=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return At!==null?null:E(L,x,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===At?O(L,x,P,Y):null;case J:return P.key===At?j(L,x,P,Y):null;case R:return P=kr(P),z(L,x,P,Y)}if(kt(P)||I(P))return At!==null?null:F(L,x,P,Y,null);if(typeof P.then=="function")return z(L,x,Iu(P),Y);if(P.$$typeof===ht)return z(L,x,bu(L,P),Y);Nu(L,P)}return null}function G(L,x,P,Y,At){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(P)||null,E(x,L,""+Y,At);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case B:return L=L.get(Y.key===null?P:Y.key)||null,O(x,L,Y,At);case J:return L=L.get(Y.key===null?P:Y.key)||null,j(x,L,Y,At);case R:return Y=kr(Y),G(L,x,P,Y,At)}if(kt(Y)||I(Y))return L=L.get(P)||null,F(x,L,Y,At,null);if(typeof Y.then=="function")return G(L,x,P,Iu(Y),At);if(Y.$$typeof===ht)return G(L,x,P,bu(x,Y),At);Nu(x,Y)}return null}function _t(L,x,P,Y){for(var At=null,ee=null,Et=x,qt=x=0,Xt=null;Et!==null&&qt<P.length;qt++){Et.index>qt?(Xt=Et,Et=null):Xt=Et.sibling;var ne=z(L,Et,P[qt],Y);if(ne===null){Et===null&&(Et=Xt);break}e&&Et&&ne.alternate===null&&n(L,Et),x=f(ne,x,qt),ee===null?At=ne:ee.sibling=ne,ee=ne,Et=Xt}if(qt===P.length)return s(L,Et),Wt&&Yi(L,qt),At;if(Et===null){for(;qt<P.length;qt++)Et=$(L,P[qt],Y),Et!==null&&(x=f(Et,x,qt),ee===null?At=Et:ee.sibling=Et,ee=Et);return Wt&&Yi(L,qt),At}for(Et=l(Et);qt<P.length;qt++)Xt=G(Et,L,qt,P[qt],Y),Xt!==null&&(e&&Xt.alternate!==null&&Et.delete(Xt.key===null?qt:Xt.key),x=f(Xt,x,qt),ee===null?At=Xt:ee.sibling=Xt,ee=Xt);return e&&Et.forEach(function(Ks){return n(L,Ks)}),Wt&&Yi(L,qt),At}function Nt(L,x,P,Y){if(P==null)throw Error(a(151));for(var At=null,ee=null,Et=x,qt=x=0,Xt=null,ne=P.next();Et!==null&&!ne.done;qt++,ne=P.next()){Et.index>qt?(Xt=Et,Et=null):Xt=Et.sibling;var Ks=z(L,Et,ne.value,Y);if(Ks===null){Et===null&&(Et=Xt);break}e&&Et&&Ks.alternate===null&&n(L,Et),x=f(Ks,x,qt),ee===null?At=Ks:ee.sibling=Ks,ee=Ks,Et=Xt}if(ne.done)return s(L,Et),Wt&&Yi(L,qt),At;if(Et===null){for(;!ne.done;qt++,ne=P.next())ne=$(L,ne.value,Y),ne!==null&&(x=f(ne,x,qt),ee===null?At=ne:ee.sibling=ne,ee=ne);return Wt&&Yi(L,qt),At}for(Et=l(Et);!ne.done;qt++,ne=P.next())ne=G(Et,L,qt,ne.value,Y),ne!==null&&(e&&ne.alternate!==null&&Et.delete(ne.key===null?qt:ne.key),x=f(ne,x,qt),ee===null?At=ne:ee.sibling=ne,ee=ne);return e&&Et.forEach(function(ZS){return n(L,ZS)}),Wt&&Yi(L,qt),At}function de(L,x,P,Y){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var At=P.key;x!==null;){if(x.key===At){if(At=P.type,At===et){if(x.tag===7){s(L,x.sibling),Y=h(x,P.props.children),Y.return=L,L=Y;break t}}else if(x.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===R&&kr(At)===x.type){s(L,x.sibling),Y=h(x,P.props),Gl(Y,P),Y.return=L,L=Y;break t}s(L,x);break}else n(L,x);x=x.sibling}P.type===et?(Y=Dr(P.props.children,L.mode,Y,P.key),Y.return=L,L=Y):(Y=Tu(P.type,P.key,P.props,null,L.mode,Y),Gl(Y,P),Y.return=L,L=Y)}return p(L);case J:t:{for(At=P.key;x!==null;){if(x.key===At)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){s(L,x.sibling),Y=h(x,P.children||[]),Y.return=L,L=Y;break t}else{s(L,x);break}else n(L,x);x=x.sibling}Y=kh(P,L.mode,Y),Y.return=L,L=Y}return p(L);case R:return P=kr(P),de(L,x,P,Y)}if(kt(P))return _t(L,x,P,Y);if(I(P)){if(At=I(P),typeof At!="function")throw Error(a(150));return P=At.call(P),Nt(L,x,P,Y)}if(typeof P.then=="function")return de(L,x,Iu(P),Y);if(P.$$typeof===ht)return de(L,x,bu(L,P),Y);Nu(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(s(L,x.sibling),Y=h(x,P),Y.return=L,L=Y):(s(L,x),Y=xh(P,L.mode,Y),Y.return=L,L=Y),p(L)):s(L,x)}return function(L,x,P,Y){try{Hl=0;var At=de(L,x,P,Y);return Ia=null,At}catch(Et){if(Et===Ca||Et===Ru)throw Et;var ee=In(29,Et,null,L.mode);return ee.lanes=Y,ee.return=L,ee}}}var Ur=Mg(!0),Vg=Mg(!1),Ds=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ms(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(se&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Eu(e),pg(e,null,s),n}return vu(e,l,n,s),Eu(e)}function Fl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,_l(e,s)}}function Xh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var $h=!1;function Ql(){if($h){var e=Ra;if(e!==null)throw e}}function Kl(e,n,s,l){$h=!1;var h=e.updateQueue;Ds=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var O=E,j=O.next;O.next=null,p===null?f=j:p.next=j,p=O;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=O))}if(f!==null){var $=h.baseState;p=0,F=j=O=null,E=f;do{var z=E.lane&-536870913,G=z!==E.lane;if(G?(Yt&z)===z:(l&z)===z){z!==0&&z===wa&&($h=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var _t=e,Nt=E;z=n;var de=s;switch(Nt.tag){case 1:if(_t=Nt.payload,typeof _t=="function"){$=_t.call(de,$,z);break t}$=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=Nt.payload,z=typeof _t=="function"?_t.call(de,$,z):_t,z==null)break t;$=C({},$,z);break t;case 2:Ds=!0}}z=E.callback,z!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[z]:G.push(z))}else G={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=G,O=$):F=F.next=G,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;G=E,E=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);F===null&&(O=$),h.baseState=O,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Us|=p,e.lanes=p,e.memoizedState=$}}function xg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function kg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)xg(s[e],n)}var Na=V(null),Du=V(0);function Lg(e,n){e=rs,ot(Du,e),ot(Na,n),rs=e|n.baseLanes}function Zh(){ot(Du,rs),ot(Na,Na.current)}function Jh(){rs=Du.current,Q(Na),Q(Du)}var Nn=V(null),Gn=null;function Vs(e){var n=e.alternate;ot(De,De.current&1),ot(Nn,e),Gn===null&&(n===null||Na.current!==null||n.memoizedState!==null)&&(Gn=e)}function Wh(e){ot(De,De.current),ot(Nn,e),Gn===null&&(Gn=e)}function Ug(e){e.tag===22?(ot(De,De.current),ot(Nn,e),Gn===null&&(Gn=e)):xs()}function xs(){ot(De,De.current),ot(Nn,Nn.current)}function Dn(e){Q(Nn),Gn===e&&(Gn=null),Q(De)}var De=V(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||ad(s)||ld(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Bt=null,he=null,Pe=null,Mu=!1,Da=!1,Pr=!1,Vu=0,Yl=0,Oa=null,B0=0;function we(){throw Error(a(321))}function tf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Cn(e[s],n[s]))return!1;return!0}function ef(e,n,s,l,h,f){return Zi=f,Bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Ep:yf,Pr=!1,f=s(l,h),Pr=!1,Da&&(f=jg(n,s,l,h)),Pg(e),f}function Pg(e){H.H=Zl;var n=he!==null&&he.next!==null;if(Zi=0,Pe=he=Bt=null,Mu=!1,Yl=0,Oa=null,n)throw Error(a(300));e===null||je||(e=e.dependencies,e!==null&&Au(e)&&(je=!0))}function jg(e,n,s,l){Bt=e;var h=0;do{if(Da&&(Oa=null),Yl=0,Da=!1,25<=h)throw Error(a(301));if(h+=1,Pe=he=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Tp,f=n(s,l)}while(Da);return f}function q0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Xl(n):n,e=e.useState()[0],(he!==null?he.memoizedState:null)!==e&&(Bt.flags|=1024),n}function nf(){var e=Vu!==0;return Vu=0,e}function sf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function rf(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Zi=0,Pe=he=Bt=null,Da=!1,Yl=Vu=0,Oa=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?Bt.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Oe(){if(he===null){var e=Bt.alternate;e=e!==null?e.memoizedState:null}else e=he.next;var n=Pe===null?Bt.memoizedState:Pe.next;if(n!==null)Pe=n,he=e;else{if(e===null)throw Bt.alternate===null?Error(a(467)):Error(a(310));he=e,e={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},Pe===null?Bt.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(e){var n=Yl;return Yl+=1,Oa===null&&(Oa=[]),e=Ng(Oa,e,n),n=Bt,(Pe===null?n.memoizedState:Pe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ep:yf),e}function ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xl(e);if(e.$$typeof===ht)return tn(e)}throw Error(a(438,String(e)))}function af(e){var n=null,s=Bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=xu(),Bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function Ji(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=Oe();return lf(n,he,e)}function lf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,O=null,j=n,F=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Yt&$)===$:(Zi&$)===$){var z=j.revertLane;if(z===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===wa&&(F=!0);else if((Zi&z)===z){j=j.next,z===wa&&(F=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(E=O=$,p=f):O=O.next=$,Bt.lanes|=z,Us|=z;$=j.action,Pr&&s(f,$),f=j.hasEagerState?j.eagerState:s(f,$)}else z={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},O===null?(E=O=z,p=f):O=O.next=z,Bt.lanes|=$,Us|=$;j=j.next}while(j!==null&&j!==n);if(O===null?p=f:O.next=E,!Cn(f,e.memoizedState)&&(je=!0,F&&(s=Ra,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=O,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function of(e){var n=Oe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Cn(f,n.memoizedState)||(je=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function zg(e,n,s){var l=Bt,h=Oe(),f=Wt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Cn((he||h).memoizedState,s);if(p&&(h.memoizedState=s,je=!0),h=h.queue,hf(Hg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Pe!==null&&Pe.memoizedState.tag&1){if(l.flags|=2048,Ma(9,{destroy:void 0},qg.bind(null,l,h,s,n),null),me===null)throw Error(a(349));f||(Zi&127)!==0||Bg(l,n,s)}return s}function Bg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Bt.updateQueue,n===null?(n=xu(),Bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function qg(e,n,s,l){n.value=s,n.getSnapshot=l,Gg(n)&&Fg(e)}function Hg(e,n,s){return s(function(){Gg(n)&&Fg(e)})}function Gg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Cn(e,s)}catch{return!0}}function Fg(e){var n=Nr(e,2);n!==null&&Tn(n,e,2)}function uf(e){var n=mn();if(typeof e=="function"){var s=e;if(e=s(),Pr){vt(!0);try{s()}finally{vt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function Qg(e,n,s,l){return e.baseState=s,lf(e,he,typeof l=="function"?l:Ji)}function H0(e,n,s,l,h){if(ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Kg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Kg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,p={};H.T=p;try{var E=s(h,l),O=H.S;O!==null&&O(p,E),Yg(e,n,E)}catch(j){cf(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),H.T=f}}else try{f=s(h,l),Yg(e,n,f)}catch(j){cf(e,n,j)}}function Yg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Xg(e,n,l)},function(l){return cf(e,n,l)}):Xg(e,n,s)}function Xg(e,n,s){n.status="fulfilled",n.value=s,$g(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Kg(e,s)))}function cf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,$g(n),n=n.next;while(n!==l)}e.action=null}function $g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Zg(e,n){return n}function Jg(e,n){if(Wt){var s=me.formState;if(s!==null){t:{var l=Bt;if(Wt){if(ge){e:{for(var h=ge,f=Hn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ge=Fn(h.nextSibling),l=h.data==="F!";break t}}Is(l)}l=!1}l&&(n=s[0])}}return s=mn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zg,lastRenderedState:n},s.queue=l,s=yp.bind(null,Bt,l),l.dispatch=s,l=uf(!1),f=pf.bind(null,Bt,!1,l.queue),l=mn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=H0.bind(null,Bt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Wg(e){var n=Oe();return tp(n,he,e)}function tp(e,n,s){if(n=lf(e,n,Zg)[0],e=Lu(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xl(n)}catch(p){throw p===Ca?Ru:p}else l=n;n=Oe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Bt.flags|=2048,Ma(9,{destroy:void 0},G0.bind(null,h,s),null)),[l,f,e]}function G0(e,n){e.action=n}function ep(e){var n=Oe(),s=he;if(s!==null)return tp(n,s,e);Oe(),n=n.memoizedState,s=Oe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ma(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Bt.updateQueue,n===null&&(n=xu(),Bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function np(){return Oe().memoizedState}function Uu(e,n,s,l){var h=mn();Bt.flags|=e,h.memoizedState=Ma(1|n,{destroy:void 0},s,l===void 0?null:l)}function Pu(e,n,s,l){var h=Oe();l=l===void 0?null:l;var f=h.memoizedState.inst;he!==null&&l!==null&&tf(l,he.memoizedState.deps)?h.memoizedState=Ma(n,f,s,l):(Bt.flags|=e,h.memoizedState=Ma(1|n,f,s,l))}function ip(e,n){Uu(8390656,8,e,n)}function hf(e,n){Pu(2048,8,e,n)}function F0(e){Bt.flags|=4;var n=Bt.updateQueue;if(n===null)n=xu(),Bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function sp(e){var n=Oe().memoizedState;return F0({ref:n,nextImpl:e}),function(){if((se&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function rp(e,n){return Pu(4,2,e,n)}function ap(e,n){return Pu(4,4,e,n)}function lp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function op(e,n,s){s=s!=null?s.concat([e]):null,Pu(4,4,lp.bind(null,n,e),s)}function ff(){}function up(e,n){var s=Oe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&tf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function cp(e,n){var s=Oe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&tf(n,l[1]))return l[0];if(l=e(),Pr){vt(!0);try{e()}finally{vt(!1)}}return s.memoizedState=[l,n],l}function df(e,n,s){return s===void 0||(Zi&1073741824)!==0&&(Yt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=hy(),Bt.lanes|=e,Us|=e,s)}function hp(e,n,s,l){return Cn(s,n)?s:Na.current!==null?(e=df(e,s,l),Cn(e,n)||(je=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(Yt&261930)===0?(je=!0,e.memoizedState=s):(e=hy(),Bt.lanes|=e,Us|=e,n)}function fp(e,n,s,l,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var p=H.T,E={};H.T=E,pf(e,!1,n,s);try{var O=h(),j=H.S;if(j!==null&&j(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var F=z0(O,l);$l(e,n,F,Vn(e))}else $l(e,n,l,Vn(e))}catch($){$l(e,n,{then:function(){},status:"rejected",reason:$},Vn())}finally{rt.p=f,p!==null&&E.types!==null&&(p.types=E.types),H.T=p}}function Q0(){}function mf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=dp(e).queue;fp(e,h,n,Tt,s===null?Q0:function(){return mp(e),s(l)})}function dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:Tt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function mp(e){var n=dp(e);n.next===null&&(n=e.alternate.memoizedState),$l(e,n.next.queue,{},Vn())}function gf(){return tn(mo)}function gp(){return Oe().memoizedState}function pp(){return Oe().memoizedState}function K0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Vn();e=Os(s);var l=Ms(n,e,s);l!==null&&(Tn(l,n,s),Fl(l,n,s)),n={cache:Hh()},e.payload=n;return}n=n.return}}function Y0(e,n,s){var l=Vn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?_p(n,s):(s=Mh(e,n,s,l),s!==null&&(Tn(s,e,l),vp(s,n,l)))}function yp(e,n,s){var l=Vn();$l(e,n,s,l)}function $l(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))_p(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,Cn(E,p))return vu(e,n,h,0),me===null&&_u(),!1}catch{}if(s=Mh(e,n,h,l),s!==null)return Tn(s,e,l),vp(s,n,l),!0}return!1}function pf(e,n,s,l){if(l={lane:2,revertLane:Yf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(a(479))}else n=Mh(e,s,l,2),n!==null&&Tn(n,e,2)}function ju(e){var n=e.alternate;return e===Bt||n!==null&&n===Bt}function _p(e,n){Da=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function vp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,_l(e,s)}}var Zl={readContext:tn,use:ku,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Zl.useEffectEvent=we;var Ep={readContext:tn,use:ku,useCallback:function(e,n){return mn().memoizedState=[e,n===void 0?null:n],e},useContext:tn,useEffect:ip,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Uu(4194308,4,lp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Uu(4194308,4,e,n)},useInsertionEffect:function(e,n){Uu(4,2,e,n)},useMemo:function(e,n){var s=mn();n=n===void 0?null:n;var l=e();if(Pr){vt(!0);try{e()}finally{vt(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=mn();if(s!==void 0){var h=s(n);if(Pr){vt(!0);try{s(n)}finally{vt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=Y0.bind(null,Bt,e),[l.memoizedState,e]},useRef:function(e){var n=mn();return e={current:e},n.memoizedState=e},useState:function(e){e=uf(e);var n=e.queue,s=yp.bind(null,Bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:ff,useDeferredValue:function(e,n){var s=mn();return df(s,e,n)},useTransition:function(){var e=uf(!1);return e=fp.bind(null,Bt,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Bt,h=mn();if(Wt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),me===null)throw Error(a(349));(Yt&127)!==0||Bg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,ip(Hg.bind(null,l,f,e),[e]),l.flags|=2048,Ma(9,{destroy:void 0},qg.bind(null,l,f,s,n),null),s},useId:function(){var e=mn(),n=me.identifierPrefix;if(Wt){var s=Ni,l=Ii;s=(l&~(1<<32-nt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Vu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=B0++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:gf,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var n=mn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=pf.bind(null,Bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:af,useCacheRefresh:function(){return mn().memoizedState=K0.bind(null,Bt)},useEffectEvent:function(e){var n=mn(),s={impl:e};return n.memoizedState=s,function(){if((se&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},yf={readContext:tn,use:ku,useCallback:up,useContext:tn,useEffect:hf,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:cp,useReducer:Lu,useRef:np,useState:function(){return Lu(Ji)},useDebugValue:ff,useDeferredValue:function(e,n){var s=Oe();return hp(s,he.memoizedState,e,n)},useTransition:function(){var e=Lu(Ji)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Xl(e),n]},useSyncExternalStore:zg,useId:gp,useHostTransitionStatus:gf,useFormState:Wg,useActionState:Wg,useOptimistic:function(e,n){var s=Oe();return Qg(s,he,e,n)},useMemoCache:af,useCacheRefresh:pp};yf.useEffectEvent=sp;var Tp={readContext:tn,use:ku,useCallback:up,useContext:tn,useEffect:hf,useImperativeHandle:op,useInsertionEffect:rp,useLayoutEffect:ap,useMemo:cp,useReducer:of,useRef:np,useState:function(){return of(Ji)},useDebugValue:ff,useDeferredValue:function(e,n){var s=Oe();return he===null?df(s,e,n):hp(s,he.memoizedState,e,n)},useTransition:function(){var e=of(Ji)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Xl(e),n]},useSyncExternalStore:zg,useId:gp,useHostTransitionStatus:gf,useFormState:ep,useActionState:ep,useOptimistic:function(e,n){var s=Oe();return he!==null?Qg(s,he,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:af,useCacheRefresh:pp};Tp.useEffectEvent=sp;function _f(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:C({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var vf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Vn(),h=Os(l);h.payload=n,s!=null&&(h.callback=s),n=Ms(e,h,l),n!==null&&(Tn(n,e,l),Fl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Vn(),h=Os(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ms(e,h,l),n!==null&&(Tn(n,e,l),Fl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Vn(),l=Os(s);l.tag=2,n!=null&&(l.callback=n),n=Ms(e,l,s),n!==null&&(Tn(n,e,s),Fl(n,e,s))}};function Sp(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ul(s,l)||!Ul(h,f):!0}function Ap(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&vf.enqueueReplaceState(n,n.state,null)}function jr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=C({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function bp(e){yu(e)}function wp(e){console.error(e)}function Rp(e){yu(e)}function zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Cp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ef(e,n,s){return s=Os(s),s.tag=3,s.payload={element:null},s.callback=function(){zu(e,n)},s}function Ip(e){return e=Os(e),e.tag=3,e}function Np(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Cp(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Cp(n,s,l),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function X0(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ba(n,s,h,!0),s=Nn.current,s!==null){switch(s.tag){case 31:case 13:return Gn===null?Ju():s.alternate===null&&Re===0&&(Re=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Cu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Ff(e,l,h)),!1;case 22:return s.flags|=65536,l===Cu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Ff(e,l,h)),!1}throw Error(a(435,s.tag))}return Ff(e,l,h),Ju(),!1}if(Wt)return n=Nn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ph&&(e=Error(a(422),{cause:l}),zl(zn(e,s)))):(l!==Ph&&(n=Error(a(423),{cause:l}),zl(zn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=zn(l,s),h=Ef(e.stateNode,l,h),Xh(e,h),Re!==4&&(Re=2)),!1;var f=Error(a(520),{cause:l});if(f=zn(f,s),ro===null?ro=[f]:ro.push(f),Re!==4&&(Re=2),n===null)return!0;l=zn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Ef(s.stateNode,l,e),Xh(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Ip(h),Np(h,e,s,l),Xh(s,h),!1}s=s.return}while(s!==null);return!1}var Tf=Error(a(461)),je=!1;function en(e,n,s,l){n.child=e===null?Vg(n,null,s,l):Ur(n,e.child,s,l)}function Dp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Vr(n),l=ef(e,n,s,p,f,h),E=nf(),e!==null&&!je?(sf(e,n,h),Wi(e,n,h)):(Wt&&E&&Lh(n),n.flags|=1,en(e,n,l,h),n.child)}function Op(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Vh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Mp(e,n,f,l,h)):(e=Tu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Nf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ul,s(p,l)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Ki(f,l),e.ref=n.ref,e.return=n,n.child=e}function Mp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Ul(f,l)&&e.ref===n.ref)if(je=!1,n.pendingProps=l=f,Nf(e,h))(e.flags&131072)!==0&&(je=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return Sf(e,n,s,l,h)}function Vp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return xp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&wu(n,f!==null?f.cachePool:null),f!==null?Lg(n,f):Zh(),Ug(n);else return l=n.lanes=536870912,xp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(wu(n,f.cachePool),Lg(n,f),xs(),n.memoizedState=null):(e!==null&&wu(n,null),Zh(),xs());return en(e,n,h,s),n.child}function Jl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function xp(e,n,s,l,h){var f=Fh();return f=f===null?null:{parent:Ue._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&wu(n,null),Zh(),Ug(n),e!==null&&ba(e,n,l,!0),n.childLanes=h,null}function Bu(e,n){return n=Hu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function kp(e,n,s){return Ur(n,e.child,null,s),e=Bu(n,n.pendingProps),e.flags|=2,Dn(n),n.memoizedState=null,e}function $0(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Wt){if(l.mode==="hidden")return e=Bu(n,l),n.lanes=536870912,Jl(null,e);if(Wh(n),(e=ge)?(e=Ky(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},s=_g(e),s.return=n,n.child=s,We=n,ge=null)):e=null,e===null)throw Is(n);return n.lanes=536870912,null}return Bu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Wh(n),h)if(n.flags&256)n.flags&=-257,n=kp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(je||ba(e,n,s,!1),h=(s&e.childLanes)!==0,je||h){if(l=me,l!==null&&(p=vl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Nr(e,p),Tn(l,e,p),Tf;Ju(),n=kp(e,n,s)}else e=f.treeContext,ge=Fn(p.nextSibling),We=n,Wt=!0,Cs=null,Hn=!1,e!==null&&Tg(n,e),n=Bu(n,l),n.flags|=4096;return n}return e=Ki(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function qu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Sf(e,n,s,l,h){return Vr(n),s=ef(e,n,s,l,void 0,h),l=nf(),e!==null&&!je?(sf(e,n,h),Wi(e,n,h)):(Wt&&l&&Lh(n),n.flags|=1,en(e,n,s,h),n.child)}function Lp(e,n,s,l,h,f){return Vr(n),n.updateQueue=null,s=jg(n,l,s,h),Pg(e),l=nf(),e!==null&&!je?(sf(e,n,f),Wi(e,n,f)):(Wt&&l&&Lh(n),n.flags|=1,en(e,n,s,f),n.child)}function Up(e,n,s,l,h){if(Vr(n),n.stateNode===null){var f=Ea,p=s.contextType;typeof p=="object"&&p!==null&&(f=tn(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Kh(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?tn(p):Ea,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(_f(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&vf.enqueueReplaceState(f,f.state,null),Kl(n,l,f,h),Ql(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,O=jr(s,E);f.props=O;var j=f.context,F=s.contextType;p=Ea,typeof F=="object"&&F!==null&&(p=tn(F));var $=s.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&Ap(n,f,l,p),Ds=!1;var z=n.memoizedState;f.state=z,Kl(n,l,f,h),Ql(),j=n.memoizedState,E||z!==j||Ds?(typeof $=="function"&&(_f(n,s,$,l),j=n.memoizedState),(O=Ds||Sp(n,s,O,l,z,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=p,l=O):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Yh(e,n),p=n.memoizedProps,F=jr(s,p),f.props=F,$=n.pendingProps,z=f.context,j=s.contextType,O=Ea,typeof j=="object"&&j!==null&&(O=tn(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||z!==O)&&Ap(n,f,l,O),Ds=!1,z=n.memoizedState,f.state=z,Kl(n,l,f,h),Ql();var G=n.memoizedState;p!==$||z!==G||Ds||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(_f(n,s,E,l),G=n.memoizedState),(F=Ds||Sp(n,s,F,l,z,G,O)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,O)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=O,l=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,qu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Ur(n,e.child,null,h),n.child=Ur(n,null,s,h)):en(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function Pp(e,n,s,l){return Or(),n.flags|=256,en(e,n,s,l),n.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bf(e){return{baseLanes:e,cachePool:Cg()}}function wf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Mn),e}function jp(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Wt){if(h?Vs(n):xs(),(e=ge)?(e=Ky(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:Ii,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},s=_g(e),s.return=n,n.child=s,We=n,ge=null)):e=null,e===null)throw Is(n);return ld(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(xs(),h=n.mode,E=Hu({mode:"hidden",children:E},h),l=Dr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=bf(s),l.childLanes=wf(e,p,s),n.memoizedState=Af,Jl(null,l)):(Vs(n),Rf(n,E))}var O=e.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(f)n.flags&256?(Vs(n),n.flags&=-257,n=Cf(e,n,s)):n.memoizedState!==null?(xs(),n.child=e.child,n.flags|=128,n=null):(xs(),E=l.fallback,h=n.mode,l=Hu({mode:"visible",children:l.children},h),E=Dr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Ur(n,e.child,null,s),l=n.child,l.memoizedState=bf(s),l.childLanes=wf(e,p,s),n.memoizedState=Af,n=Jl(null,l));else if(Vs(n),ld(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,l=Error(a(419)),l.stack="",l.digest=p,zl({value:l,source:null,stack:null}),n=Cf(e,n,s)}else if(je||ba(e,n,s,!1),p=(s&e.childLanes)!==0,je||p){if(p=me,p!==null&&(l=vl(p,s),l!==0&&l!==O.retryLane))throw O.retryLane=l,Nr(e,l),Tn(p,e,l),Tf;ad(E)||Ju(),n=Cf(e,n,s)}else ad(E)?(n.flags|=192,n.child=e.child,n=null):(e=O.treeContext,ge=Fn(E.nextSibling),We=n,Wt=!0,Cs=null,Hn=!1,e!==null&&Tg(n,e),n=Rf(n,l.children),n.flags|=4096);return n}return h?(xs(),E=l.fallback,h=n.mode,O=e.child,j=O.sibling,l=Ki(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,j!==null?E=Ki(j,E):(E=Dr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Jl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=bf(s):(h=E.cachePool,h!==null?(O=Ue._currentValue,h=h.parent!==O?{parent:O,pool:O}:h):h=Cg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=wf(e,p,s),n.memoizedState=Af,Jl(e.child,l)):(Vs(n),s=e.child,e=s.sibling,s=Ki(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Rf(e,n){return n=Hu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Hu(e,n){return e=In(22,e,null,n),e.lanes=0,e}function Cf(e,n,s){return Ur(n,e.child,null,s),e=Rf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Bh(e.return,n,s)}function If(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Bp(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=De.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,ot(De,p),en(e,n,l,s),l=Wt?jl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zp(e,s,n);else if(e.tag===19)zp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),If(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}If(n,!0,s,null,f,l);break;case"together":If(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Wi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Us|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ba(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function Z0(e,n,s){switch(n.tag){case 3:K(n,n.stateNode.containerInfo),Ns(n,Ue,e.memoizedState.cache),Or();break;case 27:case 5:yt(n);break;case 4:K(n,n.stateNode.containerInfo);break;case 10:Ns(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Wh(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?jp(e,n,s):(Vs(n),e=Wi(e,n,s),e!==null?e.sibling:null);Vs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ba(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Bp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(De,De.current),l)break;return null;case 22:return n.lanes=0,Vp(e,n,s,n.pendingProps);case 24:Ns(n,Ue,e.memoizedState.cache)}return Wi(e,n,s)}function qp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)je=!0;else{if(!Nf(e,s)&&(n.flags&128)===0)return je=!1,Z0(e,n,s);je=(e.flags&131072)!==0}else je=!1,Wt&&(n.flags&1048576)!==0&&Eg(n,jl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")Vh(e)?(l=jr(e,l),n.tag=1,n=Up(null,n,e,l,s)):(n.tag=0,n=Sf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===bt){n.tag=11,n=Dp(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=Op(null,n,e,l,s);break t}}throw n=xt(e)||e,Error(a(306,n,""))}}return n;case 0:return Sf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=jr(l,n.pendingProps),Up(e,n,l,h,s);case 3:t:{if(K(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Yh(e,n),Kl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Ns(n,Ue,l),l!==f.cache&&qh(n,[Ue],s,!0),Ql(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pp(e,n,l,s);break t}else if(l!==h){h=zn(Error(a(424)),n),zl(h),n=Pp(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ge=Fn(e.firstChild),We=n,Wt=!0,Cs=null,Hn=!0,s=Vg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Or(),l===h){n=Wi(e,n,s);break t}en(e,n,l,s)}n=n.child}return n;case 26:return qu(e,n),e===null?(s=Wy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Wt||(s=n.type,e=n.pendingProps,l=rc(Ot.current).createElement(s),l[xe]=n,l[Qe]=e,nn(l,s,e),ke(l),n.stateNode=l):n.memoizedState=Wy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return yt(n),e===null&&Wt&&(l=n.stateNode=$y(n.type,n.pendingProps,Ot.current),We=n,Hn=!0,h=ge,qs(n.type)?(od=h,ge=Fn(l.firstChild)):ge=h),en(e,n,n.pendingProps.children,s),qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Wt&&((h=l=ge)&&(l=CS(l,n.type,n.pendingProps,Hn),l!==null?(n.stateNode=l,We=n,ge=Fn(l.firstChild),Hn=!1,h=!0):h=!1),h||Is(n)),yt(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,id(h,f)?l=null:p!==null&&id(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=ef(e,n,q0,null,null,s),mo._currentValue=h),qu(e,n),en(e,n,l,s),n.child;case 6:return e===null&&Wt&&((e=s=ge)&&(s=IS(s,n.pendingProps,Hn),s!==null?(n.stateNode=s,We=n,ge=null,e=!0):e=!1),e||Is(n)),null;case 13:return jp(e,n,s);case 4:return K(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ur(n,null,l,s):en(e,n,l,s),n.child;case 11:return Dp(e,n,n.type,n.pendingProps,s);case 7:return en(e,n,n.pendingProps,s),n.child;case 8:return en(e,n,n.pendingProps.children,s),n.child;case 12:return en(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ns(n,n.type,l.value),en(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Vr(n),h=tn(h),l=l(h),n.flags|=1,en(e,n,l,s),n.child;case 14:return Op(e,n,n.type,n.pendingProps,s);case 15:return Mp(e,n,n.type,n.pendingProps,s);case 19:return Bp(e,n,s);case 31:return $0(e,n,s);case 22:return Vp(e,n,s,n.pendingProps);case 24:return Vr(n),l=tn(Ue),e===null?(h=Fh(),h===null&&(h=me,f=Hh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Kh(n),Ns(n,Ue,h)):((e.lanes&s)!==0&&(Yh(e,n),Kl(n,null,null,s),Ql()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ns(n,Ue,l)):(l=f.cache,Ns(n,Ue,l),l!==h.cache&&qh(n,[Ue],s,!0))),en(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(e){e.flags|=4}function Df(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(gy())e.flags|=8192;else throw Lr=Cu,Qh}else e.flags&=-16777217}function Hp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!s_(n))if(gy())e.flags|=8192;else throw Lr=Cu,Qh}function Gu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$o():536870912,e.lanes|=n,La|=n)}function Wl(e,n){if(!Wt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function J0(e,n,s){var l=n.pendingProps;switch(Uh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(n),null;case 1:return pe(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),$i(Ue),st(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Aa(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,jh())),pe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(pe(n),Hp(n,f)):(pe(n),Df(n,h,null,l,s))):f?f!==e.memoizedState?(ts(n),pe(n),Hp(n,f)):(pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&ts(n),pe(n),Df(n,h,e,l,s)),null;case 27:if(dt(n),s=Ot.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ts(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pe(n),null}e=at.current,Aa(n)?Sg(n):(e=$y(h,l,s),n.stateNode=e,ts(n))}return pe(n),null;case 5:if(dt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ts(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return pe(n),null}if(f=at.current,Aa(n))Sg(n);else{var p=rc(Ot.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[xe]=n,f[Qe]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(nn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ts(n)}}return pe(n),Df(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ts(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ot.current,Aa(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[xe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||jy(e.nodeValue,s)),e||Is(n,!0)}else e=rc(e).createTextNode(l),e[xe]=n,n.stateNode=e}return pe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Aa(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xe]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),e=!1}else s=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Dn(n),n):(Dn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return pe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Aa(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xe]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;pe(n),h=!1}else h=jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Dn(n),n):(Dn(n),null)}return Dn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Gu(n,n.updateQueue),pe(n),null);case 4:return st(),e===null&&Jf(n.stateNode.containerInfo),pe(n),null;case 10:return $i(n.type),pe(n),null;case 19:if(Q(De),l=n.memoizedState,l===null)return pe(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Wl(l,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Wl(l,!1),e=f.updateQueue,n.updateQueue=e,Gu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)yg(s,e),s=s.sibling;return ot(De,De.current&1|2),Wt&&Yi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ze()>Xu&&(n.flags|=128,h=!0,Wl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Gu(n,e),Wl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Wt)return pe(n),null}else 2*Ze()-l.renderingStartTime>Xu&&s!==536870912&&(n.flags|=128,h=!0,Wl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ze(),e.sibling=null,s=De.current,ot(De,h?s&1|2:s&1),Wt&&Yi(n,l.treeForkCount),e):(pe(n),null);case 22:case 23:return Dn(n),Jh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(pe(n),n.subtreeFlags&6&&(n.flags|=8192)):pe(n),s=n.updateQueue,s!==null&&Gu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Q(xr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(Ue),pe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function W0(e,n){switch(Uh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(Ue),st(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return dt(n),null;case 31:if(n.memoizedState!==null){if(Dn(n),n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Dn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(De),null;case 4:return st(),null;case 10:return $i(n.type),null;case 22:case 23:return Dn(n),Jh(),e!==null&&Q(xr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(Ue),null;case 25:return null;default:return null}}function Gp(e,n){switch(Uh(n),n.tag){case 3:$i(Ue),st();break;case 26:case 27:case 5:dt(n);break;case 4:st();break;case 31:n.memoizedState!==null&&Dn(n);break;case 13:Dn(n);break;case 19:Q(De);break;case 10:$i(n.type);break;case 22:case 23:Dn(n),Jh(),e!==null&&Q(xr);break;case 24:$i(Ue)}}function to(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){ue(n,n.return,E)}}function ks(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var O=s,j=E;try{j()}catch(F){ue(h,O,F)}}}l=l.next}while(l!==f)}}catch(F){ue(n,n.return,F)}}function Fp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{kg(n,s)}catch(l){ue(e,e.return,l)}}}function Qp(e,n,s){s.props=jr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){ue(e,n,l)}}function eo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){ue(e,n,h)}}function Di(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){ue(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ue(e,n,h)}else s.current=null}function Kp(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){ue(e,e.return,h)}}function Of(e,n,s){try{var l=e.stateNode;TS(l,e.type,s,n),l[Qe]=n}catch(h){ue(e,e.return,h)}}function Yp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qs(e.type)||e.tag===4}function Mf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Yp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(l!==4&&(l===27&&qs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Vf(e,n,s),e=e.sibling;e!==null;)Vf(e,n,s),e=e.sibling}function Fu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&qs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Fu(e,n,s),e=e.sibling;e!==null;)Fu(e,n,s),e=e.sibling}function Xp(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);nn(n,l,s),n[xe]=e,n[Qe]=s}catch(f){ue(e,e.return,f)}}var es=!1,ze=!1,xf=!1,$p=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function tS(e,n){if(e=e.containerInfo,ed=fc,e=og(e),Rh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,O=-1,j=0,F=0,$=e,z=null;e:for(;;){for(var G;$!==s||h!==0&&$.nodeType!==3||(E=p+h),$!==f||l!==0&&$.nodeType!==3||(O=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(G=$.firstChild)!==null;)z=$,$=G;for(;;){if($===e)break e;if(z===s&&++j===h&&(E=p),z===f&&++F===l&&(O=p),(G=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=G}s=E===-1||O===-1?null:{start:E,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(nd={focusedElem:e,selectionRange:s},fc=!1,Ye=n;Ye!==null;)if(n=Ye,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ye=e;else for(;Ye!==null;){switch(n=Ye,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var _t=jr(s.type,h);e=l.getSnapshotBeforeUpdate(_t,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Nt){ue(s,s.return,Nt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ye=e;break}Ye=n.return}}function Zp(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:is(e,s),l&4&&to(5,s);break;case 1:if(is(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){ue(s,s.return,p)}else{var h=jr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){ue(s,s.return,p)}}l&64&&Fp(s),l&512&&eo(s,s.return);break;case 3:if(is(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{kg(e,n)}catch(p){ue(s,s.return,p)}}break;case 27:n===null&&l&4&&Xp(s);case 26:case 5:is(e,s),n===null&&l&4&&Kp(s),l&512&&eo(s,s.return);break;case 12:is(e,s);break;case 31:is(e,s),l&4&&ty(e,s);break;case 13:is(e,s),l&4&&ey(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=uS.bind(null,s),NS(e,s))));break;case 22:if(l=s.memoizedState!==null||es,!l){n=n!==null&&n.memoizedState!==null||ze,h=es;var f=ze;es=l,(ze=n)&&!f?ss(e,s,(s.subtreeFlags&8772)!==0):is(e,s),es=h,ze=f}break;case 30:break;default:is(e,s)}}function Jp(e){var n=e.alternate;n!==null&&(e.alternate=null,Jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&aa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,yn=!1;function ns(e,n,s){for(s=s.child;s!==null;)Wp(e,n,s),s=s.sibling}function Wp(e,n,s){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(X,s)}catch{}switch(s.tag){case 26:ze||Di(s,n),ns(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ze||Di(s,n);var l=Ee,h=yn;qs(s.type)&&(Ee=s.stateNode,yn=!1),ns(e,n,s),co(s.stateNode),Ee=l,yn=h;break;case 5:ze||Di(s,n);case 6:if(l=Ee,h=yn,Ee=null,ns(e,n,s),Ee=l,yn=h,Ee!==null)if(yn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(s.stateNode)}catch(f){ue(s,n,f)}else try{Ee.removeChild(s.stateNode)}catch(f){ue(s,n,f)}break;case 18:Ee!==null&&(yn?(e=Ee,Fy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ga(e)):Fy(Ee,s.stateNode));break;case 4:l=Ee,h=yn,Ee=s.stateNode.containerInfo,yn=!0,ns(e,n,s),Ee=l,yn=h;break;case 0:case 11:case 14:case 15:ks(2,s,n),ze||ks(4,s,n),ns(e,n,s);break;case 1:ze||(Di(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Qp(s,n,l)),ns(e,n,s);break;case 21:ns(e,n,s);break;case 22:ze=(l=ze)||s.memoizedState!==null,ns(e,n,s),ze=l;break;default:ns(e,n,s)}}function ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ga(e)}catch(s){ue(n,n.return,s)}}}function ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ga(e)}catch(s){ue(n,n.return,s)}}function eS(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new $p),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new $p),n;default:throw Error(a(435,e.tag))}}function Qu(e,n){var s=eS(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=cS.bind(null,e,l);l.then(h,h)}})}function _n(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(qs(E.type)){Ee=E.stateNode,yn=!1;break t}break;case 5:Ee=E.stateNode,yn=!1;break t;case 3:case 4:Ee=E.stateNode.containerInfo,yn=!0;break t}E=E.return}if(Ee===null)throw Error(a(160));Wp(f,p,h),Ee=null,yn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ny(n,e),n=n.sibling}var si=null;function ny(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_n(n,e),vn(e),l&4&&(ks(3,e,e.return),to(3,e),ks(5,e,e.return));break;case 1:_n(n,e),vn(e),l&512&&(ze||s===null||Di(s,s.return)),l&64&&es&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=si;if(_n(n,e),vn(e),l&512&&(ze||s===null||Di(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),nn(f,l,s),f[xe]=e,ke(f),l=f;break t;case"link":var p=n_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),nn(f,l,s),h.head.appendChild(f);break;case"meta":if(p=n_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),nn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[xe]=e,ke(f),l=f}e.stateNode=l}else i_(h,e.type,e.stateNode);else e.stateNode=e_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?i_(h,e.type,e.stateNode):e_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Of(e,e.memoizedProps,s.memoizedProps)}break;case 27:_n(n,e),vn(e),l&512&&(ze||s===null||Di(s,s.return)),s!==null&&l&4&&Of(e,e.memoizedProps,s.memoizedProps);break;case 5:if(_n(n,e),vn(e),l&512&&(ze||s===null||Di(s,s.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(_t){ue(e,e.return,_t)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Of(e,h,s!==null?s.memoizedProps:h)),l&1024&&(xf=!0);break;case 6:if(_n(n,e),vn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(_t){ue(e,e.return,_t)}}break;case 3:if(oc=null,h=si,si=ac(n.containerInfo),_n(n,e),si=h,vn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ga(n.containerInfo)}catch(_t){ue(e,e.return,_t)}xf&&(xf=!1,iy(e));break;case 4:l=si,si=ac(e.stateNode.containerInfo),_n(n,e),vn(e),si=l;break;case 12:_n(n,e),vn(e);break;case 31:_n(n,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 13:_n(n,e),vn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yu=Ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 22:h=e.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,j=es,F=ze;if(es=j||h,ze=F||O,_n(n,e),ze=F,es=j,vn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||O||es||ze||zr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){O=s=n;try{if(f=O.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=O.stateNode;var $=O.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(_t){ue(O,O.return,_t)}}}else if(n.tag===6){if(s===null){O=n;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(_t){ue(O,O.return,_t)}}}else if(n.tag===18){if(s===null){O=n;try{var G=O.stateNode;h?Qy(G,!0):Qy(O.stateNode,!1)}catch(_t){ue(O,O.return,_t)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Qu(e,s))));break;case 19:_n(n,e),vn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Qu(e,l)));break;case 30:break;case 21:break;default:_n(n,e),vn(e)}}function vn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Yp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Mf(e);Fu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(pn(p,""),s.flags&=-33);var E=Mf(e);Fu(e,E,p);break;case 3:case 4:var O=s.stateNode.containerInfo,j=Mf(e);Vf(e,j,O);break;default:throw Error(a(161))}}catch(F){ue(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zp(e,n.alternate,n),n=n.sibling}function zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ks(4,n,n.return),zr(n);break;case 1:Di(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Qp(n,n.return,s),zr(n);break;case 27:co(n.stateNode);case 26:case 5:Di(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}e=e.sibling}}function ss(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,s),to(4,f);break;case 1:if(ss(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ue(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)xg(O[h],E)}catch(j){ue(l,l.return,j)}}s&&p&64&&Fp(f),eo(f,f.return);break;case 27:Xp(f);case 26:case 5:ss(h,f,s),s&&l===null&&p&4&&Kp(f),eo(f,f.return);break;case 12:ss(h,f,s);break;case 31:ss(h,f,s),s&&p&4&&ty(h,f);break;case 13:ss(h,f,s),s&&p&4&&ey(h,f);break;case 22:f.memoizedState===null&&ss(h,f,s),eo(f,f.return);break;case 30:break;default:ss(h,f,s)}n=n.sibling}}function kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Bl(s))}function Lf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bl(e))}function ri(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)sy(e,n,s,l),n=n.sibling}function sy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,s,l),h&2048&&to(9,n);break;case 1:ri(e,n,s,l);break;case 3:ri(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bl(e)));break;case 12:if(h&2048){ri(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){ue(n,n.return,O)}}else ri(e,n,s,l);break;case 31:ri(e,n,s,l);break;case 13:ri(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,s,l):no(e,n):f._visibility&2?ri(e,n,s,l):(f._visibility|=2,Va(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&kf(p,n);break;case 24:ri(e,n,s,l),h&2048&&Lf(n.alternate,n);break;default:ri(e,n,s,l)}}function Va(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,O=l,j=p.flags;switch(p.tag){case 0:case 11:case 15:Va(f,p,E,O,h),to(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Va(f,p,E,O,h):no(f,p):(F._visibility|=2,Va(f,p,E,O,h)),h&&j&2048&&kf(p.alternate,p);break;case 24:Va(f,p,E,O,h),h&&j&2048&&Lf(p.alternate,p);break;default:Va(f,p,E,O,h)}n=n.sibling}}function no(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:no(s,l),h&2048&&kf(l.alternate,l);break;case 24:no(s,l),h&2048&&Lf(l.alternate,l);break;default:no(s,l)}n=n.sibling}}var io=8192;function xa(e,n,s){if(e.subtreeFlags&io)for(e=e.child;e!==null;)ry(e,n,s),e=e.sibling}function ry(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&io&&e.memoizedState!==null&&BS(s,si,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var l=si;si=ac(e.stateNode.containerInfo),xa(e,n,s),si=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=io,io=16777216,xa(e,n,s),io=l):xa(e,n,s));break;default:xa(e,n,s)}}function ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function so(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ye=l,oy(l,e)}ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ly(e),e=e.sibling}function ly(e){switch(e.tag){case 0:case 11:case 15:so(e),e.flags&2048&&ks(9,e,e.return);break;case 3:so(e);break;case 12:so(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ku(e)):so(e);break;default:so(e)}}function Ku(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ye=l,oy(l,e)}ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ks(8,n,n.return),Ku(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Ku(n));break;default:Ku(n)}e=e.sibling}}function oy(e,n){for(;Ye!==null;){var s=Ye;switch(s.tag){case 0:case 11:case 15:ks(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ye=l;else t:for(s=e;Ye!==null;){l=Ye;var h=l.sibling,f=l.return;if(Jp(l),l===s){Ye=null;break t}if(h!==null){h.return=f,Ye=h;break t}Ye=f}}}var nS={getCacheForType:function(e){var n=tn(Ue),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return tn(Ue).controller.signal}},iS=typeof WeakMap=="function"?WeakMap:Map,se=0,me=null,Qt=null,Yt=0,oe=0,On=null,Ls=!1,ka=!1,Uf=!1,rs=0,Re=0,Us=0,Br=0,Pf=0,Mn=0,La=0,ro=null,En=null,jf=!1,Yu=0,uy=0,Xu=1/0,$u=null,Ps=null,He=0,js=null,Ua=null,as=0,zf=0,Bf=null,cy=null,ao=0,qf=null;function Vn(){return(se&2)!==0&&Yt!==0?Yt&-Yt:H.T!==null?Yf():Zo()}function hy(){if(Mn===0)if((Yt&536870912)===0||Wt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),Mn=e}else Mn=536870912;return e=Nn.current,e!==null&&(e.flags|=32),Mn}function Tn(e,n,s){(e===me&&(oe===2||oe===9)||e.cancelPendingCommit!==null)&&(Pa(e,0),zs(e,Yt,Mn,!1)),gr(e,s),((se&2)===0||e!==me)&&(e===me&&((se&2)===0&&(Br|=s),Re===4&&zs(e,Yt,Mn,!1)),Oi(e))}function fy(e,n,s){if((se&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=l?aS(e,n):Gf(e,n,!0),f=l;do{if(h===0){ka&&!l&&zs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!sS(s)){h=Gf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=ro;var O=E.current.memoizedState.isDehydrated;if(O&&(Pa(E,p).flags|=256),p=Gf(E,p,!1),p!==2){if(Uf&&!O){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=En,En=h,f!==null&&(En===null?En=f:En.push.apply(En,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Pa(e,0),zs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:zs(l,n,Mn,!Ls);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Yu+300-Ze(),10<h)){if(zs(l,n,Mn,!Ls),di(l,0,!0)!==0)break t;as=n,l.timeoutHandle=Hy(dy.bind(null,l,s,En,$u,jf,n,Mn,Br,La,Ls,f,"Throttled",-0,0),h);break t}dy(l,s,En,$u,jf,n,Mn,Br,La,Ls,f,null,-0,0)}}break}while(!0);Oi(e)}function dy(e,n,s,l,h,f,p,E,O,j,F,$,z,G){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},ry(n,f,$);var _t=(f&62914560)===f?Yu-Ze():(f&4194048)===f?uy-Ze():0;if(_t=qS($,_t),_t!==null){as=f,e.cancelPendingCommit=_t(Ty.bind(null,e,n,f,s,l,h,p,E,O,F,$,null,z,G)),zs(e,f,p,!j);return}}Ty(e,n,f,s,l,h,p,E,O)}function sS(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Cn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zs(e,n,s,l){n&=~Pf,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-nt(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&pr(e,s,n)}function Zu(){return(se&6)===0?(lo(0),!1):!0}function Hf(){if(Qt!==null){if(oe===0)var e=Qt.return;else e=Qt,Xi=Mr=null,rf(e),Ia=null,Hl=0,e=Qt;for(;e!==null;)Gp(e.alternate,e),e=e.return;Qt=null}}function Pa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,bS(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),as=0,Hf(),me=e,Qt=s=Ki(e.current,null),Yt=n,oe=0,On=null,Ls=!1,ka=Xn(e,n),Uf=!1,La=Mn=Pf=Br=Us=Re=0,En=ro=null,jf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-nt(l),f=1<<h;n|=e[h],l&=~f}return rs=n,_u(),s}function my(e,n){Bt=null,H.H=Zl,n===Ca||n===Ru?(n=Dg(),oe=3):n===Qh?(n=Dg(),oe=4):oe=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,Qt===null&&(Re=1,zu(e,zn(n,e.current)))}function gy(){var e=Nn.current;return e===null?!0:(Yt&4194048)===Yt?Gn===null:(Yt&62914560)===Yt||(Yt&536870912)!==0?e===Gn:!1}function py(){var e=H.H;return H.H=Zl,e===null?Zl:e}function yy(){var e=H.A;return H.A=nS,e}function Ju(){Re=4,Ls||(Yt&4194048)!==Yt&&Nn.current!==null||(ka=!0),(Us&134217727)===0&&(Br&134217727)===0||me===null||zs(me,Yt,Mn,!1)}function Gf(e,n,s){var l=se;se|=2;var h=py(),f=yy();(me!==e||Yt!==n)&&($u=null,Pa(e,n)),n=!1;var p=Re;t:do try{if(oe!==0&&Qt!==null){var E=Qt,O=On;switch(oe){case 8:Hf(),p=6;break t;case 3:case 2:case 9:case 6:Nn.current===null&&(n=!0);var j=oe;if(oe=0,On=null,ja(e,E,O,j),s&&ka){p=0;break t}break;default:j=oe,oe=0,On=null,ja(e,E,O,j)}}rS(),p=Re;break}catch(F){my(e,F)}while(!0);return n&&e.shellSuspendCounter++,Xi=Mr=null,se=l,H.H=h,H.A=f,Qt===null&&(me=null,Yt=0,_u()),p}function rS(){for(;Qt!==null;)_y(Qt)}function aS(e,n){var s=se;se|=2;var l=py(),h=yy();me!==e||Yt!==n?($u=null,Xu=Ze()+500,Pa(e,n)):ka=Xn(e,n);t:do try{if(oe!==0&&Qt!==null){n=Qt;var f=On;e:switch(oe){case 1:oe=0,On=null,ja(e,n,f,1);break;case 2:case 9:if(Ig(f)){oe=0,On=null,vy(n);break}n=function(){oe!==2&&oe!==9||me!==e||(oe=7),Oi(e)},f.then(n,n);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:Ig(f)?(oe=0,On=null,vy(n)):(oe=0,On=null,ja(e,n,f,7));break;case 5:var p=null;switch(Qt.tag){case 26:p=Qt.memoizedState;case 5:case 27:var E=Qt;if(p?s_(p):E.stateNode.complete){oe=0,On=null;var O=E.sibling;if(O!==null)Qt=O;else{var j=E.return;j!==null?(Qt=j,Wu(j)):Qt=null}break e}}oe=0,On=null,ja(e,n,f,5);break;case 6:oe=0,On=null,ja(e,n,f,6);break;case 8:Hf(),Re=6;break t;default:throw Error(a(462))}}lS();break}catch(F){my(e,F)}while(!0);return Xi=Mr=null,H.H=l,H.A=h,se=s,Qt!==null?0:(me=null,Yt=0,_u(),Re)}function lS(){for(;Qt!==null&&!pl();)_y(Qt)}function _y(e){var n=qp(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?Wu(e):Qt=n}function vy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Lp(s,n,n.pendingProps,n.type,void 0,Yt);break;case 11:n=Lp(s,n,n.pendingProps,n.type.render,n.ref,Yt);break;case 5:rf(n);default:Gp(s,n),n=Qt=yg(n,rs),n=qp(s,n,rs)}e.memoizedProps=e.pendingProps,n===null?Wu(e):Qt=n}function ja(e,n,s,l){Xi=Mr=null,rf(n),Ia=null,Hl=0;var h=n.return;try{if(X0(e,h,n,s,Yt)){Re=1,zu(e,zn(s,e.current)),Qt=null;return}}catch(f){if(h!==null)throw Qt=h,f;Re=1,zu(e,zn(s,e.current)),Qt=null;return}n.flags&32768?(Wt||l===1?e=!0:ka||(Yt&536870912)!==0?e=!1:(Ls=e=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ey(n,e)):Wu(n)}function Wu(e){var n=e;do{if((n.flags&32768)!==0){Ey(n,Ls);return}e=n.return;var s=J0(n.alternate,n,rs);if(s!==null){Qt=s;return}if(n=n.sibling,n!==null){Qt=n;return}Qt=n=e}while(n!==null);Re===0&&(Re=5)}function Ey(e,n){do{var s=W0(e.alternate,e);if(s!==null){s.flags&=32767,Qt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Qt=e;return}Qt=e=s}while(e!==null);Re=6,Qt=null}function Ty(e,n,s,l,h,f,p,E,O){e.cancelPendingCommit=null;do tc();while(He!==0);if((se&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Oh,Sh(e,s,f,p,E,O),e===me&&(Qt=me=null,Yt=0),Ua=n,js=e,as=s,zf=f,Bf=h,cy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hS(hi,function(){return Ry(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=rt.p,rt.p=2,p=se,se|=4;try{tS(e,n,s)}finally{se=p,rt.p=h,H.T=l}}He=1,Sy(),Ay(),by()}}function Sy(){if(He===1){He=0;var e=js,n=Ua,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=rt.p;rt.p=2;var h=se;se|=4;try{ny(n,e);var f=nd,p=og(e.containerInfo),E=f.focusedElem,O=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&lg(E.ownerDocument.documentElement,E)){if(O!==null&&Rh(E)){var j=O.start,F=O.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var $=E.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var G=z.getSelection(),_t=E.textContent.length,Nt=Math.min(O.start,_t),de=O.end===void 0?Nt:Math.min(O.end,_t);!G.extend&&Nt>de&&(p=de,de=Nt,Nt=p);var L=ag(E,Nt),x=ag(E,de);if(L&&x&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==x.node||G.focusOffset!==x.offset)){var P=$.createRange();P.setStart(L.node,L.offset),G.removeAllRanges(),Nt>de?(G.addRange(P),G.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),G.addRange(P))}}}}for($=[],G=E;G=G.parentNode;)G.nodeType===1&&$.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}fc=!!ed,nd=ed=null}finally{se=h,rt.p=l,H.T=s}}e.current=n,He=2}}function Ay(){if(He===2){He=0;var e=js,n=Ua,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=rt.p;rt.p=2;var h=se;se|=4;try{Zp(e,n.alternate,n)}finally{se=h,rt.p=l,H.T=s}}He=3}}function by(){if(He===4||He===3){He=0,ia();var e=js,n=Ua,s=as,l=cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?He=5:(He=0,Ua=js=null,wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ps=null),Hi(s),n=n.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(X,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=rt.p,rt.p=2,H.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{H.T=n,rt.p=h}}(as&3)!==0&&tc(),Oi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===qf?ao++:(ao=0,qf=e):ao=0,lo(0)}}function wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bl(n)))}function tc(){return Sy(),Ay(),by(),Ry()}function Ry(){if(He!==5)return!1;var e=js,n=zf;zf=0;var s=Hi(as),l=H.T,h=rt.p;try{rt.p=32>s?32:s,H.T=null,s=Bf,Bf=null;var f=js,p=as;if(He=0,Ua=js=null,as=0,(se&6)!==0)throw Error(a(331));var E=se;if(se|=4,ly(f.current),sy(f,f.current,p,s),se=E,lo(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(X,f)}catch{}return!0}finally{rt.p=h,H.T=l,wy(e,n)}}function Cy(e,n,s){n=zn(s,n),n=Ef(e.stateNode,n,2),e=Ms(e,n,2),e!==null&&(gr(e,2),Oi(e))}function ue(e,n,s){if(e.tag===3)Cy(e,e,s);else for(;n!==null;){if(n.tag===3){Cy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ps===null||!Ps.has(l))){e=zn(s,e),s=Ip(2),l=Ms(n,s,2),l!==null&&(Np(s,l,n,e),gr(l,2),Oi(l));break}}n=n.return}}function Ff(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new iS;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Uf=!0,h.add(s),e=oS.bind(null,e,n,s),n.then(e,e))}function oS(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,me===e&&(Yt&s)===s&&(Re===4||Re===3&&(Yt&62914560)===Yt&&300>Ze()-Yu?(se&2)===0&&Pa(e,0):Pf|=s,La===Yt&&(La=0)),Oi(e)}function Iy(e,n){n===0&&(n=$o()),e=Nr(e,n),e!==null&&(gr(e,n),Oi(e))}function uS(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Iy(e,s)}function cS(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Iy(e,s)}function hS(e,n){return Ce(e,n)}var ec=null,za=null,Qf=!1,nc=!1,Kf=!1,Bs=0;function Oi(e){e!==za&&e.next===null&&(za===null?ec=za=e:za=za.next=e),nc=!0,Qf||(Qf=!0,dS())}function lo(e,n){if(!Kf&&nc){Kf=!0;do for(var s=!1,l=ec;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-nt(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,My(l,f))}else f=Yt,f=di(l,l===me?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Xn(l,f)||(s=!0,My(l,f));l=l.next}while(s);Kf=!1}}function fS(){Ny()}function Ny(){nc=Qf=!1;var e=0;Bs!==0&&AS()&&(e=Bs);for(var n=Ze(),s=null,l=ec;l!==null;){var h=l.next,f=Dy(l,n);f===0?(l.next=null,s===null?ec=h:s.next=h,h===null&&(za=s)):(s=l,(e!==0||(f&3)!==0)&&(nc=!0)),l=h}He!==0&&He!==5||lo(e),Bs!==0&&(Bs=0)}function Dy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-nt(f),E=1<<p,O=h[p];O===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Th(E,n)):O<=n&&(e.expiredLanes|=E),f&=~E}if(n=me,s=Yt,s=di(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(oe===2||oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ci(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Xn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ci(l),Hi(s)){case 2:case 8:s=hr;break;case 32:s=hi;break;case 268435456:s=fr;break;default:s=hi}return l=Oy.bind(null,e),s=Ce(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ci(l),e.callbackPriority=2,e.callbackNode=null,2}function Oy(e,n){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(tc()&&e.callbackNode!==s)return null;var l=Yt;return l=di(e,e===me?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(fy(e,l,n),Dy(e,Ze()),e.callbackNode!=null&&e.callbackNode===s?Oy.bind(null,e):null)}function My(e,n){if(tc())return null;fy(e,n,!0)}function dS(){wS(function(){(se&6)!==0?Ce(cr,fS):Ny()})}function Yf(){if(Bs===0){var e=wa;e===0&&(e=re,re<<=1,(re&261888)===0&&(re=256)),Bs=e}return Bs}function Vy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ca(""+e)}function xy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function mS(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Vy((h[Qe]||null).action),p=l.submitter;p&&(n=(n=p[Qe]||null)?Vy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new bi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var O=p?xy(h,p):new FormData(h);mf(s,{pending:!0,data:O,method:h.method,action:f},null,O)}}else typeof f=="function"&&(E.preventDefault(),O=p?xy(h,p):new FormData(h),mf(s,{pending:!0,data:O,method:h.method,action:f},f,O))},currentTarget:h}]})}}for(var Xf=0;Xf<Dh.length;Xf++){var $f=Dh[Xf],gS=$f.toLowerCase(),pS=$f[0].toUpperCase()+$f.slice(1);ii(gS,"on"+pS)}ii(hg,"onAnimationEnd"),ii(fg,"onAnimationIteration"),ii(dg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(M0,"onTransitionRun"),ii(V0,"onTransitionStart"),ii(x0,"onTransitionCancel"),ii(mg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function ky(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],O=E.instance,j=E.currentTarget;if(E=E.listener,O!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){yu(F)}h.currentTarget=null,f=O}else for(p=0;p<l.length;p++){if(E=l[p],O=E.instance,j=E.currentTarget,E=E.listener,O!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){yu(F)}h.currentTarget=null,f=O}}}}function Kt(e,n){var s=n[ra];s===void 0&&(s=n[ra]=new Set);var l=e+"__bubble";s.has(l)||(Ly(n,e,2,!1),s.add(l))}function Zf(e,n,s){var l=0;n&&(l|=4),Ly(s,e,l,n)}var ic="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[ic]){e[ic]=!0,El.forEach(function(s){s!=="selectionchange"&&(yS.has(s)||Zf(s,!1,e),Zf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ic]||(n[ic]=!0,Zf("selectionchange",!1,n))}}function Ly(e,n,s,l){switch(h_(n)){case 2:var h=FS;break;case 8:h=QS;break;default:h=dd}s=h.bind(null,n,s,e),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Wf(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var O=p.tag;if((O===3||O===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=yi(E),p===null)return;if(O=p.tag,O===5||O===6||O===26||O===27){l=f=p;continue t}E=E.parentNode}}l=l.return}Ss(function(){var j=f,F=Ln(s),$=[];t:{var z=gg.get(e);if(z!==void 0){var G=bi,_t=e;switch(e){case"keypress":if(Ar(s)===0)break t;case"keydown":case"keyup":G=mu;break;case"focusin":_t="focus",G=wr;break;case"focusout":_t="blur",G=wr;break;case"beforeblur":case"afterblur":G=wr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Vl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case hg:case fg:case dg:G=lu;break;case mg:G=T;break;case"scroll":case"scrollend":G=Ml;break;case"wheel":G=q;break;case"copy":case"cut":case"paste":G=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Qi;break;case"toggle":case"beforetoggle":G=zt}var Nt=(n&4)!==0,de=!Nt&&(e==="scroll"||e==="scrollend"),L=Nt?z!==null?z+"Capture":null:z;Nt=[];for(var x=j,P;x!==null;){var Y=x;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||L===null||(Y=Wn(x,L),Y!=null&&Nt.push(uo(x,Y,P))),de)break;x=x.return}0<Nt.length&&(z=new G(z,_t,null,s,F),$.push({event:z,listeners:Nt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",z&&s!==Nl&&(_t=s.relatedTarget||s.fromElement)&&(yi(_t)||_t[gi]))break t;if((G||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,G?(_t=s.relatedTarget||s.toElement,G=j,_t=_t?yi(_t):null,_t!==null&&(de=c(_t),Nt=_t.tag,_t!==de||Nt!==5&&Nt!==27&&Nt!==6)&&(_t=null)):(G=null,_t=j),G!==_t)){if(Nt=Vl,Y="onMouseLeave",L="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(Nt=Qi,Y="onPointerLeave",L="onPointerEnter",x="pointer"),de=G==null?z:wn(G),P=_t==null?z:wn(_t),z=new Nt(Y,x+"leave",G,s,F),z.target=de,z.relatedTarget=P,Y=null,yi(F)===j&&(Nt=new Nt(L,x+"enter",_t,s,F),Nt.target=P,Nt.relatedTarget=de,Y=Nt),de=Y,G&&_t)e:{for(Nt=_S,L=G,x=_t,P=0,Y=L;Y;Y=Nt(Y))P++;Y=0;for(var At=x;At;At=Nt(At))Y++;for(;0<P-Y;)L=Nt(L),P--;for(;0<Y-P;)x=Nt(x),Y--;for(;P--;){if(L===x||x!==null&&L===x.alternate){Nt=L;break e}L=Nt(L),x=Nt(x)}Nt=null}else Nt=null;G!==null&&Uy($,z,G,Nt,!1),_t!==null&&de!==null&&Uy($,de,_t,Nt,!0)}}t:{if(z=j?wn(j):window,G=z.nodeName&&z.nodeName.toLowerCase(),G==="select"||G==="input"&&z.type==="file")var ee=tg;else if(Jm(z))if(eg)ee=N0;else{ee=C0;var Et=R0}else G=z.nodeName,!G||G.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ua(j.elementType)&&(ee=tg):ee=I0;if(ee&&(ee=ee(e,j))){Wm($,ee,s,F);break t}Et&&Et(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Rl(z,"number",z.value)}switch(Et=j?wn(j):window,e){case"focusin":(Jm(Et)||Et.contentEditable==="true")&&(ya=Et,Ch=j,Pl=null);break;case"focusout":Pl=Ch=ya=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,ug($,s,F);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":ug($,s,F)}var qt;if(ie)t:{switch(e){case"compositionstart":var Xt="onCompositionStart";break t;case"compositionend":Xt="onCompositionEnd";break t;case"compositionupdate":Xt="onCompositionUpdate";break t}Xt=void 0}else pa?Rr(e,s)&&(Xt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Xt="onCompositionStart");Xt&&(Ci&&s.locale!=="ko"&&(pa||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&pa&&(qt=Ol()):(Ai=F,Dl="value"in Ai?Ai.value:Ai.textContent,pa=!0)),Et=sc(j,Xt),0<Et.length&&(Xt=new Ri(Xt,e,null,s,F),$.push({event:Xt,listeners:Et}),qt?Xt.data=qt:(qt=ga(s),qt!==null&&(Xt.data=qt)))),(qt=Pn?S0(e,s):A0(e,s))&&(Xt=sc(j,"onBeforeInput"),0<Xt.length&&(Et=new Ri("onBeforeInput","beforeinput",null,s,F),$.push({event:Et,listeners:Xt}),Et.data=qt)),mS($,e,j,s,F)}ky($,n)})}function uo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function sc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,s),h!=null&&l.unshift(uo(e,h,f)),h=Wn(e,n),h!=null&&l.push(uo(e,h,f))),e.tag===3)return l;e=e.return}return[]}function _S(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uy(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,O=E.alternate,j=E.stateNode;if(E=E.tag,O!==null&&O===l)break;E!==5&&E!==26&&E!==27||j===null||(O=j,h?(j=Wn(s,f),j!=null&&p.unshift(uo(s,j,O))):h||(j=Wn(s,f),j!=null&&p.push(uo(s,j,O)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var vS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function Py(e){return(typeof e=="string"?e:""+e).replace(vS,`
`).replace(ES,"")}function jy(e,n){return n=Py(n),Py(e)===n}function fe(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(e,""+l);break;case"className":Rn(e,"class",l);break;case"tabIndex":Rn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(e,s,l);break;case"style":Il(e,l,f);break;case"data":if(n!=="object"){Rn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ca(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&fe(e,n,"name",h.name,h,null),fe(e,n,"formEncType",h.formEncType,h,null),fe(e,n,"formMethod",h.formMethod,h,null),fe(e,n,"formTarget",h.formTarget,h,null)):(fe(e,n,"encType",h.encType,h,null),fe(e,n,"method",h.method,h,null),fe(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ca(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"onScroll":l!=null&&Kt("scroll",e);break;case"onScrollEnd":l!=null&&Kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ca(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Kt("beforetoggle",e),Kt("toggle",e),la(e,"popover",l);break;case"xlinkActuate":Le(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":la(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=su.get(s)||s,la(e,s,l))}}function td(e,n,s,l,h,f){switch(s){case"style":Il(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?pn(e,l):(typeof l=="number"||typeof l=="bigint")&&pn(e,""+l);break;case"onScroll":l!=null&&Kt("scroll",e);break;case"onScrollEnd":l!=null&&Kt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):la(e,s,l)}}}function nn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",e),Kt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:fe(e,n,f,p,s,null)}}h&&fe(e,n,"srcSet",s.srcSet,s,null),l&&fe(e,n,"src",s.src,s,null);return;case"input":Kt("invalid",e);var E=f=p=h=null,O=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":O=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:fe(e,n,l,F,s,null)}}eu(e,f,E,O,j,p,h,!1);return;case"select":Kt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:fe(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?_s(e,!!l,n,!1):s!=null&&_s(e,!!l,s,!0);return;case"textarea":Kt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:fe(e,n,p,E,s,null)}vs(e,l,h,f);return;case"option":for(O in s)s.hasOwnProperty(O)&&(l=s[O],l!=null)&&(O==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":fe(e,n,O,l,s,null));return;case"dialog":Kt("beforetoggle",e),Kt("toggle",e),Kt("cancel",e),Kt("close",e);break;case"iframe":case"object":Kt("load",e);break;case"video":case"audio":for(l=0;l<oo.length;l++)Kt(oo[l],e);break;case"image":Kt("error",e),Kt("load",e);break;case"details":Kt("toggle",e);break;case"embed":case"source":case"link":Kt("error",e),Kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:fe(e,n,j,l,s,null)}return;default:if(ua(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&td(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&fe(e,n,E,l,s,null))}function TS(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,O=null,j=null,F=null;for(G in s){var $=s[G];if(s.hasOwnProperty(G)&&$!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=$;default:l.hasOwnProperty(G)||fe(e,n,G,null,l,$)}}for(var z in l){var G=l[z];if($=s[z],l.hasOwnProperty(z)&&(G!=null||$!=null))switch(z){case"type":f=G;break;case"name":h=G;break;case"checked":j=G;break;case"defaultChecked":F=G;break;case"value":p=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==$&&fe(e,n,z,G,l,$)}}oa(e,p,E,O,j,F,f,h);return;case"select":G=p=E=z=null;for(f in s)if(O=s[f],s.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":G=O;default:l.hasOwnProperty(f)||fe(e,n,f,null,l,O)}for(h in l)if(f=l[h],O=s[h],l.hasOwnProperty(h)&&(f!=null||O!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==O&&fe(e,n,h,f,l,O)}n=E,s=p,l=G,z!=null?_s(e,!!s,z,!1):!!l!=!!s&&(n!=null?_s(e,!!s,n,!0):_s(e,!!s,s?[]:"",!1));return;case"textarea":G=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:fe(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&fe(e,n,p,h,l,f)}nu(e,z,G);return;case"option":for(var _t in s)z=s[_t],s.hasOwnProperty(_t)&&z!=null&&!l.hasOwnProperty(_t)&&(_t==="selected"?e.selected=!1:fe(e,n,_t,null,l,z));for(O in l)z=l[O],G=s[O],l.hasOwnProperty(O)&&z!==G&&(z!=null||G!=null)&&(O==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":fe(e,n,O,z,l,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in s)z=s[Nt],s.hasOwnProperty(Nt)&&z!=null&&!l.hasOwnProperty(Nt)&&fe(e,n,Nt,null,l,z);for(j in l)if(z=l[j],G=s[j],l.hasOwnProperty(j)&&z!==G&&(z!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:fe(e,n,j,z,l,G)}return;default:if(ua(n)){for(var de in s)z=s[de],s.hasOwnProperty(de)&&z!==void 0&&!l.hasOwnProperty(de)&&td(e,n,de,void 0,l,z);for(F in l)z=l[F],G=s[F],!l.hasOwnProperty(F)||z===G||z===void 0&&G===void 0||td(e,n,F,z,l,G);return}}for(var L in s)z=s[L],s.hasOwnProperty(L)&&z!=null&&!l.hasOwnProperty(L)&&fe(e,n,L,null,l,z);for($ in l)z=l[$],G=s[$],!l.hasOwnProperty($)||z===G||z==null&&G==null||fe(e,n,$,z,l,G)}function zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function SS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&zy(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var O=s[l],j=O.startTime;if(j>E)break;var F=O.transferSize,$=O.initiatorType;F&&zy($)&&(O=O.responseEnd,p+=F*(O<E?1:(E-j)/(O-j)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,nd=null;function rc(e){return e.nodeType===9?e:e.ownerDocument}function By(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function id(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sd=null;function AS(){var e=window.event;return e&&e.type==="popstate"?e===sd?!1:(sd=e,!0):(sd=null,!1)}var Hy=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,Gy=typeof Promise=="function"?Promise:void 0,wS=typeof queueMicrotask=="function"?queueMicrotask:typeof Gy<"u"?function(e){return Gy.resolve(null).then(e).catch(RS)}:Hy;function RS(e){setTimeout(function(){throw e})}function qs(e){return e==="head"}function Fy(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Ga(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")co(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,co(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&co(e.ownerDocument.body);s=h}while(s);Ga(n)}function Qy(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":rd(s),aa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function CS(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function IS(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Fn(e.nextSibling),e===null))return null;return e}function Ky(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function ad(e){return e.data==="$?"||e.data==="$~"}function ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function NS(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var od=null;function Yy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Fn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function Xy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function $y(e,n,s){switch(n=rc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function co(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);aa(e)}var Qn=new Map,Zy=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=rt.d;rt.d={f:DS,r:OS,D:MS,C:VS,L:xS,m:kS,X:US,S:LS,M:PS};function DS(){var e=ls.f(),n=Zu();return e||n}function OS(e){var n=kn(e);n!==null&&n.tag===5&&n.type==="form"?mp(n):ls.r(e)}var Ba=typeof document>"u"?null:document;function Jy(e,n,s){var l=Ba;if(l&&typeof n=="string"&&n){var h=gn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Zy.has(h)||(Zy.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),nn(n,"link",e),ke(n),l.head.appendChild(n)))}}function MS(e){ls.D(e),Jy("dns-prefetch",e,null)}function VS(e,n){ls.C(e,n),Jy("preconnect",e,n)}function xS(e,n,s){ls.L(e,n,s);var l=Ba;if(l&&e&&n){var h='link[rel="preload"][as="'+gn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+gn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+gn(s.imageSizes)+'"]')):h+='[href="'+gn(e)+'"]';var f=h;switch(n){case"style":f=qa(e);break;case"script":f=Ha(e)}Qn.has(f)||(e=C({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Qn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(ho(f))||n==="script"&&l.querySelector(fo(f))||(n=l.createElement("link"),nn(n,"link",e),ke(n),l.head.appendChild(n)))}}function kS(e,n){ls.m(e,n);var s=Ba;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ha(e)}if(!Qn.has(f)&&(e=C({rel:"modulepreload",href:e},n),Qn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(fo(f)))return}l=s.createElement("link"),nn(l,"link",e),ke(l),s.head.appendChild(l)}}}function LS(e,n,s){ls.S(e,n,s);var l=Ba;if(l&&e){var h=_i(l).hoistableStyles,f=qa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(ho(f)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Qn.get(f))&&ud(e,s);var O=p=l.createElement("link");ke(O),nn(O,"link",e),O._p=new Promise(function(j,F){O.onload=j,O.onerror=F}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,lc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function US(e,n){ls.X(e,n);var s=Ba;if(s&&e){var l=_i(s).hoistableScripts,h=Ha(e),f=l.get(h);f||(f=s.querySelector(fo(h)),f||(e=C({src:e,async:!0},n),(n=Qn.get(h))&&cd(e,n),f=s.createElement("script"),ke(f),nn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function PS(e,n){ls.M(e,n);var s=Ba;if(s&&e){var l=_i(s).hoistableScripts,h=Ha(e),f=l.get(h);f||(f=s.querySelector(fo(h)),f||(e=C({src:e,async:!0,type:"module"},n),(n=Qn.get(h))&&cd(e,n),f=s.createElement("script"),ke(f),nn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Wy(e,n,s,l){var h=(h=Ot.current)?ac(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=qa(s.href),s=_i(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=qa(s.href);var f=_i(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ho(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Qn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Qn.set(e,s),f||jS(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(s),s=_i(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qa(e){return'href="'+gn(e)+'"'}function ho(e){return'link[rel="stylesheet"]['+e+"]"}function t_(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function jS(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),nn(n,"link",s),ke(n),e.head.appendChild(n))}function Ha(e){return'[src="'+gn(e)+'"]'}function fo(e){return"script[async]"+e}function e_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+gn(s.href)+'"]');if(l)return n.instance=l,ke(l),l;var h=C({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ke(l),nn(l,"style",h),lc(l,s.precedence,e),n.instance=l;case"stylesheet":h=qa(s.href);var f=e.querySelector(ho(h));if(f)return n.state.loading|=4,n.instance=f,ke(f),f;l=t_(s),(h=Qn.get(h))&&ud(l,h),f=(e.ownerDocument||e).createElement("link"),ke(f);var p=f;return p._p=new Promise(function(E,O){p.onload=E,p.onerror=O}),nn(f,"link",l),n.state.loading|=4,lc(f,s.precedence,e),n.instance=f;case"script":return f=Ha(s.src),(h=e.querySelector(fo(f)))?(n.instance=h,ke(h),h):(l=s,(h=Qn.get(f))&&(l=C({},s),cd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),ke(h),nn(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,lc(l,s.precedence,e));return n.instance}function lc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function ud(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var oc=null;function n_(e,n,s){if(oc===null){var l=new Map,h=oc=new Map;h.set(s,l)}else h=oc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[pi]||f[xe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function i_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function zS(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function s_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function BS(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=qa(l.href),f=n.querySelector(ho(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=uc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ke(f);return}f=n.ownerDocument||n,l=t_(l),(h=Qn.get(h))&&ud(l,h),f=f.createElement("link"),ke(f);var p=f;p._p=new Promise(function(E,O){p.onload=E,p.onerror=O}),nn(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=uc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var hd=0;function qS(e,n){return e.stylesheets&&e.count===0&&hc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&hd===0&&(hd=62500*SS());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>hd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function hc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,n.forEach(HS,e),cc=null,uc.call(e))}function HS(e,n){if(!(n.state.loading&4)){var s=cc.get(e);if(s)var l=s.get(null);else{s=new Map,cc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var mo={$$typeof:ht,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function GS(e,n,s,l,h,f,p,E,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function r_(e,n,s,l,h,f,p,E,O,j,F,$){return e=new GS(e,n,s,p,O,j,F,$,E),n=1,f===!0&&(n|=24),f=In(3,null,null,n),e.current=f,f.stateNode=e,n=Hh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Kh(f),e}function a_(e){return e?(e=Ea,e):Ea}function l_(e,n,s,l,h,f){h=a_(h),l.context===null?l.context=h:l.pendingContext=h,l=Os(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ms(e,l,n),s!==null&&(Tn(s,e,n),Fl(s,e,n))}function o_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function fd(e,n){o_(e,n),(e=e.alternate)&&o_(e,n)}function u_(e){if(e.tag===13||e.tag===31){var n=Nr(e,67108864);n!==null&&Tn(n,e,67108864),fd(e,67108864)}}function c_(e){if(e.tag===13||e.tag===31){var n=Vn();n=yr(n);var s=Nr(e,n);s!==null&&Tn(s,e,n),fd(e,n)}}var fc=!0;function FS(e,n,s,l){var h=H.T;H.T=null;var f=rt.p;try{rt.p=2,dd(e,n,s,l)}finally{rt.p=f,H.T=h}}function QS(e,n,s,l){var h=H.T;H.T=null;var f=rt.p;try{rt.p=8,dd(e,n,s,l)}finally{rt.p=f,H.T=h}}function dd(e,n,s,l){if(fc){var h=md(l);if(h===null)Wf(e,n,l,dc,s),f_(e,l);else if(YS(h,e,n,s,l))l.stopPropagation();else if(f_(e,l),n&4&&-1<KS.indexOf(e)){for(;h!==null;){var f=kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=fi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var O=1<<31-nt(p);E.entanglements[1]|=O,p&=~O}Oi(f),(se&6)===0&&(Xu=Ze()+500,lo(0))}}break;case 31:case 13:E=Nr(f,2),E!==null&&Tn(E,f,2),Zu(),fd(f,2)}if(f=md(l),f===null&&Wf(e,n,l,dc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else Wf(e,n,l,null,s)}}function md(e){return e=Ln(e),gd(e)}var dc=null;function gd(e){if(dc=null,e=yi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return dc=e,null}function h_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case cr:return 2;case hr:return 8;case hi:case yl:return 32;case fr:return 268435456;default:return 32}default:return 32}}var pd=!1,Hs=null,Gs=null,Fs=null,go=new Map,po=new Map,Qs=[],KS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f_(e,n){switch(e){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":go.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(n.pointerId)}}function yo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=kn(n),n!==null&&u_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function YS(e,n,s,l,h){switch(n){case"focusin":return Hs=yo(Hs,e,n,s,l,h),!0;case"dragenter":return Gs=yo(Gs,e,n,s,l,h),!0;case"mouseover":return Fs=yo(Fs,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return go.set(f,yo(go.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,po.set(f,yo(po.get(f)||null,e,n,s,l,h)),!0}return!1}function d_(e){var n=yi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,$n(e.priority,function(){c_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,$n(e.priority,function(){c_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=md(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Nl=l,s.target.dispatchEvent(l),Nl=null}else return n=kn(s),n!==null&&u_(n),e.blockedOn=s,!1;n.shift()}return!0}function m_(e,n,s){mc(e)&&s.delete(n)}function XS(){pd=!1,Hs!==null&&mc(Hs)&&(Hs=null),Gs!==null&&mc(Gs)&&(Gs=null),Fs!==null&&mc(Fs)&&(Fs=null),go.forEach(m_),po.forEach(m_)}function gc(e,n){e.blockedOn===n&&(e.blockedOn=null,pd||(pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,XS)))}var pc=null;function g_(e){pc!==e&&(pc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){pc===e&&(pc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(gd(l||s)===null)continue;break}var f=kn(s);f!==null&&(e.splice(n,3),n-=3,mf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Ga(e){function n(O){return gc(O,e)}Hs!==null&&gc(Hs,e),Gs!==null&&gc(Gs,e),Fs!==null&&gc(Fs,e),go.forEach(n),po.forEach(n);for(var s=0;s<Qs.length;s++){var l=Qs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qs.length&&(s=Qs[0],s.blockedOn===null);)d_(s),s.blockedOn===null&&Qs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Qe]||null;if(typeof f=="function")p||g_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Qe]||null)E=p.formAction;else if(gd(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),g_(s)}}}function p_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function yd(e){this._internalRoot=e}yc.prototype.render=yd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Vn();l_(s,l,e,n,null,null)},yc.prototype.unmount=yd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;l_(e.current,2,null,e,null,null),Zu(),n[gi]=null}};function yc(e){this._internalRoot=e}yc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Qs.length&&n!==0&&n<Qs[s].priority;s++);Qs.splice(s,0,e),s===0&&d_(e)}};var y_=t.version;if(y_!=="19.2.3")throw Error(a(527,y_,"19.2.3"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var $S={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{X=_c.inject($S),pt=_c}catch{}}return vo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=bp,f=wp,p=Rp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=r_(e,1,!1,null,null,s,l,null,h,f,p,p_),e[gi]=n.current,Jf(e),new yd(n)},vo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=bp,p=wp,E=Rp,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),n=r_(e,1,!0,n,s??null,l,h,O,f,p,E,p_),n.context=a_(null),s=n.current,l=Vn(),l=yr(l),h=Os(l),h.callback=null,Ms(s,h,l),s=l,n.current.lanes=s,gr(n,s),Oi(n),e[gi]=n.current,Jf(e),new yc(n)},vo.version="19.2.3",vo}var C_;function aA(){if(C_)return Ed.exports;C_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ed.exports=rA(),Ed.exports}var lA=aA();const sn=[];for(let r=0;r<256;++r)sn.push((r+256).toString(16).slice(1));function oA(r,t=0){return(sn[r[t+0]]+sn[r[t+1]]+sn[r[t+2]]+sn[r[t+3]]+"-"+sn[r[t+4]]+sn[r[t+5]]+"-"+sn[r[t+6]]+sn[r[t+7]]+"-"+sn[r[t+8]]+sn[r[t+9]]+"-"+sn[r[t+10]]+sn[r[t+11]]+sn[r[t+12]]+sn[r[t+13]]+sn[r[t+14]]+sn[r[t+15]]).toLowerCase()}let bd;const uA=new Uint8Array(16);function cA(){if(!bd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bd=crypto.getRandomValues.bind(crypto)}return bd(uA)}const hA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I_={randomUUID:hA};function fA(r,t,i){r=r||{};const a=r.random??r.rng?.()??cA();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,oA(a)}function vc(r,t,i){return I_.randomUUID&&!r?I_.randomUUID():fA(r)}const dA=()=>{};var N_={};const iE=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},mA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,S=c>>2,C=(c&3)<<4|g>>4;let k=(g&15)<<2|y>>6,B=y&63;_||(B=64,d||(k=64)),a.push(i[S],i[C],i[k],i[B])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(iE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):mA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const C=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||C==null)throw new gA;const k=c<<2|g>>4;if(a.push(k),y!==64){const B=g<<4&240|y>>2;if(a.push(B),C!==64){const J=y<<6&192|C;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pA=function(r){const t=iE(r);return sE.encodeByteArray(t,!0)},Uc=function(r){return pA(r).replace(/\./g,"")},rE=function(r){try{return sE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function yA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const _A=()=>yA().__FIREBASE_DEFAULTS__,vA=()=>{if(typeof process>"u"||typeof N_>"u")return;const r=N_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},EA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&rE(r[1]);return t&&JSON.parse(t)},sh=()=>{try{return dA()||_A()||vA()||EA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aE=r=>sh()?.emulatorHosts?.[r],TA=r=>{const t=aE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},lE=()=>sh()?.config,oE=r=>sh()?.[`_${r}`];class SA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ul(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uE(r){return(await fetch(r,{credentials:"include"})).ok}function AA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const wo={};function bA(){const r={prod:[],emulator:[]};for(const t of Object.keys(wo))wo[t]?r.emulator.push(t):r.prod.push(t);return r}function wA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let D_=!1;function cE(r,t){if(typeof window>"u"||typeof document>"u"||!ul(window.location.host)||wo[r]===t||wo[r]||D_)return;wo[r]=t;function i(k){return`__firebase__banner__${k}`}const a="__firebase__banner",c=bA().prod.length>0;function d(){const k=document.getElementById(a);k&&k.remove()}function g(k){k.style.display="flex",k.style.background="#7faaf0",k.style.position="fixed",k.style.bottom="5px",k.style.left="5px",k.style.padding=".5em",k.style.borderRadius="5px",k.style.alignItems="center"}function _(k,B){k.setAttribute("width","24"),k.setAttribute("id",B),k.setAttribute("height","24"),k.setAttribute("viewBox","0 0 24 24"),k.setAttribute("fill","none"),k.style.marginLeft="-6px"}function y(){const k=document.createElement("span");return k.style.cursor="pointer",k.style.marginLeft="16px",k.style.fontSize="24px",k.innerHTML=" &times;",k.onclick=()=>{D_=!0,d()},k}function S(k,B){k.setAttribute("id",B),k.innerText="Learn more",k.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",k.setAttribute("target","__blank"),k.style.paddingLeft="5px",k.style.textDecoration="underline"}function C(){const k=wA(a),B=i("text"),J=document.getElementById(B)||document.createElement("span"),et=i("learnmore"),W=document.getElementById(et)||document.createElement("a"),it=i("preprendIcon"),ut=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(k.created){const ht=k.element;g(ht),S(W,et);const bt=y();_(ut,it),ht.append(ut,J,W,bt),document.body.appendChild(ht)}c?(J.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function CA(){const r=sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function DA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OA(){const r=fn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function MA(){return!CA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const kA="FirebaseError";class ps extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=kA,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zo.prototype.create)}}class zo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?LA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ps(o,g,a)}}function LA(r,t){return r.replace(UA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const UA=/\{\$([^}]+)}/g;function PA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Yr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(O_(c)&&O_(d)){if(!Yr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function O_(r){return r!==null&&typeof r=="object"}function Bo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function jA(r,t){const i=new zA(r,t);return i.subscribe.bind(i)}class zA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");BA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=wd),o.error===void 0&&(o.error=wd),o.complete===void 0&&(o.complete=wd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function wd(){}function xn(r){return r&&r._delegate?r._delegate:r}class Xr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class qA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new SA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GA(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:HA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HA(r){return r===qr?void 0:r}function GA(r){return r.instantiationMode==="EAGER"}class FA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new qA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var $t;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($t||($t={}));const QA={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},KA=$t.INFO,YA={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},XA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=YA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class cm{constructor(t){this.name=t,this._logLevel=KA,this._logHandler=XA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?QA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const $A=(r,t)=>t.some(i=>r instanceof i);let M_,V_;function ZA(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JA(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hE=new WeakMap,Pd=new WeakMap,fE=new WeakMap,Rd=new WeakMap,hm=new WeakMap;function WA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ws(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&hE.set(i,r)}).catch(()=>{}),hm.set(t,r),t}function tb(r){if(Pd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Pd.set(r,t)}let jd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Pd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||fE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ws(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function eb(r){jd=r(jd)}function nb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Cd(this),t,...i);return fE.set(a,t.sort?t.sort():[t]),Ws(a)}:JA().includes(r)?function(...t){return r.apply(Cd(this),t),Ws(hE.get(this))}:function(...t){return Ws(r.apply(Cd(this),t))}}function ib(r){return typeof r=="function"?nb(r):(r instanceof IDBTransaction&&tb(r),$A(r,ZA())?new Proxy(r,jd):r)}function Ws(r){if(r instanceof IDBRequest)return WA(r);if(Rd.has(r))return Rd.get(r);const t=ib(r);return t!==r&&(Rd.set(r,t),hm.set(t,r)),t}const Cd=r=>hm.get(r);function sb(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=Ws(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ws(d.result),_.oldVersion,_.newVersion,Ws(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const rb=["get","getKey","getAll","getAllKeys","count"],ab=["put","add","delete","clear"],Id=new Map;function x_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Id.get(t))return Id.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=ab.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||rb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&_.done]))[0]};return Id.set(t,c),c}eb(r=>({...r,get:(t,i,a)=>x_(t,i)||r.get(t,i,a),has:(t,i)=>!!x_(t,i)||r.has(t,i)}));class lb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ob(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ob(r){return r.getComponent()?.type==="VERSION"}const zd="@firebase/app",k_="0.14.6";const fs=new cm("@firebase/app"),ub="@firebase/app-compat",cb="@firebase/analytics-compat",hb="@firebase/analytics",fb="@firebase/app-check-compat",db="@firebase/app-check",mb="@firebase/auth",gb="@firebase/auth-compat",pb="@firebase/database",yb="@firebase/data-connect",_b="@firebase/database-compat",vb="@firebase/functions",Eb="@firebase/functions-compat",Tb="@firebase/installations",Sb="@firebase/installations-compat",Ab="@firebase/messaging",bb="@firebase/messaging-compat",wb="@firebase/performance",Rb="@firebase/performance-compat",Cb="@firebase/remote-config",Ib="@firebase/remote-config-compat",Nb="@firebase/storage",Db="@firebase/storage-compat",Ob="@firebase/firestore",Mb="@firebase/ai",Vb="@firebase/firestore-compat",xb="firebase",kb="12.6.0";const Bd="[DEFAULT]",Lb={[zd]:"fire-core",[ub]:"fire-core-compat",[hb]:"fire-analytics",[cb]:"fire-analytics-compat",[db]:"fire-app-check",[fb]:"fire-app-check-compat",[mb]:"fire-auth",[gb]:"fire-auth-compat",[pb]:"fire-rtdb",[yb]:"fire-data-connect",[_b]:"fire-rtdb-compat",[vb]:"fire-fn",[Eb]:"fire-fn-compat",[Tb]:"fire-iid",[Sb]:"fire-iid-compat",[Ab]:"fire-fcm",[bb]:"fire-fcm-compat",[wb]:"fire-perf",[Rb]:"fire-perf-compat",[Cb]:"fire-rc",[Ib]:"fire-rc-compat",[Nb]:"fire-gcs",[Db]:"fire-gcs-compat",[Ob]:"fire-fst",[Vb]:"fire-fst-compat",[Mb]:"fire-vertex","fire-js":"fire-js",[xb]:"fire-js-all"};const Pc=new Map,Ub=new Map,qd=new Map;function L_(r,t){try{r.container.addComponent(t)}catch(i){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function el(r){const t=r.name;if(qd.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;qd.set(t,r);for(const i of Pc.values())L_(i,r);for(const i of Ub.values())L_(i,r);return!0}function fm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ai(r){return r==null?!1:r.settings!==void 0}const Pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tr=new zo("app","Firebase",Pb);class jb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}}const cl=kb;function dE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Bd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw tr.create("bad-app-name",{appName:String(o)});if(i||(i=lE()),!i)throw tr.create("no-options");const c=Pc.get(o);if(c){if(Yr(i,c.options)&&Yr(a,c.config))return c;throw tr.create("duplicate-app",{appName:o})}const d=new FA(o);for(const _ of qd.values())d.addComponent(_);const g=new jb(i,a,d);return Pc.set(o,g),g}function mE(r=Bd){const t=Pc.get(r);if(!t&&r===Bd&&lE())return dE();if(!t)throw tr.create("no-app",{appName:r});return t}function er(r,t,i){let a=Lb[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(d.join(" "));return}el(new Xr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const zb="firebase-heartbeat-database",Bb=1,Oo="firebase-heartbeat-store";let Nd=null;function gE(){return Nd||(Nd=sb(zb,Bb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Oo)}catch(i){console.warn(i)}}}}).catch(r=>{throw tr.create("idb-open",{originalErrorMessage:r.message})})),Nd}async function qb(r){try{const i=(await gE()).transaction(Oo),a=await i.objectStore(Oo).get(pE(r));return await i.done,a}catch(t){if(t instanceof ps)fs.warn(t.message);else{const i=tr.create("idb-get",{originalErrorMessage:t?.message});fs.warn(i.message)}}}async function U_(r,t){try{const a=(await gE()).transaction(Oo,"readwrite");await a.objectStore(Oo).put(t,pE(r)),await a.done}catch(i){if(i instanceof ps)fs.warn(i.message);else{const a=tr.create("idb-set",{originalErrorMessage:i?.message});fs.warn(a.message)}}}function pE(r){return`${r.name}!${r.options.appId}`}const Hb=1024,Gb=30;class Fb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Kb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=P_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Gb){const o=Yb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=P_(),{heartbeatsToSend:i,unsentEntries:a}=Qb(this._heartbeatsCache.heartbeats),o=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fs.warn(t),""}}}function P_(){return new Date().toISOString().substring(0,10)}function Qb(r,t=Hb){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),j_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),j_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Kb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await qb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return U_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function j_(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}function Yb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function Xb(r){el(new Xr("platform-logger",t=>new lb(t),"PRIVATE")),el(new Xr("heartbeat",t=>new Fb(t),"PRIVATE")),er(zd,k_,r),er(zd,k_,"esm2020"),er("fire-js","")}Xb("");function yE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $b=yE,_E=new zo("auth","Firebase",yE());const jc=new cm("@firebase/auth");function Zb(r,...t){jc.logLevel<=$t.WARN&&jc.warn(`Auth (${cl}): ${r}`,...t)}function Cc(r,...t){jc.logLevel<=$t.ERROR&&jc.error(`Auth (${cl}): ${r}`,...t)}function ji(r,...t){throw mm(r,...t)}function ui(r,...t){return mm(r,...t)}function dm(r,t,i){const a={...$b(),[t]:i};return new zo("auth","Firebase",a).create(t,{appName:r.name})}function Fr(r){return dm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jb(r,t,i){const a=i;if(!(t instanceof a))throw a.name!==t.constructor.name&&ji(r,"argument-error"),dm(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return _E.create(r,...t)}function Vt(r,t,...i){if(!r)throw mm(t,...i)}function us(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function ds(r,t){r||us(t)}function Hd(){return typeof self<"u"&&self.location?.href||""}function Wb(){return z_()==="http:"||z_()==="https:"}function z_(){return typeof self<"u"&&self.location?.protocol||null}function t1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wb()||NA()||"connection"in navigator)?navigator.onLine:!0}function e1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class qo{constructor(t,i){this.shortDelay=t,this.longDelay=i,ds(i>t,"Short delay should be less than long delay!"),this.isMobile=RA()||DA()}get(){return t1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function gm(r,t){ds(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class vE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const n1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const i1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s1=new qo(3e4,6e4);function pm(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function hl(r,t,i,a,o={}){return EE(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Bo({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return IA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ul(r.emulatorConfig.host)&&(y.credentials="include"),vE.fetch()(await TE(r,r.config.apiHost,i,g),y)})}async function EE(r,t,i){r._canInitEmulator=!1;const a={...n1,...t};try{const o=new a1(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ec(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Ec(r,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dm(r,S,y);ji(r,S)}}catch(o){if(o instanceof ps)throw o;ji(r,"network-request-failed",{message:String(o)})}}async function r1(r,t,i,a,o={}){const c=await hl(r,t,i,a,o);return"mfaPendingCredential"in c&&ji(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function TE(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?gm(r.config,o):`${r.config.apiScheme}://${o}`;return i1.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class a1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ui(this.auth,"network-request-failed")),s1.get())})}}function Ec(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ui(r,t,a);return o.customData._tokenResponse=i,o}async function l1(r,t){return hl(r,"POST","/v1/accounts:delete",t)}async function zc(r,t){return hl(r,"POST","/v1/accounts:lookup",t)}function Ro(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function o1(r,t=!1){const i=xn(r),a=await i.getIdToken(t),o=ym(a);Vt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ro(Dd(o.auth_time)),issuedAtTime:Ro(Dd(o.iat)),expirationTime:Ro(Dd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dd(r){return Number(r)*1e3}function ym(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const o=rE(i);return o?JSON.parse(o):(Cc("Failed to decode base64 JWT payload"),null)}catch(o){return Cc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function B_(r){const t=ym(r);return Vt(t,"internal-error"),Vt(typeof t.exp<"u","internal-error"),Vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ps&&u1(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function u1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class c1{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bc(r){const t=r.auth,i=await r.getIdToken(),a=await Mo(r,zc(t,{idToken:i}));Vt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?SE(o.providerUserInfo):[],d=f1(r.providerData,c),g=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=g?_:!1,S={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,S)}async function h1(r){const t=xn(r);await Bc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function f1(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function SE(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function d1(r,t){const i=await EE(r,{},async()=>{const a=Bo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await TE(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&ul(r.emulatorConfig.host)&&(_.credentials="include"),vE.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function m1(r,t){return hl(r,"POST","/v2/accounts:revokeToken",pm(r,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Vt(t.idToken,"internal-error"),Vt(typeof t.idToken<"u","internal-error"),Vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):B_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Vt(t.length!==0,"internal-error");const i=B_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await d1(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Xa;return a&&(Vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Vt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return us("not implemented")}}function Ys(r,t){Vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class li{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new c1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gd(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Mo(this,this.stsTokenManager.getToken(this.auth,t));return Vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return o1(this,t)}reload(){return h1(this)}_assign(t){this!==t&&(Vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new li({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Bc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Fr(this.auth));const t=await this.getIdToken();return await Mo(this,l1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:C,emailVerified:k,isAnonymous:B,providerData:J,stsTokenManager:et}=i;Vt(C&&et,t,"internal-error");const W=Xa.fromJSON(this.name,et);Vt(typeof C=="string",t,"internal-error"),Ys(a,t.name),Ys(o,t.name),Vt(typeof k=="boolean",t,"internal-error"),Vt(typeof B=="boolean",t,"internal-error"),Ys(c,t.name),Ys(d,t.name),Ys(g,t.name),Ys(_,t.name),Ys(y,t.name),Ys(S,t.name);const it=new li({uid:C,auth:t,email:o,emailVerified:k,displayName:a,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:W,createdAt:y,lastLoginAt:S});return J&&Array.isArray(J)&&(it.providerData=J.map(ut=>({...ut}))),_&&(it._redirectEventId=_),it}static async _fromIdTokenResponse(t,i,a=!1){const o=new Xa;o.updateFromServerResponse(i);const c=new li({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Bc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Vt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?SE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new Xa;g.updateFromIdToken(a);const _=new li({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const q_=new Map;function cs(r){ds(r instanceof Function,"Expected a class definition");let t=q_.get(r);return t?(ds(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,q_.set(r,t),t)}class AE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}AE.type="NONE";const H_=AE;function Ic(r,t,i){return`firebase:${r}:${t}:${i}`}class $a{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Ic(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ic("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await zc(this.auth,{idToken:t}).catch(()=>{});return i?li._fromGetAccountInfoResponse(this.auth,i,t):null}return li._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new $a(cs(H_),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||cs(H_);const d=Ic(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let C;if(typeof S=="string"){const k=await zc(t,{idToken:S}).catch(()=>{});if(!k)break;C=await li._fromGetAccountInfoResponse(t,k,S)}else C=li._fromJSON(t,S);y!==c&&(g=C),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new $a(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new $a(c,t,a))}}function G_(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(CE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(bE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(NE(t))return"Blackberry";if(DE(t))return"Webos";if(wE(t))return"Safari";if((t.includes("chrome/")||RE(t))&&!t.includes("edge/"))return"Chrome";if(IE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function bE(r=fn()){return/firefox\//i.test(r)}function wE(r=fn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function RE(r=fn()){return/crios\//i.test(r)}function CE(r=fn()){return/iemobile/i.test(r)}function IE(r=fn()){return/android/i.test(r)}function NE(r=fn()){return/blackberry/i.test(r)}function DE(r=fn()){return/webos/i.test(r)}function _m(r=fn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function g1(r=fn()){return _m(r)&&!!window.navigator?.standalone}function p1(){return OA()&&document.documentMode===10}function OE(r=fn()){return _m(r)||IE(r)||DE(r)||NE(r)||/windows phone/i.test(r)||CE(r)}function ME(r,t=[]){let i;switch(r){case"Browser":i=G_(fn());break;case"Worker":i=`${G_(fn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${cl}/${a}`}class y1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function _1(r,t={}){return hl(r,"GET","/v2/passwordPolicy",pm(r,t))}const v1=6;class E1{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??v1,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class T1{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F_(this),this.idTokenSubscription=new F_(this),this.beforeStateQueue=new y1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_E,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await zc(this,{idToken:t}),a=await li._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Bc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=e1()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(Fr(this));const i=t?xn(t):null;return i&&Vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(Fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await _1(this),i=new E1(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await m1(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&cs(t)||this._popupRedirectResolver;Vt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ME(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Zb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function rh(r){return xn(r)}class F_{constructor(t){this.auth=t,this.observer=null,this.addObserver=jA(i=>this.observer=i)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S1(r){vm=r}function A1(r){return vm.loadJS(r)}function b1(){return vm.gapiScript}function w1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function R1(r,t){const i=fm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Yr(c,t??{}))return o;ji(o,"already-initialized")}return i.initialize({options:t})}function C1(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(cs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function I1(r,t,i){const a=rh(r);Vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=VE(t),{host:d,port:g}=N1(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Vt(Yr(y,a.config.emulator)&&Yr(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,ul(d)?(uE(`${c}//${d}${_}`),cE("Auth",!0)):D1()}function VE(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function N1(r){const t=VE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Q_(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Q_(d)}}}function Q_(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function D1(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class xE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,i){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function Za(r,t){return r1(r,"POST","/v1/accounts:signInWithIdp",pm(r,t))}const O1="http://localhost";class $r extends xE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new $r(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:O1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bo(i)}return t}}class Em{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ho extends Em{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Xs extends Ho{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";class os extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $r._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return os.credential(i,a)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";class $s extends Ho{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return $s.credential(t.oauthAccessToken)}catch{return null}}}$s.GITHUB_SIGN_IN_METHOD="github.com";$s.PROVIDER_ID="github.com";class Zs extends Ho{constructor(){super("twitter.com")}static credential(t,i){return $r._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Zs.credential(i,a)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";class nl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await li._fromIdTokenResponse(t,a,o),d=K_(a);return new nl({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=K_(a);return new nl({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function K_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class qc extends ps{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new qc(t,i,a,o)}}function kE(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,c,t,a):c})}async function M1(r,t,i=!1){const a=await Mo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return nl._forOperation(r,"link",a)}async function V1(r,t,i=!1){const{auth:a}=r;if(ai(a.app))return Promise.reject(Fr(a));const o="reauthenticate";try{const c=await Mo(r,kE(a,o,t,r),i);Vt(c.idToken,a,"internal-error");const d=ym(c.idToken);Vt(d,a,"internal-error");const{sub:g}=d;return Vt(r.uid===g,a,"user-mismatch"),nl._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ji(a,"user-mismatch"),c}}async function x1(r,t,i=!1){if(ai(r.app))return Promise.reject(Fr(r));const a="signIn",o=await kE(r,a,t),c=await nl._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function k1(r,t,i,a){return xn(r).onIdTokenChanged(t,i,a)}function L1(r,t,i){return xn(r).beforeAuthStateChanged(t,i)}function U1(r,t,i,a){return xn(r).onAuthStateChanged(t,i,a)}function P1(r){return xn(r).signOut()}const Hc="__sak";class LE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const j1=1e3,z1=10;class UE extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);p1()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,z1):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},j1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}UE.type="LOCAL";const B1=UE;class PE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}PE.type="SESSION";const jE=PE;function q1(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await q1(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];function Tm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class H1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Tm("",20);o.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(C){const k=C;if(k.data.eventId===y)switch(k.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(k.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function G1(r){xi().location.href=r}function zE(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function F1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q1(){return navigator?.serviceWorker?.controller||null}function K1(){return zE()?self:null}const BE="firebaseLocalStorageDb",Y1=1,Gc="firebaseLocalStorage",qE="fbase_key";class Go{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function lh(r,t){return r.transaction([Gc],t?"readwrite":"readonly").objectStore(Gc)}function X1(){const r=indexedDB.deleteDatabase(BE);return new Go(r).toPromise()}function Fd(){const r=indexedDB.open(BE,Y1);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Gc,{keyPath:qE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Gc)?t(a):(a.close(),await X1(),t(await Fd()))})})}async function Y_(r,t,i){const a=lh(r,!0).put({[qE]:t,value:i});return new Go(a).toPromise()}async function $1(r,t){const i=lh(r,!1).get(t),a=await new Go(i).toPromise();return a===void 0?null:a.value}function X_(r,t){const i=lh(r,!0).delete(t);return new Go(i).toPromise()}const Z1=800,J1=3;class HE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>J1)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(K1()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await F1(),!this.activeServiceWorker)return;this.sender=new H1(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Q1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Fd();return await Y_(t,Hc,"1"),await X_(t,Hc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Y_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>$1(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>X_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=lh(o,!1).getAll();return new Go(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HE.type="LOCAL";const W1=HE;new qo(3e4,6e4);function GE(r,t){return t?cs(t):(Vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Sm extends xE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function tw(r){return x1(r.auth,new Sm(r),r.bypassAuthState)}function ew(r){const{auth:t,user:i}=r;return Vt(i,t,"internal-error"),V1(i,new Sm(r),r.bypassAuthState)}async function nw(r){const{auth:t,user:i}=r;return Vt(i,t,"internal-error"),M1(i,new Sm(r),r.bypassAuthState)}class FE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tw;case"linkViaPopup":case"linkViaRedirect":return nw;case"reauthViaPopup":case"reauthViaRedirect":return ew;default:ji(this.auth,"internal-error")}}resolve(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iw=new qo(2e3,1e4);async function sw(r,t,i){if(ai(r.app))return Promise.reject(ui(r,"operation-not-supported-in-this-environment"));const a=rh(r);Jb(r,t,Em);const o=GE(a,i);return new Hr(a,"signInViaPopup",t,o).executeNotNull()}class Hr extends FE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Vt(t,this.auth,"internal-error"),t}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const t=Tm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iw.get())};t()}}Hr.currentPopupAction=null;const rw="pendingRedirect",Nc=new Map;class aw extends FE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Nc.get(this.auth._key());if(!t){try{const a=await lw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Nc.set(this.auth._key(),t)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lw(r,t){const i=cw(t),a=uw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function ow(r,t){Nc.set(r._key(),t)}function uw(r){return cs(r._redirectPersistence)}function cw(r){return Ic(rw,r.config.apiKey,r.name)}async function hw(r,t,i=!1){if(ai(r.app))return Promise.reject(Fr(r));const a=rh(r),o=GE(a,t),d=await new aw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const fw=600*1e3;class dw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!QE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ui(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fw&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(t))}saveEventToCache(t){this.cachedEventUids.add($_(t)),this.lastProcessedEventTime=Date.now()}}function $_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function QE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function mw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QE(r);default:return!1}}async function gw(r,t={}){return hl(r,"GET","/v1/projects",t)}const pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yw=/^https?/;async function _w(r){if(r.config.emulator)return;const{authorizedDomains:t}=await gw(r);for(const i of t)try{if(vw(i))return}catch{}ji(r,"unauthorized-domain")}function vw(r){const t=Hd(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!yw.test(i))return!1;if(pw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Ew=new qo(3e4,6e4);function Z_(){const r=xi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Tw(r){return new Promise((t,i)=>{function a(){Z_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Z_(),i(ui(r,"network-request-failed"))},timeout:Ew.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)a();else{const o=w1("iframefcb");return xi()[o]=()=>{gapi.load?a():i(ui(r,"network-request-failed"))},A1(`${b1()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function Sw(r){return Dc=Dc||Tw(r),Dc}const Aw=new qo(5e3,15e3),bw="__/auth/iframe",ww="emulator/auth/iframe",Rw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iw(r){const t=r.config;Vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?gm(t,ww):`https://${r.config.authDomain}/${bw}`,a={apiKey:t.apiKey,appName:r.name,v:cl},o=Cw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Bo(a).slice(1)}`}async function Nw(r){const t=await Sw(r),i=xi().gapi;return Vt(i,r,"internal-error"),t.open({where:document.body,url:Iw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Rw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ui(r,"network-request-failed"),g=xi().setTimeout(()=>{c(d)},Aw.get());function _(){xi().clearTimeout(g),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const Dw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ow=500,Mw=600,Vw="_blank",xw="http://localhost";class J_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kw(r,t,i,a=Ow,o=Mw){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Dw,width:a.toString(),height:o.toString(),top:c,left:d},y=fn().toLowerCase();i&&(g=RE(y)?Vw:i),bE(y)&&(t=t||xw,_.scrollbars="yes");const S=Object.entries(_).reduce((k,[B,J])=>`${k}${B}=${J},`,"");if(g1(y)&&g!=="_self")return Lw(t||"",g),new J_(null);const C=window.open(t||"",g,S);Vt(C,r,"popup-blocked");try{C.focus()}catch{}return new J_(C)}function Lw(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Uw="__/auth/handler",Pw="emulator/auth/handler",jw=encodeURIComponent("fac");async function W_(r,t,i,a,o,c){Vt(r.config.authDomain,r,"auth-domain-config-required"),Vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:cl,eventId:o};if(t instanceof Em){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",PA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,C]of Object.entries({}))d[S]=C}if(t instanceof Ho){const S=t.getScopes().filter(C=>C!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await r._getAppCheckToken(),y=_?`#${jw}=${encodeURIComponent(_)}`:"";return`${zw(r)}?${Bo(g).slice(1)}${y}`}function zw({config:r}){return r.emulator?gm(r,Pw):`https://${r.authDomain}/${Uw}`}const Od="webStorageSupport";class Bw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=hw,this._overrideRedirectResult=ow}async _openPopup(t,i,a,o){ds(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await W_(t,i,a,Hd(),o);return kw(t,c,Tm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await W_(t,i,a,Hd(),o);return G1(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(ds(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Nw(t),a=new dw(t);return i.register("authEvent",o=>(Vt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Od,{type:Od},o=>{const c=o?.[0]?.[Od];c!==void 0&&i(!!c),ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_w(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return OE()||wE()||_m()}}const qw=Bw;var tv="@firebase/auth",ev="1.12.0";class Hw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gw(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fw(r){el(new Xr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ME(r)},y=new T1(a,o,c,_);return C1(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),el(new Xr("auth-internal",t=>{const i=rh(t.getProvider("auth").getImmediate());return(a=>new Hw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(tv,ev,Gw(r)),er(tv,ev,"esm2020")}const Qw=300,Kw=oE("authIdTokenMaxAge")||Qw;let nv=null;const Yw=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Kw)return;const o=i?.token;nv!==o&&(nv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Xw(r=mE()){const t=fm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=R1(r,{popupRedirectResolver:qw,persistence:[W1,B1,jE]}),a=oE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Yw(c.toString());L1(i,d,()=>d(i.currentUser)),k1(i,g=>d(g))}}const o=aE("auth");return o&&I1(i,`http://${o}`),i}function $w(){return document.getElementsByTagName("head")?.[0]??document}S1({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=ui("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",$w().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fw("Browser");var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nr,KE;(function(){var r;function t(N,R){function b(){}b.prototype=R.prototype,N.F=R.prototype,N.prototype=new b,N.prototype.constructor=N,N.D=function(M,D,I){for(var w=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)w[xt-2]=arguments[xt];return R.prototype[D].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,b){b||(b=0);const M=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)M[D]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(D=0;D<16;++D)M[D]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=N.g[0],b=N.g[1],D=N.g[2];let I=N.g[3],w;w=R+(I^b&(D^I))+M[0]+3614090360&4294967295,R=b+(w<<7&4294967295|w>>>25),w=I+(D^R&(b^D))+M[1]+3905402710&4294967295,I=R+(w<<12&4294967295|w>>>20),w=D+(b^I&(R^b))+M[2]+606105819&4294967295,D=I+(w<<17&4294967295|w>>>15),w=b+(R^D&(I^R))+M[3]+3250441966&4294967295,b=D+(w<<22&4294967295|w>>>10),w=R+(I^b&(D^I))+M[4]+4118548399&4294967295,R=b+(w<<7&4294967295|w>>>25),w=I+(D^R&(b^D))+M[5]+1200080426&4294967295,I=R+(w<<12&4294967295|w>>>20),w=D+(b^I&(R^b))+M[6]+2821735955&4294967295,D=I+(w<<17&4294967295|w>>>15),w=b+(R^D&(I^R))+M[7]+4249261313&4294967295,b=D+(w<<22&4294967295|w>>>10),w=R+(I^b&(D^I))+M[8]+1770035416&4294967295,R=b+(w<<7&4294967295|w>>>25),w=I+(D^R&(b^D))+M[9]+2336552879&4294967295,I=R+(w<<12&4294967295|w>>>20),w=D+(b^I&(R^b))+M[10]+4294925233&4294967295,D=I+(w<<17&4294967295|w>>>15),w=b+(R^D&(I^R))+M[11]+2304563134&4294967295,b=D+(w<<22&4294967295|w>>>10),w=R+(I^b&(D^I))+M[12]+1804603682&4294967295,R=b+(w<<7&4294967295|w>>>25),w=I+(D^R&(b^D))+M[13]+4254626195&4294967295,I=R+(w<<12&4294967295|w>>>20),w=D+(b^I&(R^b))+M[14]+2792965006&4294967295,D=I+(w<<17&4294967295|w>>>15),w=b+(R^D&(I^R))+M[15]+1236535329&4294967295,b=D+(w<<22&4294967295|w>>>10),w=R+(D^I&(b^D))+M[1]+4129170786&4294967295,R=b+(w<<5&4294967295|w>>>27),w=I+(b^D&(R^b))+M[6]+3225465664&4294967295,I=R+(w<<9&4294967295|w>>>23),w=D+(R^b&(I^R))+M[11]+643717713&4294967295,D=I+(w<<14&4294967295|w>>>18),w=b+(I^R&(D^I))+M[0]+3921069994&4294967295,b=D+(w<<20&4294967295|w>>>12),w=R+(D^I&(b^D))+M[5]+3593408605&4294967295,R=b+(w<<5&4294967295|w>>>27),w=I+(b^D&(R^b))+M[10]+38016083&4294967295,I=R+(w<<9&4294967295|w>>>23),w=D+(R^b&(I^R))+M[15]+3634488961&4294967295,D=I+(w<<14&4294967295|w>>>18),w=b+(I^R&(D^I))+M[4]+3889429448&4294967295,b=D+(w<<20&4294967295|w>>>12),w=R+(D^I&(b^D))+M[9]+568446438&4294967295,R=b+(w<<5&4294967295|w>>>27),w=I+(b^D&(R^b))+M[14]+3275163606&4294967295,I=R+(w<<9&4294967295|w>>>23),w=D+(R^b&(I^R))+M[3]+4107603335&4294967295,D=I+(w<<14&4294967295|w>>>18),w=b+(I^R&(D^I))+M[8]+1163531501&4294967295,b=D+(w<<20&4294967295|w>>>12),w=R+(D^I&(b^D))+M[13]+2850285829&4294967295,R=b+(w<<5&4294967295|w>>>27),w=I+(b^D&(R^b))+M[2]+4243563512&4294967295,I=R+(w<<9&4294967295|w>>>23),w=D+(R^b&(I^R))+M[7]+1735328473&4294967295,D=I+(w<<14&4294967295|w>>>18),w=b+(I^R&(D^I))+M[12]+2368359562&4294967295,b=D+(w<<20&4294967295|w>>>12),w=R+(b^D^I)+M[5]+4294588738&4294967295,R=b+(w<<4&4294967295|w>>>28),w=I+(R^b^D)+M[8]+2272392833&4294967295,I=R+(w<<11&4294967295|w>>>21),w=D+(I^R^b)+M[11]+1839030562&4294967295,D=I+(w<<16&4294967295|w>>>16),w=b+(D^I^R)+M[14]+4259657740&4294967295,b=D+(w<<23&4294967295|w>>>9),w=R+(b^D^I)+M[1]+2763975236&4294967295,R=b+(w<<4&4294967295|w>>>28),w=I+(R^b^D)+M[4]+1272893353&4294967295,I=R+(w<<11&4294967295|w>>>21),w=D+(I^R^b)+M[7]+4139469664&4294967295,D=I+(w<<16&4294967295|w>>>16),w=b+(D^I^R)+M[10]+3200236656&4294967295,b=D+(w<<23&4294967295|w>>>9),w=R+(b^D^I)+M[13]+681279174&4294967295,R=b+(w<<4&4294967295|w>>>28),w=I+(R^b^D)+M[0]+3936430074&4294967295,I=R+(w<<11&4294967295|w>>>21),w=D+(I^R^b)+M[3]+3572445317&4294967295,D=I+(w<<16&4294967295|w>>>16),w=b+(D^I^R)+M[6]+76029189&4294967295,b=D+(w<<23&4294967295|w>>>9),w=R+(b^D^I)+M[9]+3654602809&4294967295,R=b+(w<<4&4294967295|w>>>28),w=I+(R^b^D)+M[12]+3873151461&4294967295,I=R+(w<<11&4294967295|w>>>21),w=D+(I^R^b)+M[15]+530742520&4294967295,D=I+(w<<16&4294967295|w>>>16),w=b+(D^I^R)+M[2]+3299628645&4294967295,b=D+(w<<23&4294967295|w>>>9),w=R+(D^(b|~I))+M[0]+4096336452&4294967295,R=b+(w<<6&4294967295|w>>>26),w=I+(b^(R|~D))+M[7]+1126891415&4294967295,I=R+(w<<10&4294967295|w>>>22),w=D+(R^(I|~b))+M[14]+2878612391&4294967295,D=I+(w<<15&4294967295|w>>>17),w=b+(I^(D|~R))+M[5]+4237533241&4294967295,b=D+(w<<21&4294967295|w>>>11),w=R+(D^(b|~I))+M[12]+1700485571&4294967295,R=b+(w<<6&4294967295|w>>>26),w=I+(b^(R|~D))+M[3]+2399980690&4294967295,I=R+(w<<10&4294967295|w>>>22),w=D+(R^(I|~b))+M[10]+4293915773&4294967295,D=I+(w<<15&4294967295|w>>>17),w=b+(I^(D|~R))+M[1]+2240044497&4294967295,b=D+(w<<21&4294967295|w>>>11),w=R+(D^(b|~I))+M[8]+1873313359&4294967295,R=b+(w<<6&4294967295|w>>>26),w=I+(b^(R|~D))+M[15]+4264355552&4294967295,I=R+(w<<10&4294967295|w>>>22),w=D+(R^(I|~b))+M[6]+2734768916&4294967295,D=I+(w<<15&4294967295|w>>>17),w=b+(I^(D|~R))+M[13]+1309151649&4294967295,b=D+(w<<21&4294967295|w>>>11),w=R+(D^(b|~I))+M[4]+4149444226&4294967295,R=b+(w<<6&4294967295|w>>>26),w=I+(b^(R|~D))+M[11]+3174756917&4294967295,I=R+(w<<10&4294967295|w>>>22),w=D+(R^(I|~b))+M[2]+718787259&4294967295,D=I+(w<<15&4294967295|w>>>17),w=b+(I^(D|~R))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+I&4294967295}a.prototype.v=function(N,R){R===void 0&&(R=N.length);const b=R-this.blockSize,M=this.C;let D=this.h,I=0;for(;I<R;){if(D==0)for(;I<=b;)o(this,N,I),I+=this.blockSize;if(typeof N=="string"){for(;I<R;)if(M[D++]=N.charCodeAt(I++),D==this.blockSize){o(this,M),D=0;break}}else for(;I<R;)if(M[D++]=N[I++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=R},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var b=N.length-8;b<N.length;++b)N[b]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,b=0;b<4;++b)for(let M=0;M<32;M+=8)N[R++]=this.g[b]>>>M&255;return N};function c(N,R){var b=g;return Object.prototype.hasOwnProperty.call(b,N)?b[N]:b[N]=R(N)}function d(N,R){this.h=R;const b=[];let M=!0;for(let D=N.length-1;D>=0;D--){const I=N[D]|0;M&&I==R||(b[D]=I,M=!1)}this.g=b}var g={};function _(N){return-128<=N&&N<128?c(N,function(R){return new d([R|0],R<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return C;if(N<0)return W(y(-N));const R=[];let b=1;for(let M=0;N>=b;M++)R[M]=N/b|0,b*=4294967296;return new d(R,0)}function S(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return W(S(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=y(Math.pow(R,8));let M=C;for(let I=0;I<N.length;I+=8){var D=Math.min(8,N.length-I);const w=parseInt(N.substring(I,I+D),R);D<8?(D=y(Math.pow(R,D)),M=M.j(D).add(y(w))):(M=M.j(b),M=M.add(y(w)))}return M}var C=_(0),k=_(1),B=_(16777216);r=d.prototype,r.m=function(){if(et(this))return-W(this).m();let N=0,R=1;for(let b=0;b<this.g.length;b++){const M=this.i(b);N+=(M>=0?M:4294967296+M)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(J(this))return"0";if(et(this))return"-"+W(this).toString(N);const R=y(Math.pow(N,6));var b=this;let M="";for(;;){const D=bt(b,R).g;b=it(b,D.j(R));let I=((b.g.length>0?b.g[0]:b.h)>>>0).toString(N);if(b=D,J(b))return I+M;for(;I.length<6;)I="0"+I;M=I+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function J(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function et(N){return N.h==-1}r.l=function(N){return N=it(this,N),et(N)?-1:J(N)?0:1};function W(N){const R=N.g.length,b=[];for(let M=0;M<R;M++)b[M]=~N.g[M];return new d(b,~N.h).add(k)}r.abs=function(){return et(this)?W(this):this},r.add=function(N){const R=Math.max(this.g.length,N.g.length),b=[];let M=0;for(let D=0;D<=R;D++){let I=M+(this.i(D)&65535)+(N.i(D)&65535),w=(I>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=w>>>16,I&=65535,w&=65535,b[D]=w<<16|I}return new d(b,b[b.length-1]&-2147483648?-1:0)};function it(N,R){return N.add(W(R))}r.j=function(N){if(J(this)||J(N))return C;if(et(this))return et(N)?W(this).j(W(N)):W(W(this).j(N));if(et(N))return W(this.j(W(N)));if(this.l(B)<0&&N.l(B)<0)return y(this.m()*N.m());const R=this.g.length+N.g.length,b=[];for(var M=0;M<2*R;M++)b[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const I=this.i(M)>>>16,w=this.i(M)&65535,xt=N.i(D)>>>16,kt=N.i(D)&65535;b[2*M+2*D]+=w*kt,ut(b,2*M+2*D),b[2*M+2*D+1]+=I*kt,ut(b,2*M+2*D+1),b[2*M+2*D+1]+=w*xt,ut(b,2*M+2*D+1),b[2*M+2*D+2]+=I*xt,ut(b,2*M+2*D+2)}for(N=0;N<R;N++)b[N]=b[2*N+1]<<16|b[2*N];for(N=R;N<2*R;N++)b[N]=0;return new d(b,0)};function ut(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function ht(N,R){this.g=N,this.h=R}function bt(N,R){if(J(R))throw Error("division by zero");if(J(N))return new ht(C,C);if(et(N))return R=bt(W(N),R),new ht(W(R.g),W(R.h));if(et(R))return R=bt(N,W(R)),new ht(W(R.g),R.h);if(N.g.length>30){if(et(N)||et(R))throw Error("slowDivide_ only works with positive integers.");for(var b=k,M=R;M.l(N)<=0;)b=wt(b),M=wt(M);var D=ft(b,1),I=ft(M,1);for(M=ft(M,2),b=ft(b,2);!J(M);){var w=I.add(M);w.l(N)<=0&&(D=D.add(b),I=w),M=ft(M,1),b=ft(b,1)}return R=it(N,D.j(R)),new ht(D,R)}for(D=C;N.l(R)>=0;){for(b=Math.max(1,Math.floor(N.m()/R.m())),M=Math.ceil(Math.log(b)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),I=y(b),w=I.j(R);et(w)||w.l(N)>0;)b-=M,I=y(b),w=I.j(R);J(I)&&(I=k),D=D.add(I),N=it(N,w)}return new ht(D,N)}r.B=function(N){return bt(this,N).h},r.and=function(N){const R=Math.max(this.g.length,N.g.length),b=[];for(let M=0;M<R;M++)b[M]=this.i(M)&N.i(M);return new d(b,this.h&N.h)},r.or=function(N){const R=Math.max(this.g.length,N.g.length),b=[];for(let M=0;M<R;M++)b[M]=this.i(M)|N.i(M);return new d(b,this.h|N.h)},r.xor=function(N){const R=Math.max(this.g.length,N.g.length),b=[];for(let M=0;M<R;M++)b[M]=this.i(M)^N.i(M);return new d(b,this.h^N.h)};function wt(N){const R=N.g.length+1,b=[];for(let M=0;M<R;M++)b[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(b,N.h)}function ft(N,R){const b=R>>5;R%=32;const M=N.g.length-b,D=[];for(let I=0;I<M;I++)D[I]=R>0?N.i(I+b)>>>R|N.i(I+b+1)<<32-R:N.i(I+b);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,KE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,nr=d}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YE,To,XE,Oc,Qd,$E,ZE,JE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function C(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,q){for(var lt=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)lt[zt-2]=arguments[zt];return m.prototype[U].apply(T,lt)}}var k=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const q=U.length||0;u.length=v+q;for(let lt=0;lt<q;lt++)u[v+lt]=U[lt]}else u.push(U)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function it(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const T=ht.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ht=new et(()=>new bt,u=>u.reset());class bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,ft=!1,N=new ut,R=()=>{const u=Promise.resolve(void 0);wt=()=>{u.then(b)}};function b(){for(var u;u=it();){try{u.h.call(u.g)}catch(v){W(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ft=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function xt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}C(xt,D),xt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&xt.Z.h.call(this)},xt.prototype.h=function(){xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),H=0;function rt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++H,this.da=this.fa=!1}function Tt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ft(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,U){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const lt=Ot(u,m,T,U);return lt>-1?(m=u[lt],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!T,U),m.fa=v,u.push(m)),m};function Rt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=U>=0)&&Array.prototype.splice.call(T,U,1),q&&(Tt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ot(u,m,v,T){for(let U=0;U<u.length;++U){const q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return U}return-1}var Gt="closure_lm_"+(Math.random()*1e6|0),K={};function st(u,m,v,T,U){if(Array.isArray(m)){for(let q=0;q<m.length;q++)st(u,m[q],v,T,U);return null}return v=ur(v),u&&u[kt]?u.J(m,v,g(T)?!!T.capture:!1,U):yt(u,m,v,!1,T,U)}function yt(u,m,v,T,U,q){if(!m)throw Error("Invalid event type");const lt=g(U)?!!U.capture:!!U;let zt=An(u);if(zt||(u[Gt]=zt=new at(u)),v=zt.add(m,v,T,lt,q),v.proxy)return v;if(T=dt(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)I||(U=lt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Ct(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dt(){function u(v){return m.call(u.src,u.listener,v)}const m=Ae;return u}function gt(u,m,v,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)gt(u,m[q],v,T,U);else T=g(T)?!!T.capture:!!T,v=ur(v),u&&u[kt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ot(m,v,T,U),v>-1&&(Tt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=An(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ot(m,v,T,U)),(v=u>-1?m[u]:null)&&ct(v))}function ct(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[kt])Rt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Ct(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=An(m))?(Rt(v,u),v.h==0&&(v.src=null,m[Gt]=null)):Tt(u)}}}function Ct(u){return u in K?K[u]:K[u]="on"+u}function Ae(u,m){if(u.da)u=!0;else{m=new xt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ct(u),u=v.call(T,m)}return u}function An(u){return u=u[Gt],u instanceof at?u:null}var bn="__closure_events_fn_"+(Math.random()*1e9>>>0);function ur(u){return typeof u=="function"?u:(u[bn]||(u[bn]=function(m){return u.handleEvent(m)}),u[bn])}function be(){M.call(this),this.i=new at(this),this.M=this,this.G=null}C(be,M),be.prototype[kt]=!0,be.prototype.removeEventListener=function(u,m,v,T){gt(this,u,m,v,T)};function Ce(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),ot(m,U)}U=!0;let q,lt;if(v)for(lt=v.length-1;lt>=0;lt--)q=m.g=v[lt],U=ci(q,T,!0,m)&&U;if(q=m.g=u,U=ci(q,T,!0,m)&&U,U=ci(q,T,!1,m)&&U,v)for(lt=0;lt<v.length;lt++)q=m.g=v[lt],U=ci(q,T,!1,m)&&U}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)Tt(v[T]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},be.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ci(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let q=0;q<m.length;++q){const lt=m[q];if(lt&&!lt.da&&lt.capture==v){const zt=lt.listener,Ne=lt.ha||lt.src;lt.fa&&Rt(u.i,lt),U=zt.call(Ne,T)!==!1&&U}}return U&&!T.defaultPrevented}function pl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ia(u){u.g=pl(()=>{u.g=null,u.i&&(u.i=!1,ia(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ze extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ia(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qi(u){M.call(this),this.h=u,this.g={}}C(qi,M);var cr=[];function hr(u){Ft(u.g,function(m,v){this.g.hasOwnProperty(v)&&ct(m)},u),u.g={}}qi.prototype.N=function(){qi.Z.N.call(this),hr(this)},qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hi=d.JSON.stringify,yl=d.JSON.parse,fr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function dr(){}function sa(){}var X={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pt(){D.call(this,"d")}C(pt,D);function vt(){D.call(this,"c")}C(vt,D);var nt={},_e=null;function Lt(){return _e=_e||new be}nt.Ia="serverreachability";function Ie(u){D.call(this,nt.Ia,u)}C(Ie,D);function re(u){const m=Lt();Ce(m,new Ie(m))}nt.STAT_EVENT="statevent";function mr(u,m){D.call(this,nt.STAT_EVENT,u),this.stat=m}C(mr,D);function Ve(u){const m=Lt();Ce(m,new mr(m,u))}nt.Ja="timingevent";function fi(u,m){D.call(this,nt.Ja,u),this.size=m}C(fi,D);function di(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Th(u,m,v,T,U,q){u.info(function(){if(u.g)if(q){var lt="",zt=q.split("&");for(let ie=0;ie<zt.length;ie++){var Ne=zt[ie].split("=");if(Ne.length>1){const ve=Ne[0];Ne=Ne[1];const Pn=ve.split("_");lt=Pn.length>=2&&Pn[1]=="type"?lt+(ve+"="+Ne+"&"):lt+(ve+"=redacted&")}}}else lt=null;else lt=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+lt})}function $o(u,m,v,T,U,q,lt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+lt})}function mi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Sh(u,v)+(T?" "+T:"")})}function gr(u,m){u.info(function(){return"TIMEOUT: "+m})}Xn.prototype.info=function(){};function Sh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let lt=1;lt<T.length;lt++)T[lt]=""}}}}return hi(q)}catch{return m}}var pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_l={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function yr(){}C(yr,dr),yr.prototype.g=function(){return new XMLHttpRequest},vl=new yr;function Hi(u){return encodeURIComponent(String(u))}function Zo(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function $n(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new qi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var xe={},Qe={};function gi(u,m,v){u.M=1,u.A=_r(Le(m)),u.u=v,u.R=!0,ra(u,null)}function ra(u,m){u.F=Date.now(),pi(u),u.B=Le(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ua(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Zn,u.g=fu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ze(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(cr[0]=U.toString()),U=cr);for(let q=0;q<U.length;q++){const lt=st(v,U[q],T||m.handleEvent,!1,m.h||m);if(!lt)break;m.g[lt.key]=lt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),re(),Th(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const zt=ti(this.g),Ne=this.g.ya(),ie=this.g.ca();if(!(zt<3)&&(zt!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||zt!=4||Ne==7||(Ne==8||ie<=0?re(3):re(2)),yi(this);var m=this.g.ca();this.X=m;var v=Ah(this);if(this.o=m==200,$o(this.i,this.v,this.B,this.l,this.S,zt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var q=T;break e}}q=null}if(u=q)mi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,u);else{this.o=!1,this.m=3,Ve(12),wn(this),kn(this);break t}}if(this.R){u=!0;let ve;for(;!this.K&&this.C<v.length;)if(ve=Wo(this,v),ve==Qe){zt==4&&(this.m=4,Ve(14),u=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==xe){this.m=4,Ve(15),mi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else mi(this.i,this.l,ve,null),_i(this,ve);if(Jo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||v.length!=0||this.h.h||(this.m=1,Ve(16),u=!1),this.o=this.o&&u,!u)mi(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),kn(this);else if(v.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xl(lt),lt.P=!0,Ve(11))}}else mi(this.i,this.l,v,null),_i(this,v);zt==4&&wn(this),this.o&&!this.K&&(zt==4?ou(this.j,this):(this.o=!1,pi(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),wn(this),kn(this)}}}catch{}};function Ah(u){if(!Jo(u))return u.g.la();const m=Je(u.g);if(m==="")return"";let v="";const T=m.length,U=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return wn(u),kn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(U&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Jo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Wo(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Qe:(v=Number(m.substring(v,T)),isNaN(v)?xe:(T+=1,T+v>m.length?Qe:(m=m.slice(T,T+v),u.C=T+v,m)))}$n.prototype.cancel=function(){this.K=!0,wn(this)};function pi(u){u.T=Date.now()+u.H,aa(u,u.H)}function aa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=di(y(u.aa,u),m)}function yi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(gr(this.i,this.B),this.M!=2&&(re(),Ve(17)),wn(this),this.m=2,kn(this)):aa(this,this.T-u)};function kn(u){u.j.I==0||u.K||ou(u.j,u)}function wn(u){yi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,hr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function _i(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ei(v.h,u))){if(!u.L&&Ei(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ma(v),bs(v);else break t;wr(v),Ve(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=di(y(v.Va,v),6e3));vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ri(v,11)}else if((u.L||v.g==u)&&ma(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let ie=U[m];const ve=ie[0];if(!(ve<=v.K))if(v.K=ve,ie=ie[1],v.I==2)if(ie[0]=="c"){v.M=ie[1],v.ba=ie[2];const Pn=ie[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const Ci=ie[4];Ci!=null&&(v.za=Ci,v.j.info("SVER="+v.za));const ei=ie[5];ei!=null&&typeof ei=="number"&&ei>0&&(T=1.5*ei,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const ni=u.g;if(ni){const Rr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var q=T.h;q.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Sl(q,q.h),q.h=null))}if(T.G){const ga=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;ga&&(T.wa=ga,le(T.J,T.G,ga))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var lt=u;if(T.na=hu(T,T.L?T.ba:null,T.W),lt.L){Al(T.h,lt);var zt=lt,Ne=T.O;Ne&&(zt.H=Ne),zt.D&&(yi(zt),pi(zt)),T.g=lt}else au(T);v.i.length>0&&wi(v)}else ie[0]!="stop"&&ie[0]!="close"||Ri(v,7);else v.I==3&&(ie[0]=="stop"||ie[0]=="close"?ie[0]=="stop"?Ri(v,7):Ml(v):ie[0]!="noop"&&v.l&&v.l.qa(ie),v.A=0)}}re(4)}catch{}}var ke=class{constructor(u,m){this.g=u,this.map=m}};function El(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function vi(u){return u.h?1:u.g?u.g.size:0}function Ei(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Sl(u,m){u.g?u.g.add(m):u.h=m}function Al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}El.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function la(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,q=null;T>=0?(U=u[v].substring(0,T),q=u[v].substring(T+1)):U=u[v],m(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Rn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Rn?(this.l=u.l,Ke(this,u.j),this.o=u.o,this.g=u.g,ys(this,u.u),this.h=u.h,wl(this,su(u.i)),this.m=u.m):u&&(m=String(u).match(tu))?(this.l=!1,Ke(this,m[1]||"",!0),this.o=Ti(m[2]||""),this.g=Ti(m[3]||"",!0),ys(this,m[4]),this.h=Ti(m[5]||"",!0),wl(this,m[6]||"",!0),this.m=Ti(m[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}Rn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,oa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,oa,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vr(v,v.charAt(0)=="/"?Rl:eu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vr(v,nu)),u.join("")},Rn.prototype.resolve=function(u){const m=Le(this);let v=!!u.j;v?Ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ys(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let lt=0;lt<U.length;){const zt=U[lt++];zt=="."?T&&lt==U.length&&q.push(""):zt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&lt==U.length&&q.push("")):(q.push(zt),T=!0)}T=q.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?wl(m,su(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Le(u){return new Rn(u)}function Ke(u,m,v){u.j=v?Ti(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ys(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wl(u,m,v){m instanceof vs?(u.i=m,ca(u.i,u.l)):(v||(m=vr(m,_s)),u.i=new vs(m,u.l))}function le(u,m,v){u.i.set(m,v)}function _r(u){return le(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ti(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,gn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function gn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var oa=/[#\/\?@]/g,eu=/[#\?:]/g,Rl=/[#\?]/g,_s=/[#\?@]/g,nu=/#/g;function vs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&la(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=vs.prototype,r.add=function(u,m){pn(this),this.i=null,u=Es(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function iu(u,m){pn(u),m=Es(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Cl(u,m){return pn(u),m=Es(u,m),u.g.has(m)}r.forEach=function(u,m){pn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Il(u,m){pn(u);let v=[];if(typeof m=="string")Cl(u,m)&&(v=v.concat(u.g.get(Es(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return pn(this),this.i=null,u=Es(this,u),Cl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Il(this,u),u.length>0?String(u[0]):m):m};function ua(u,m,v){iu(u,m),v.length>0&&(u.i=null,u.g.set(Es(u,m),B(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Hi(v);v=Il(this,v);for(let q=0;q<v.length;q++){let lt=U;v[q]!==""&&(lt+="="+Hi(v[q])),u.push(lt)}}return this.i=u.join("&")};function su(u){const m=new vs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Es(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ca(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(iu(this,T),ua(this,U,v))},u)),u.j=m}function Jn(u,m){const v=new Xn;if(d.Image){const T=new Image;T.onload=S(Ln,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(Ln,v,"TestLoadImage: error",!1,m,T),T.onabort=S(Ln,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(Ln,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Nl(u,m){const v=new Xn,T=new AbortController,U=setTimeout(()=>{T.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function Ts(){this.g=new fr}function Si(u){this.i=u.Sb||null,this.h=u.ab||!1}C(Si,dr),Si.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}C(Er,be),r=Er.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ha(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ha(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ss(this):Wn(this),this.readyState==3&&ha(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},r.Na=function(u){this.g&&(this.response=u,Ss(this))},r.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return Ft(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Tr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Un(v),typeof u=="string"?v!=null&&Hi(v):le(u,m,v))}function ce(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}C(ce,be);var Ai=/^https?$/i,Dl=["POST","PUT"];r=ce.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=k(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Sr(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Dl,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,lt]of v)this.g.setRequestHeader(q,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Sr(this,q)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ol(u),Gi(u)}function Ol(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),ce.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ar(this):this.Xa())},r.Xa=function(){Ar(this)};function Ar(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),ti(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let lt=String(u.D).match(tu)[1]||null;!lt&&d.self&&d.self.location&&(lt=d.self.location.protocol.slice(0,-1)),T=!Ai.test(lt?lt.toLowerCase():"")}v=T}if(v)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var U=ti(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Ol(u)}}finally{Gi(u)}}}}function Gi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ce(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),yl(m)}};function Je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=Zo(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function As(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,u),this.Za=bi("retryDelaySeedMs",1e4,u),this.Ta=bi("forwardChannelMaxRetries",2,u),this.va=bi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new El(u&&u.concurrentRequestLimit),this.Ba=new Ts,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=As.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=hu(this,null,this.W),wi(this)};function Ml(u){if(fa(u),u.I==3){var m=u.V++,v=Le(u.J);if(le(v,"SID",u.M),le(v,"RID",m),le(v,"TYPE","terminate"),br(u,v),m=new $n(u,u.j,m),m.M=2,m.A=_r(Le(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=fu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}cu(u)}function bs(u){u.g&&(xl(u),u.g.cancel(),u.g=null)}function fa(u){bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ma(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function wi(u){if(!Tl(u.h)&&!u.m){u.m=!0;var m=u.Ea;wt||R(),ft||(wt(),ft=!0),N.add(m,u),u.D=0}}function da(u,m){return vi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=di(y(u.Ea,u,m),uu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new $n(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),ot(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ru(this,U,m),v=Le(this.J),le(v,"RID",u),le(v,"CVER",22),this.G&&le(v,"X-HTTP-Session-Id",this.G),br(this,v),q&&(this.R?m="headers="+Hi(Un(q))+"&"+m:this.u&&Tr(v,this.u,q)),Sl(this.h,U),this.Ra&&le(v,"TYPE","init"),this.S?(le(v,"$req",m),le(v,"SID","null"),U.U=!0,gi(U,v,null)):gi(U,v,m),this.I=2}}else this.I==3&&(u?Vl(this,u):this.i.length==0||Tl(this.h)||Vl(this))};function Vl(u,m){var v;m?v=m.l:v=u.V++;const T=Le(u.J);le(T,"SID",u.M),le(T,"RID",v),le(T,"AID",u.K),br(u,T),u.u&&u.o&&Tr(T,u.u,u.o),v=new $n(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ru(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Sl(u.h,v),gi(v,T,m)}function br(u,m){u.H&&Ft(u.H,function(v,T){le(m,T,v)}),u.l&&Ft({},function(v,T){le(m,T,v)})}function ru(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let zt=-1;for(;;){const Ne=["count="+v];zt==-1?v>0?(zt=U[0].g,Ne.push("ofs="+zt)):zt=0:Ne.push("ofs="+zt);let ie=!0;for(let ve=0;ve<v;ve++){var q=U[ve].g;const Pn=U[ve].map;if(q-=zt,q<0)zt=Math.max(0,U[ve].g-100),ie=!1;else try{q="req"+q+"_"||"";try{var lt=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Ci,ei]of lt){let ni=ei;g(ei)&&(ni=hi(ei)),Ne.push(q+Ci+"="+encodeURIComponent(ni))}}catch(Ci){throw Ne.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{T&&T(Pn)}}if(ie){lt=Ne.join("&");break t}}lt=void 0}return u=u.i.splice(0,v),m.G=u,lt}function au(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;wt||R(),ft||(wt(),ft=!0),N.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=di(y(u.Da,u),uu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=di(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),bs(this),lu(this))};function xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function lu(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Le(u.na);le(m,"RID","rpc"),le(m,"SID",u.M),le(m,"AID",u.K),le(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&le(m,"TO",u.ia),le(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_r(Le(m)),v.u=null,v.R=!0,ra(v,u)}r.Va=function(){this.C!=null&&(this.C=null,bs(this),wr(this),Ve(19))};function ma(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ou(u,m){var v=null;if(u.g==m){ma(u),xl(u),u.g=null;var T=2}else if(Ei(u.h,m))v=m.G,Al(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Lt(),Ce(T,new fi(T,v)),wi(u)}else au(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&da(u,m)||T==2&&wr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function uu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new Rn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ke(T,"https"),_r(T),U?Jn(T.toString(),v):Nl(T.toString(),v)}else Ve(2);u.I=0,u.l&&u.l.pa(m),cu(u),fa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function cu(u){if(u.I=0,u.ja=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function hu(u,m,v){var T=v instanceof Rn?Le(v):new Rn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ys(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const q=new Rn(null);T&&Ke(q,T),m&&(q.g=m),U&&ys(q,U),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&le(T,v,m),le(T,"VER",u.ka),br(u,T),T}function fu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ce(new Si({ab:v})):new ce(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}r=du.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ws(){}ws.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){be.call(this),this.g=new As(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}C(dn,be),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Ml(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hi(u),u=v);m.i.push(new ke(m.Ya++,u)),m.I==3&&wi(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,dn.Z.N.call(this)};function mu(u){pt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}C(mu,pt);function gu(){vt.call(this),this.status=1}C(gu,vt);function Qi(u){this.g=u}C(Qi,du),Qi.prototype.ra=function(){Ce(this.g,"a")},Qi.prototype.qa=function(u){Ce(this.g,new mu(u))},Qi.prototype.pa=function(u){Ce(this.g,new gu)},Qi.prototype.oa=function(){Ce(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,JE=function(){return new ws},ZE=function(){return Lt()},$E=nt,Qd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pr.NO_ERROR=0,pr.TIMEOUT=8,pr.HTTP_ERROR=6,Oc=pr,_l.COMPLETE="complete",XE=_l,sa.EventType=X,X.OPEN="a",X.CLOSE="b",X.ERROR="c",X.MESSAGE="d",be.prototype.listen=be.prototype.J,To=sa,ce.prototype.listenOnce=ce.prototype.K,ce.prototype.getLastError=ce.prototype.Ha,ce.prototype.getLastErrorCode=ce.prototype.ya,ce.prototype.getStatus=ce.prototype.ca,ce.prototype.getResponseJson=ce.prototype.La,ce.prototype.getResponseText=ce.prototype.la,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Fa,YE=ce}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const sv="@firebase/firestore",rv="4.9.3";class cn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let fl="12.7.0";const Zr=new cm("@firebase/firestore");function Fa(){return Zr.logLevel}function mt(r,...t){if(Zr.logLevel<=$t.DEBUG){const i=t.map(Am);Zr.debug(`Firestore (${fl}): ${r}`,...i)}}function ms(r,...t){if(Zr.logLevel<=$t.ERROR){const i=t.map(Am);Zr.error(`Firestore (${fl}): ${r}`,...i)}}function il(r,...t){if(Zr.logLevel<=$t.WARN){const i=t.map(Am);Zr.warn(`Firestore (${fl}): ${r}`,...i)}}function Am(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Dt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,WE(r,a,i)}function WE(r,t,i){let a=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ms(a),new Error(a)}function ae(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||WE(t,o,a)}function jt(r,t){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends ps{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class tT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Zw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(cn.UNAUTHENTICATED)))}shutdown(){}}class Jw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Ww{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ae(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},g=_=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ae(typeof a.accessToken=="string",31837,{l:a}),new tT(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class tR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new tR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ae(this.o===void 0,3512);const a=c=>{c.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,mt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ae(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=iR(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Zt(r,t){return r<t?-1:r>t?1:0}function Kd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Md(o)===Md(c)?Zt(o,c):Md(o)?1:-1}return Zt(r.length,t.length)}const sR=55296,rR=57343;function Md(r){const t=r.charCodeAt(0);return t>=sR&&t<=rR}function sl(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const lv="__name__";class Vi{constructor(t,i,a){i===void 0?i=0:i>t.length&&Dt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Dt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Vi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Vi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Vi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Zt(t.length,i.length)}static compareSegments(t,i){const a=Vi.isNumericId(t),o=Vi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Vi.extractNumericId(t).compare(Vi.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nr.fromString(t.substring(4,t.length-2))}}class Te extends Vi{construct(t,i,a){return new Te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new St(tt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Te(i)}static emptyPath(){return new Te([])}}const aR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Vi{construct(t,i,a){return new an(t,i,a)}static isValidIdentifier(t){return aR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lv}static keyField(){return new an([lv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new St(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new St(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new St(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new St(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new an(i)}static emptyPath(){return new an([])}}class It{constructor(t){this.path=t}static fromPath(t){return new It(Te.fromString(t))}static fromName(t){return new It(Te.fromString(t).popFirst(5))}static empty(){return new It(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new It(new Te(t.slice()))}}function lR(r,t,i){if(!i)throw new St(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function oR(r,t,i,a){if(t===!0&&a===!0)throw new St(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function ov(r){if(!It.isDocumentKey(r))throw new St(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function eT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Dt(12329,{type:typeof r})}function Ja(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new St(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wm(r);throw new St(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function qe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fo(r,t){if(!eT(r))throw new St(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new St(tt.INVALID_ARGUMENT,i);return!0}const uv=-62135596800,cv=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*cv);return new ye(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new St(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new St(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<uv)throw new St(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(t){return this.seconds===t.seconds?Zt(this.nanoseconds,t.nanoseconds):Zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fo(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:qe("string",ye._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};class Ut{static fromTimestamp(t){return new Ut(t)}static min(){return new Ut(new ye(0,0))}static max(){return new Ut(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vo=-1;function uR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ut.fromTimestamp(a===1e9?new ye(i+1,0):new ye(i,a));return new ir(o,It.empty(),t)}function cR(r){return new ir(r.readTime,r.key,Vo)}class ir{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new ir(Ut.min(),It.empty(),Vo)}static max(){return new ir(Ut.max(),It.empty(),Vo)}}function hR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=It.comparator(r.documentKey,t.documentKey),i!==0?i:Zt(r.largestBatchId,t.largestBatchId))}const fR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function dl(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==fR)throw r;mt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((S=>{d[y]=S,++g,g===c&&a(d)}),(S=>o(S)))}}))}static doWhile(t,i){return new Z(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function mR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ml(r){return r.name==="IndexedDbTransactionError"}class oh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}oh.ce=-1;const Rm=-1;function uh(r){return r==null}function Fc(r){return r===0&&1/r==-1/0}function gR(r){return typeof r=="number"&&Number.isInteger(r)&&!Fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const nT="";function pR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=hv(t)),t=yR(r.get(i),t);return hv(t)}function yR(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case nT:i+="";break;default:i+=c}}return i}function hv(r){return r+nT+""}function fv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Wr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function iT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Se{constructor(t,i){this.comparator=t,this.root=i||rn.EMPTY}insert(t,i){return new Se(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rn{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??rn.RED,this.left=o??rn.EMPTY,this.right=c??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new rn(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return rn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new rn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fe{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(t){return new dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Fe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Fe(this.comparator);return i.data=t,i}}class dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oi{constructor(t){this.fields=t,t.sort(an.comparator)}static empty(){return new oi([])}unionWith(t){let i=new Fe(an.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new oi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return sl(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class sT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new sT("Invalid base64 string: "+c):c}})(t);return new ln(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new ln(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const _R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(r){if(ae(!!r,39018),typeof r=="string"){let t=0;const i=_R.exec(r);if(ae(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Me(r.seconds),nanos:Me(r.nanos)}}function Me(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function rr(r){return typeof r=="string"?ln.fromBase64String(r):ln.fromUint8Array(r)}const rT="server_timestamp",aT="__type__",lT="__previous_value__",oT="__local_write_time__";function Cm(r){return(r?.mapValue?.fields||{})[aT]?.stringValue===rT}function ch(r){const t=r.mapValue.fields[lT];return Cm(t)?ch(t):t}function xo(r){const t=sr(r.mapValue.fields[oT].timestampValue);return new ye(t.seconds,t.nanos)}class vR{constructor(t,i,a,o,c,d,g,_,y,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S}}const Qc="(default)";class ko{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new ko("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof ko&&t.projectId===this.projectId&&t.database===this.database}}const uT="__type__",ER="__max__",Ac={mapValue:{}},cT="__vector__",Kc="value";function ar(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:SR(r)?9007199254740991:TR(r)?10:11:Dt(28295,{value:r})}function zi(r,t){if(r===t)return!0;const i=ar(r);if(i!==ar(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xo(r).isEqual(xo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=sr(o.timestampValue),g=sr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return rr(o.bytesValue).isEqual(rr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Me(o.geoPointValue.latitude)===Me(c.geoPointValue.latitude)&&Me(o.geoPointValue.longitude)===Me(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Me(o.integerValue)===Me(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Me(o.doubleValue),g=Me(c.doubleValue);return d===g?Fc(d)===Fc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return sl(r.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(fv(d)!==fv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!zi(d[_],g[_])))return!1;return!0})(r,t);default:return Dt(52216,{left:r})}}function Lo(r,t){return(r.values||[]).find((i=>zi(i,t)))!==void 0}function rl(r,t){if(r===t)return 0;const i=ar(r),a=ar(t);if(i!==a)return Zt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Zt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Me(c.integerValue||c.doubleValue),_=Me(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return mv(r.timestampValue,t.timestampValue);case 4:return mv(xo(r),xo(t));case 5:return Kd(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=rr(c),_=rr(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const S=Zt(g[y],_[y]);if(S!==0)return S}return Zt(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Zt(Me(c.latitude),Me(d.latitude));return g!==0?g:Zt(Me(c.longitude),Me(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return gv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Kc]?.arrayValue,S=_[Kc]?.arrayValue,C=Zt(y?.values?.length||0,S?.values?.length||0);return C!==0?C:gv(y,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let C=0;C<_.length&&C<S.length;++C){const k=Kd(_[C],S[C]);if(k!==0)return k;const B=rl(g[_[C]],y[S[C]]);if(B!==0)return B}return Zt(_.length,S.length)})(r.mapValue,t.mapValue);default:throw Dt(23264,{he:i})}}function mv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Zt(r,t);const i=sr(r),a=sr(t),o=Zt(i.seconds,a.seconds);return o!==0?o:Zt(i.nanos,a.nanos)}function gv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=rl(i[o],a[o]);if(c)return c}return Zt(i.length,a.length)}function al(r){return Yd(r)}function Yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=sr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return rr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return It.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Yd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Yd(i.fields[d])}`;return o+"}"})(r.mapValue):Dt(61005,{value:r})}function Mc(r){switch(ar(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ch(r);return t?16+Mc(t):16;case 5:return 2*r.stringValue.length;case 6:return rr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Mc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Wr(a.fields,((c,d)=>{o+=c.length+Mc(d)})),o})(r.mapValue);default:throw Dt(13486,{value:r})}}function Xd(r){return!!r&&"integerValue"in r}function Im(r){return!!r&&"arrayValue"in r}function pv(r){return!!r&&"nullValue"in r}function yv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Vc(r){return!!r&&"mapValue"in r}function TR(r){return(r?.mapValue?.fields||{})[uT]?.stringValue===cT}function Co(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Wr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Co(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Co(r.arrayValue.values[i]);return t}return{...r}}function SR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ER}class Kn{constructor(t){this.value=t}static empty(){return new Kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Vc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Co(i)}setAll(t){let i=an.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Co(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Wr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Kn(Co(this.value))}}function hT(r){const t=[];return Wr(r.fields,((i,a)=>{const o=new an([i]);if(Vc(a)){const c=hT(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new oi(t)}class hn{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new hn(t,0,Ut.min(),Ut.min(),Ut.min(),Kn.empty(),0)}static newFoundDocument(t,i,a,o){return new hn(t,1,i,Ut.min(),a,o,0)}static newNoDocument(t,i){return new hn(t,2,i,Ut.min(),Ut.min(),Kn.empty(),0)}static newUnknownDocument(t,i){return new hn(t,3,i,Ut.min(),Ut.min(),Kn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ut.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function _v(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=It.comparator(It.fromName(d.referenceValue),i.key):a=rl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function vv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!zi(r.position[i],t.position[i]))return!1;return!0}class Xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function AR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class fT{}class Ge extends fT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new wR(t,i,a):i==="array-contains"?new IR(t,a):i==="in"?new NR(t,a):i==="not-in"?new DR(t,a):i==="array-contains-any"?new OR(t,a):new Ge(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new RR(t,a):new CR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(rl(i,this.value)):i!==null&&ar(this.value)===ar(i)&&this.matchesComparison(rl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends fT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Bi(t,i)}matches(t){return dT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dT(r){return r.op==="and"}function mT(r){return bR(r)&&dT(r)}function bR(r){for(const t of r.filters)if(t instanceof Bi)return!1;return!0}function $d(r){if(r instanceof Ge)return r.field.canonicalString()+r.op.toString()+al(r.value);if(mT(r))return r.filters.map((t=>$d(t))).join(",");{const t=r.filters.map((i=>$d(i))).join(",");return`${r.op}(${t})`}}function gT(r,t){return r instanceof Ge?(function(a,o){return o instanceof Ge&&a.op===o.op&&a.field.isEqual(o.field)&&zi(a.value,o.value)})(r,t):r instanceof Bi?(function(a,o){return o instanceof Bi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&gT(d,o.filters[g])),!0):!1})(r,t):void Dt(19439)}function pT(r){return r instanceof Ge?(function(i){return`${i.field.canonicalString()} ${i.op} ${al(i.value)}`})(r):r instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(pT).join(" ,")+"}"})(r):"Filter"}class wR extends Ge{constructor(t,i,a){super(t,i,a),this.key=It.fromName(a.referenceValue)}matches(t){const i=It.comparator(t.key,this.key);return this.matchesComparison(i)}}class RR extends Ge{constructor(t,i){super(t,"in",i),this.keys=yT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class CR extends Ge{constructor(t,i){super(t,"not-in",i),this.keys=yT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function yT(r,t){return(t.arrayValue?.values||[]).map((i=>It.fromName(i.referenceValue)))}class IR extends Ge{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Im(i)&&Lo(i.arrayValue,this.value)}}class NR extends Ge{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Lo(this.value.arrayValue,i)}}class DR extends Ge{constructor(t,i){super(t,"not-in",i)}matches(t){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Lo(this.value.arrayValue,i)}}class OR extends Ge{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Im(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Lo(this.value.arrayValue,a)))}}class MR{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Ev(r,t=null,i=[],a=[],o=null,c=null,d=null){return new MR(r,t,i,a,o,c,d)}function Nm(r){const t=jt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>$d(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),uh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>al(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>al(a))).join(",")),t.Te=i}return t.Te}function Dm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!AR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!gT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!vv(r.startAt,t.startAt)&&vv(r.endAt,t.endAt)}function Zd(r){return It.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class hh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function VR(r,t,i,a,o,c,d,g){return new hh(r,t,i,a,o,c,d,g)}function Om(r){return new hh(r)}function Tv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xR(r){return r.collectionGroup!==null}function Io(r){const t=jt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Fe(an.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xc(c,a))})),i.has(an.keyField().canonicalString())||t.Ie.push(new Xc(an.keyField(),a))}return t.Ie}function ki(r){const t=jt(r);return t.Ee||(t.Ee=kR(t,Io(r))),t.Ee}function kR(r,t){if(r.limitType==="F")return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Xc(o.field,c)}));const i=r.endAt?new Yc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Yc(r.startAt.position,r.startAt.inclusive):null;return Ev(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Jd(r,t,i){return new hh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function fh(r,t){return Dm(ki(r),ki(t))&&r.limitType===t.limitType}function _T(r){return`${Nm(ki(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>pT(o))).join(", ")}]`),uh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>al(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>al(o))).join(",")),`Target(${a})`})(ki(r))}; limitType=${r.limitType})`}function dh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):It.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Io(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,_){const y=_v(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Io(a),o)||a.endAt&&!(function(d,g,_){const y=_v(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Io(a),o))})(r,t)}function LR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vT(r){return(t,i)=>{let a=!1;for(const o of Io(r)){const c=UR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function UR(r,t,i){const a=r.field.isKeyField()?It.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?rl(_,y):Dt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Dt(19790,{direction:r.dir})}}class ta{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Wr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return iT(this.inner)}size(){return this.innerSize}}const PR=new Se(It.comparator);function gs(){return PR}const ET=new Se(It.comparator);function So(...r){let t=ET;for(const i of r)t=t.insert(i.key,i);return t}function TT(r){let t=ET;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Gr(){return No()}function ST(){return No()}function No(){return new ta((r=>r.toString()),((r,t)=>r.isEqual(t)))}const jR=new Se(It.comparator),zR=new Fe(It.comparator);function Jt(...r){let t=zR;for(const i of r)t=t.add(i);return t}const BR=new Fe(Zt);function qR(){return BR}function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function AT(r){return{integerValue:""+r}}function HR(r,t){return gR(t)?AT(t):Mm(r,t)}class mh{constructor(){this._=void 0}}function GR(r,t,i){return r instanceof $c?(function(o,c){const d={fields:{[aT]:{stringValue:rT},[oT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Cm(c)&&(c=ch(c)),c&&(d.fields[lT]=c),{mapValue:d}})(i,t):r instanceof Uo?wT(r,t):r instanceof Po?RT(r,t):(function(o,c){const d=bT(o,c),g=Sv(d)+Sv(o.Ae);return Xd(d)&&Xd(o.Ae)?AT(g):Mm(o.serializer,g)})(r,t)}function FR(r,t,i){return r instanceof Uo?wT(r,t):r instanceof Po?RT(r,t):i}function bT(r,t){return r instanceof Zc?(function(a){return Xd(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class $c extends mh{}class Uo extends mh{constructor(t){super(),this.elements=t}}function wT(r,t){const i=CT(t);for(const a of r.elements)i.some((o=>zi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Po extends mh{constructor(t){super(),this.elements=t}}function RT(r,t){let i=CT(t);for(const a of r.elements)i=i.filter((o=>!zi(o,a)));return{arrayValue:{values:i}}}class Zc extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Sv(r){return Me(r.integerValue||r.doubleValue)}function CT(r){return Im(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function QR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Uo&&o instanceof Uo||a instanceof Po&&o instanceof Po?sl(a.elements,o.elements,zi):a instanceof Zc&&o instanceof Zc?zi(a.Ae,o.Ae):a instanceof $c&&o instanceof $c})(r.transform,t.transform)}class KR{constructor(t,i){this.version=t,this.transformResults=i}}class hs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hs}static exists(t){return new hs(void 0,t)}static updateTime(t){return new hs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function IT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new DT(r.key,hs.none()):new Qo(r.key,r.data,hs.none());{const i=r.data,a=Kn.empty();let o=new Fe(an.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new ea(r.key,a,new oi(o.toArray()),hs.none())}}function YR(r,t,i){r instanceof Qo?(function(o,c,d){const g=o.value.clone(),_=bv(o.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof ea?(function(o,c,d){if(!xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=bv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(NT(o)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Do(r,t,i,a){return r instanceof Qo?(function(c,d,g,_){if(!xc(c.precondition,d))return g;const y=c.value.clone(),S=wv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof ea?(function(c,d,g,_){if(!xc(c.precondition,d))return g;const y=wv(c.fieldTransforms,_,d),S=d.data;return S.setAll(NT(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((C=>C.field)))})(r,t,i,a):(function(c,d,g){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function XR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=bT(a.transform,o||null);c!=null&&(i===null&&(i=Kn.empty()),i.set(a.field,c))}return i||null}function Av(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&sl(a,o,((c,d)=>QR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Qo extends gh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ea extends gh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function NT(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function bv(r,t,i){const a=new Map;ae(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,FR(d,g,i[o]))}return a}function wv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,GR(c,d,t))}return a}class DT extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $R extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ZR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&YR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Do(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Do(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=ST();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const _=IT(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Ut.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Jt())}isEqual(t){return this.batchId===t.batchId&&sl(this.mutations,t.mutations,((i,a)=>Av(i,a)))&&sl(this.baseMutations,t.baseMutations,((i,a)=>Av(i,a)))}}class Vm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){ae(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return jR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Vm(t,i,a,o)}}class JR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class WR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Be,te;function tC(r){switch(r){case tt.OK:return Dt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Dt(15467,{code:r})}}function OT(r){if(r===void 0)return ms("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Be.OK:return tt.OK;case Be.CANCELLED:return tt.CANCELLED;case Be.UNKNOWN:return tt.UNKNOWN;case Be.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Be.INTERNAL:return tt.INTERNAL;case Be.UNAVAILABLE:return tt.UNAVAILABLE;case Be.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Be.NOT_FOUND:return tt.NOT_FOUND;case Be.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Be.ABORTED:return tt.ABORTED;case Be.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Be.DATA_LOSS:return tt.DATA_LOSS;default:return Dt(39323,{code:r})}}(te=Be||(Be={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";function eC(){return new TextEncoder}const nC=new nr([4294967295,4294967295],0);function Rv(r){const t=eC().encode(r),i=new KE;return i.update(t),new Uint8Array(i.digest())}function Cv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new nr([i,a],0),new nr([o,c],0)]}class xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ao(`Invalid padding: ${i}`);if(a<0)throw new Ao(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=nr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(nr.fromNumber(a)));return o.compare(nC)===1&&(o=new nr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Rv(t),[a,o]=Cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new xm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Rv(t),[a,o]=Cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Ko.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ph(Ut.min(),o,new Se(Zt),gs(),Jt())}}class Ko{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ko(a,i,Jt(),Jt(),Jt())}}class kc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class MT{constructor(t,i){this.targetId=t,this.Ce=i}}class VT{constructor(t,i,a=ln.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Iv{constructor(){this.ve=0,this.Fe=Nv(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Jt(),i=Jt(),a=Jt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Dt(38017,{changeType:c})}})),new Ko(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Nv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class iC{constructor(t){this.Ge=t,this.ze=new Map,this.je=gs(),this.Je=bc(),this.He=bc(),this.Ye=new Se(Zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Zd(c))if(a===0){const d=new It(c.path);this.et(i,d,hn.newNoDocument(d,Ut.min()))}else ae(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=rr(a).toUint8Array()}catch(_){if(_ instanceof sT)return il("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new xm(d,o,c)}catch(_){return il(_ instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Zd(g.target)){const _=new It(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,hn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Jt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new ph(t,i,this.Ye,this.je,a);return this.je=gs(),this.Je=bc(),this.He=bc(),this.Ye=new Se(Zt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Iv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Fe(Zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Fe(Zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||mt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Iv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function bc(){return new Se(It.comparator)}function Nv(){return new Se(It.comparator)}const sC={asc:"ASCENDING",desc:"DESCENDING"},rC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aC={and:"AND",or:"OR"};class lC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Wd(r,t){return r.useProto3Json||uh(t)?t:{value:t}}function Jc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function oC(r,t){return Jc(r,t.toTimestamp())}function Li(r){return ae(!!r,49232),Ut.fromTimestamp((function(i){const a=sr(i);return new ye(a.seconds,a.nanos)})(r))}function km(r,t){return tm(r,t).canonicalString()}function tm(r,t){const i=(function(o){return new Te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function kT(r){const t=Te.fromString(r);return ae(zT(t),10190,{key:t.toString()}),t}function em(r,t){return km(r.databaseId,t.path)}function Vd(r,t){const i=kT(t);if(i.get(1)!==r.databaseId.projectId)throw new St(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new St(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new It(UT(i))}function LT(r,t){return km(r.databaseId,t)}function uC(r){const t=kT(r);return t.length===4?Te.emptyPath():UT(t)}function nm(r){return new Te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function UT(r){return ae(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Dv(r,t,i){return{name:em(r,t),fields:i.value.mapValue.fields}}function cC(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Dt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(ae(S===void 0||typeof S=="string",58123),ln.fromBase64String(S||"")):(ae(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),ln.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?tt.UNKNOWN:OT(y.code);return new St(S,y.message||"")})(d);i=new VT(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Vd(r,a.document.name),c=Li(a.document.updateTime),d=a.document.createTime?Li(a.document.createTime):Ut.min(),g=new Kn({mapValue:{fields:a.document.fields}}),_=hn.newFoundDocument(o,c,d,g),y=a.targetIds||[],S=a.removedTargetIds||[];i=new kc(y,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Vd(r,a.document),c=a.readTime?Li(a.readTime):Ut.min(),d=hn.newNoDocument(o,c),g=a.removedTargetIds||[];i=new kc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Vd(r,a.document),c=a.removedTargetIds||[];i=new kc([],c,o,null)}else{if(!("filter"in t))return Dt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new WR(o,c),g=a.targetId;i=new MT(g,d)}}return i}function hC(r,t){let i;if(t instanceof Qo)i={update:Dv(r,t.key,t.value)};else if(t instanceof DT)i={delete:em(r,t.key)};else if(t instanceof ea)i={update:Dv(r,t.key,t.data),updateMask:EC(t.fieldMask)};else{if(!(t instanceof $R))return Dt(16599,{Vt:t.type});i={verify:em(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Dt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:oC(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Dt(27497)})(r,t.precondition)),i}function fC(r,t){return r&&r.length>0?(ae(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Li(o.updateTime):Li(c);return d.isEqual(Ut.min())&&(d=Li(c)),new KR(d,o.transformResults||[])})(i,t)))):[]}function dC(r,t){return{documents:[LT(r,t.path)]}}function mC(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=LT(r,o);const c=(function(y){if(y.length!==0)return jT(Bi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(k){return{field:Ka(k.field),direction:yC(k.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Wd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function gC(r){let t=uC(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ae(a===1,65062);const S=i.from[0];S.allDescendants?o=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(C){const k=PT(C);return k instanceof Bi&&mT(k)?k.getFilters():[k]})(i.where));let d=[];i.orderBy&&(d=(function(C){return C.map((k=>(function(J){return new Xc(Ya(J.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(k)))})(i.orderBy));let g=null;i.limit&&(g=(function(C){let k;return k=typeof C=="object"?C.value:C,uh(k)?null:k})(i.limit));let _=null;i.startAt&&(_=(function(C){const k=!!C.before,B=C.values||[];return new Yc(B,k)})(i.startAt));let y=null;return i.endAt&&(y=(function(C){const k=!C.before,B=C.values||[];return new Yc(B,k)})(i.endAt)),VR(t,o,d,c,g,"F",_,y)}function pC(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function PT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ya(i.unaryFilter.field);return Ge.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ya(i.unaryFilter.field);return Ge.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ya(i.unaryFilter.field);return Ge.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ya(i.unaryFilter.field);return Ge.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ge.create(Ya(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>PT(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(i.compositeFilter.op))})(r):Dt(30097,{filter:r})}function yC(r){return sC[r]}function _C(r){return rC[r]}function vC(r){return aC[r]}function Ka(r){return{fieldPath:r.canonicalString()}}function Ya(r){return an.fromServerFormat(r.fieldPath)}function jT(r){return r instanceof Ge?(function(i){if(i.op==="=="){if(yv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(yv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NAN"}};if(pv(i.value))return{unaryFilter:{field:Ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ka(i.field),op:_C(i.op),value:i.value}}})(r):r instanceof Bi?(function(i){const a=i.getFilters().map((o=>jT(o)));return a.length===1?a[0]:{compositeFilter:{op:vC(i.op),filters:a}}})(r):Dt(54877,{filter:r})}function EC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function zT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Js{constructor(t,i,a,o,c=Ut.min(),d=Ut.min(),g=ln.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Js(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class TC{constructor(t){this.yt=t}}function SC(r){const t=gC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jd(t,t.limit,"L"):t}class AC{constructor(){this.Cn=new bC}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(ir.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(ir.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class bC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Fe(Te.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Fe(Te.comparator)).toArray()}}const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BT=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(BT,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class ll{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ll(0)}static cr(){return new ll(-1)}}const Mv="LruGarbageCollector",wC=1048576;function Vv([r,t],[i,a]){const o=Zt(r,i);return o===0?Zt(t,a):o}class RC{constructor(t){this.Ir=t,this.buffer=new Fe(Vv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Vv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class CC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(Mv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ml(i)?mt(Mv,"Ignoring IndexedDB error during garbage collection: ",i):await dl(i)}await this.Vr(3e5)}))}}class IC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(oh.ce);const a=new RC(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Ov)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,_,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(t,o)))).next((C=>(a=C,g=Date.now(),this.removeTargets(t,a,i)))).next((C=>(c=C,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((C=>(y=Date.now(),Fa()<=$t.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${C} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:C}))))}}function NC(r,t){return new IC(r,t)}class DC{constructor(){this.changes=new ta((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,hn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class OC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class MC{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Do(a.mutation,o,oi.empty(),ye.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Jt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Jt()){const o=Gr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=So();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Gr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Jt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=gs();const d=No(),g=(function(){return No()})();return i.forEach(((_,y)=>{const S=a.get(y.key);o.has(y.key)&&(S===void 0||S.mutation instanceof ea)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Do(S.mutation,y,S.mutation.getFieldMask(),ye.now())):d.set(y.key,oi.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new OC(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=No();let o=new Se(((d,g)=>d-g)),c=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||oi.empty();S=g.applyToLocalView(y,S),a.set(_,S);const C=(o.get(g.batchId)||Jt()).add(_);o=o.insert(g.batchId,C)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,S=_.value,C=ST();S.forEach((k=>{if(!c.has(k)){const B=IT(i.get(k),a.get(k));B!==null&&C.set(k,B),c=c.add(k)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,C))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return It.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):xR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):Z.resolve(Gr());let g=Vo,_=c;return d.next((y=>Z.forEach(y,((S,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),c.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(t,S).next((k=>{_=_.insert(S,k)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Jt()))).next((S=>({batchId:g,changes:TT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new It(i)).next((a=>{let o=So();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=So();return this.indexManager.getCollectionParents(t,c).next((g=>Z.forEach(g,(_=>{const y=(function(C,k){return new hh(k,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((S=>{S.forEach(((C,k)=>{d=d.insert(C,k)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,hn.newInvalidDocument(S)))}));let g=So();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Do(S.mutation,y,oi.empty(),ye.now()),dh(i,y)&&(g=g.insert(_,y))})),g}))}}class VC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:SC(o.bundledQuery),readTime:Li(o.readTime)}})(i)),Z.resolve()}}class xC{constructor(){this.overlays=new Se(It.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Gr();return Z.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const o=Gr(),c=i.length+1,d=new It(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new Se(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Gr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Gr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=o)););return Z.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new JR(i,a));let c=this.qr.get(i);c===void 0&&(c=Jt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class kC{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Lm{constructor(){this.Qr=new Fe(Xe.$r),this.Ur=new Fe(Xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Xe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Xe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new It(new Te([])),a=new Xe(i,t),o=new Xe(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new It(new Te([])),a=new Xe(i,t),o=new Xe(i,t+1);let c=Jt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Xe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return It.comparator(t.key,i.key)||Zt(t.Yr,i.Yr)}static Kr(t,i){return Zt(t.Yr,i.Yr)||It.comparator(t.key,i.key)}}class LC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Fe(Xe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ZR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Xe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Rm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Xe(i,0),o=new Xe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Fe(Zt);return i.forEach((o=>{const c=new Xe(o,0),d=new Xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;It.isDocumentKey(c)||(c=c.child(""));const d=new Xe(new It(c),0);let g=new Fe(Zt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(_.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ae(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Xe(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Xe(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class UC{constructor(t){this.ri=t,this.docs=(function(){return new Se(It.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():hn.newInvalidDocument(i))}getEntries(t,i){let a=gs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():hn.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=gs();const d=i.path,g=new It(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||hR(cR(S),a)<=0||(o.has(S.key)||dh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,o){Dt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new PC(this)}getSize(t){return Z.resolve(this.size)}}class PC extends DC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class jC{constructor(t){this.persistence=t,this.si=new ta((i=>Nm(i)),Dm),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.oi=0,this._i=new Lm,this.targetCount=0,this.ai=ll.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ll(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class qT{constructor(t,i){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new kC,this.referenceDelegate=t(this),this.Pi=new jC(this),this.indexManager=new AC,this.remoteDocumentCache=(function(o){return new UC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new TC(i),this.Ii=new VC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new xC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new LC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){mt("MemoryPersistence","Starting transaction:",t);const o=new zC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class zC extends dR{constructor(t){super(),this.currentSequenceNumber=t}}class Um{constructor(t){this.persistence=t,this.Ri=new Lm,this.Vi=null}static mi(t){return new Um(t)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=It.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,Ut.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Wc{constructor(t,i){this.persistence=t,this.pi=new ta((a=>pR(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=NC(this,i)}static mi(t,i){return new Wc(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Ut.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Pm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Jt(),o=Jt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Pm(t,i.fromCache,a,o)}}class BC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class qC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return MA()?8:mR(fn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new BC;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Fa()<=$t.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",Qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Fa()<=$t.DEBUG&&mt("QueryEngine","Query:",Qa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Fa()<=$t.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",Qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ki(i))):Z.resolve())}ys(t,i){if(Tv(i))return Z.resolve(null);let a=ki(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Jd(i,null,"F"),a=ki(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Jt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,Jd(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,o){return Tv(i)||o.isEqual(Ut.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(Fa()<=$t.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(i)),this.vs(t,d,i,uR(o,Vo)).next((g=>g)))}))}Ds(t,i){let a=new Fe(vT(t));return i.forEach(((o,c)=>{dh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return Fa()<=$t.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",Qa(i)),this.ps.getDocumentsMatchingQuery(t,i,ir.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const jm="LocalStore",HC=3e8;class GC{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Se(Zt),this.xs=new ta((c=>Nm(c)),Dm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function FC(r,t,i,a){return new GC(r,t,i,a)}async function HT(r,t){const i=jt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Jt();for(const y of o){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function QC(r,t){const i=jt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,S){const C=y.batch,k=C.keys();let B=Z.resolve();return k.forEach((J=>{B=B.next((()=>S.getEntry(_,J))).next((et=>{const W=y.docVersions.get(J);ae(W!==null,48541),et.version.compareTo(W)<0&&(C.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),S.addEntry(et)))}))})),B.next((()=>g.mutationQueue.removeMutationBatch(_,C)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Jt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function GT(r){const t=jt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function KC(r,t){const i=jt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((S,C)=>{const k=o.get(C);if(!k)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,C).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,C))));let B=k.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(C)!==null?B=B.withResumeToken(ln.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):S.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(S.resumeToken,a)),o=o.insert(C,B),(function(et,W,it){return et.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=HC?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(k,B,S)&&g.push(i.Pi.updateTargetData(c,B))}));let _=gs(),y=Jt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(YC(c,d,t.documentUpdates).next((S=>{_=S.ks,y=S.qs}))),!a.isEqual(Ut.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((C=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return Z.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function YC(r,t,i){let a=Jt(),o=Jt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=gs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(Ut.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):mt(jm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function XC(r,t){const i=jt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Rm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function $C(r,t){const i=jt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Js(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function im(r,t,i){const a=jt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ml(d))throw d;mt(jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function xv(r,t,i){const a=jt(r);let o=Ut.min(),c=Jt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const C=jt(_),k=C.xs.get(S);return k!==void 0?Z.resolve(C.Ms.get(k)):C.Pi.getTargetData(y,S)})(a,d,ki(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:Ut.min(),i?c:Jt()))).next((g=>(ZC(a,LR(t),g),{documents:g,Qs:c})))))}function ZC(r,t,i){let a=r.Os.get(t)||Ut.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class kv{constructor(){this.activeTargetIds=qR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JC{constructor(){this.Mo=new kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class WC{Oo(t){}shutdown(){}}const Lv="ConnectivityMonitor";class Uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(Lv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(Lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function sm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const xd="RestConnection",tI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eI{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=sm(),g=this.zo(t,i.toUriEncodedString());mt(xd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(g),S=ul(y);return this.Jo(t,g,_,a,S).then((C=>(mt(xd,`Received RPC '${t}' ${d}: `,C),C)),(C=>{throw il(xd,`RPC '${t}' ${d} failed with error: `,C,"url: ",g,"request:",a),C}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+fl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=tI[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class nI{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const un="WebChannelConnection";class iI extends eI{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=sm();return new Promise(((g,_)=>{const y=new YE;y.setWithCredentials(!0),y.listenOnce(XE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Oc.NO_ERROR:const C=y.getResponseJson();mt(un,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(C)),g(C);break;case Oc.TIMEOUT:mt(un,`RPC '${t}' ${d} timed out`),_(new St(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const k=y.getStatus();if(mt(un,`RPC '${t}' ${d} failed with status:`,k,"response text:",y.getResponseText()),k>0){let B=y.getResponseJson();Array.isArray(B)&&(B=B[0]);const J=B?.error;if(J&&J.status&&J.message){const et=(function(it){const ut=it.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(ut)>=0?ut:tt.UNKNOWN})(J.status);_(new St(et,J.message))}else _(new St(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new St(tt.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{mt(un,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(o);mt(un,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const o=sm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=JE(),g=ZE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=c.join("");mt(un,`Creating RPC '${t}' stream ${o}: ${S}`,_);const C=d.createWebChannel(S,_);this.I_(C);let k=!1,B=!1;const J=new nI({Yo:W=>{B?mt(un,`Not sending because RPC '${t}' stream ${o} is closed:`,W):(k||(mt(un,`Opening RPC '${t}' stream ${o} transport.`),C.open(),k=!0),mt(un,`RPC '${t}' stream ${o} sending:`,W),C.send(W))},Zo:()=>C.close()}),et=(W,it,ut)=>{W.listen(it,(ht=>{try{ut(ht)}catch(bt){setTimeout((()=>{throw bt}),0)}}))};return et(C,To.EventType.OPEN,(()=>{B||(mt(un,`RPC '${t}' stream ${o} transport opened.`),J.o_())})),et(C,To.EventType.CLOSE,(()=>{B||(B=!0,mt(un,`RPC '${t}' stream ${o} transport closed`),J.a_(),this.E_(C))})),et(C,To.EventType.ERROR,(W=>{B||(B=!0,il(un,`RPC '${t}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),J.a_(new St(tt.UNAVAILABLE,"The operation could not be completed")))})),et(C,To.EventType.MESSAGE,(W=>{if(!B){const it=W.data[0];ae(!!it,16349);const ut=it,ht=ut?.error||ut[0]?.error;if(ht){mt(un,`RPC '${t}' stream ${o} received error:`,ht);const bt=ht.status;let wt=(function(R){const b=Be[R];if(b!==void 0)return OT(b)})(bt),ft=ht.message;wt===void 0&&(wt=tt.INTERNAL,ft="Unknown error status: "+bt+" with message "+ht.message),B=!0,J.a_(new St(wt,ft)),C.close()}else mt(un,`RPC '${t}' stream ${o} received:`,it),J.u_(it)}})),et(g,$E.STAT_EVENT,(W=>{W.stat===Qd.PROXY?mt(un,`RPC '${t}' stream ${o} detected buffering proxy`):W.stat===Qd.NOPROXY&&mt(un,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function kd(){return typeof document<"u"?document:null}function yh(r){return new lC(r,!0)}class FT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&mt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Pv="PersistentStream";class QT{constructor(t,i,a,o,c,d,g,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new FT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(ms(i.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new St(tt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(Pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(mt(Pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sI extends QT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=cC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Ut.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ut.min():d.readTime?Li(d.readTime):Ut.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=nm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=Zd(_)?{documents:dC(c,_)}:{query:mC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=xT(c,d.resumeToken);const y=Wd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ut.min())>0){g.readTime=Jc(c,d.snapshotVersion.toTimestamp());const y=Wd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=pC(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=nm(this.serializer),i.removeTarget=t,this.q_(i)}}class rI extends QT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ae(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ae(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ae(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=fC(t.writeResults,t.commitTime),a=Li(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=nm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>hC(this.serializer,a)))};this.q_(i)}}class aI{}class lI extends aI{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new St(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,tm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new St(tt.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,tm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new St(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class oI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(i),this.aa=!1):mt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jr="RemoteStore";class uI{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{na(this)&&(mt(Jr,"Restarting streams for network reachability change."),await(async function(_){const y=jt(_);y.Ea.add(4),await Yo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await _h(y)})(this))}))})),this.Ra=new oI(a,o)}}async function _h(r){if(na(r))for(const t of r.da)await t(!0)}async function Yo(r){for(const t of r.da)await t(!1)}function KT(r,t){const i=jt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Hm(i)?qm(i):gl(i).O_()&&Bm(i,t))}function zm(r,t){const i=jt(r),a=gl(i);i.Ia.delete(t),a.O_()&&YT(i,t),i.Ia.size===0&&(a.O_()?a.L_():na(i)&&i.Ra.set("Unknown"))}function Bm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ut.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}gl(r).Y_(t)}function YT(r,t){r.Va.Ue(t),gl(r).Z_(t)}function qm(r){r.Va=new iC({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),gl(r).start(),r.Ra.ua()}function Hm(r){return na(r)&&!gl(r).x_()&&r.Ia.size>0}function na(r){return jt(r).Ea.size===0}function XT(r){r.Va=void 0}async function cI(r){r.Ra.set("Online")}async function hI(r){r.Ia.forEach(((t,i)=>{Bm(r,t)}))}async function fI(r,t){XT(r),Hm(r)?(r.Ra.ha(t),qm(r)):r.Ra.set("Unknown")}async function dI(r,t,i){if(r.Ra.set("Online"),t instanceof VT&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){mt(Jr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await th(r,a)}else if(t instanceof kc?r.Va.Ze(t):t instanceof MT?r.Va.st(t):r.Va.tt(t),!i.isEqual(Ut.min()))try{const a=await GT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(ln.EMPTY_BYTE_STRING,S.snapshotVersion)),YT(c,_);const C=new Js(S.target,_,y,S.sequenceNumber);Bm(c,C)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){mt(Jr,"Failed to raise snapshot:",a),await th(r,a)}}async function th(r,t,i){if(!ml(t))throw t;r.Ea.add(1),await Yo(r),r.Ra.set("Offline"),i||(i=()=>GT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{mt(Jr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await _h(r)}))}function $T(r,t){return t().catch((i=>th(r,i,t)))}async function vh(r){const t=jt(r),i=lr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;mI(t);)try{const o=await XC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,gI(t,o)}catch(o){await th(t,o)}ZT(t)&&JT(t)}function mI(r){return na(r)&&r.Ta.length<10}function gI(r,t){r.Ta.push(t);const i=lr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function ZT(r){return na(r)&&!lr(r).x_()&&r.Ta.length>0}function JT(r){lr(r).start()}async function pI(r){lr(r).ra()}async function yI(r){const t=lr(r);for(const i of r.Ta)t.ea(i.mutations)}async function _I(r,t,i){const a=r.Ta.shift(),o=Vm.from(a,t,i);await $T(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await vh(r)}async function vI(r,t){t&&lr(r).X_&&await(async function(a,o){if((function(d){return tC(d)&&d!==tt.ABORTED})(o.code)){const c=a.Ta.shift();lr(a).B_(),await $T(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await vh(a)}})(r,t),ZT(r)&&JT(r)}async function jv(r,t){const i=jt(r);i.asyncQueue.verifyOperationInProgress(),mt(Jr,"RemoteStore received new credentials");const a=na(i);i.Ea.add(3),await Yo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _h(i)}async function EI(r,t){const i=jt(r);t?(i.Ea.delete(2),await _h(i)):t||(i.Ea.add(2),await Yo(i),i.Ra.set("Unknown"))}function gl(r){return r.ma||(r.ma=(function(i,a,o){const c=jt(i);return c.sa(),new sI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:cI.bind(null,r),t_:hI.bind(null,r),r_:fI.bind(null,r),H_:dI.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Hm(r)?qm(r):r.Ra.set("Unknown")):(await r.ma.stop(),XT(r))}))),r.ma}function lr(r){return r.fa||(r.fa=(function(i,a,o){const c=jt(i);return c.sa(),new rI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:pI.bind(null,r),r_:vI.bind(null,r),ta:yI.bind(null,r),na:_I.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await vh(r)):(await r.fa.stop(),r.Ta.length>0&&(mt(Jr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Gm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new Gm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(r,t){if(ms("AsyncQueue",`${t}: ${r}`),ml(r))return new St(tt.UNAVAILABLE,`${t}: ${r}`);throw r}class Wa{static emptySet(t){return new Wa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||It.comparator(i.key,a.key):(i,a)=>It.comparator(i.key,a.key),this.keyedMap=So(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Wa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Wa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class zv{constructor(){this.ga=new Se(It.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Dt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ol{constructor(t,i,a,o,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ol(t,i,Wa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class TI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class SI{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=jt(i),c=o.queries;o.queries=Bv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new St(tt.ABORTED,"Firestore shutting down"))}}function Bv(){return new ta((r=>_T(r)),fh)}async function AI(r,t){const i=jt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new TI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Fm(d,`Initialization of query '${Qa(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Qm(i)}async function bI(r,t){const i=jt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function wI(r,t){const i=jt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Qm(i)}function RI(r,t,i){const a=jt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Qm(r){r.Ca.forEach((t=>{t.next()}))}var rm,qv;(qv=rm||(rm={})).Ma="default",qv.Cache="cache";class CI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new ol(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ol.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==rm.Cache}}class WT{constructor(t){this.key=t}}class t0{constructor(t){this.key=t}}class II{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Jt(),this.mutatedKeys=Jt(),this.eu=vT(t),this.tu=new Wa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new zv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((S,C)=>{const k=o.get(S),B=dh(this.query,C)?C:null,J=!!k&&this.mutatedKeys.has(k.key),et=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;k&&B?k.data.isEqual(B.data)?J!==et&&(a.track({type:3,doc:B}),W=!0):this.su(k,B)||(a.track({type:2,doc:B}),W=!0,(_&&this.eu(B,_)>0||y&&this.eu(B,y)<0)&&(g=!0)):!k&&B?(a.track({type:0,doc:B}),W=!0):k&&!B&&(a.track({type:1,doc:k}),W=!0,(_||y)&&(g=!0)),W&&(B?(d=d.add(B),c=et?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,C)=>(function(B,J){const et=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:W})}};return et(B)-et(J)})(S.type,C.type)||this.eu(S.doc,C.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ol(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Jt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new t0(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new WT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Jt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Km="SyncEngine";class NI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class DI{constructor(t){this.key=t,this.hu=!1}}class OI{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ta((g=>_T(g)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new Se(It.comparator),this.Au=new Map,this.Ru=new Lm,this.Vu={},this.mu=new Map,this.fu=ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MI(r,t,i=!0){const a=a0(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await e0(a,t,i,!0),o}async function VI(r,t){const i=a0(r);await e0(i,t,!0,!1)}async function e0(r,t,i,a){const o=await $C(r.localStore,ki(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await xI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&KT(r.remoteStore,o),g}async function xI(r,t,i,a,o){r.pu=(C,k,B)=>(async function(et,W,it,ut){let ht=W.view.ru(it);ht.Cs&&(ht=await xv(et.localStore,W.query,!1).then((({documents:N})=>W.view.ru(N,ht))));const bt=ut&&ut.targetChanges.get(W.targetId),wt=ut&&ut.targetMismatches.get(W.targetId)!=null,ft=W.view.applyChanges(ht,et.isPrimaryClient,bt,wt);return Gv(et,W.targetId,ft.au),ft.snapshot})(r,C,k,B);const c=await xv(r.localStore,t,!0),d=new II(t,c.Qs),g=d.ru(c.documents),_=Ko.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,_);Gv(r,i,y.au);const S=new NI(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function kI(r,t,i){const a=jt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!fh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await im(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&zm(a.remoteStore,o.targetId),am(a,o.targetId)})).catch(dl)):(am(a,o.targetId),await im(a.localStore,o.targetId,!0))}async function LI(r,t){const i=jt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),zm(i.remoteStore,a.targetId))}async function UI(r,t,i){const a=GI(r);try{const o=await(function(d,g){const _=jt(d),y=ye.now(),S=g.reduce(((B,J)=>B.add(J.key)),Jt());let C,k;return _.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let J=gs(),et=Jt();return _.Ns.getEntries(B,S).next((W=>{J=W,J.forEach(((it,ut)=>{ut.isValidDocument()||(et=et.add(it))}))})).next((()=>_.localDocuments.getOverlayedDocuments(B,J))).next((W=>{C=W;const it=[];for(const ut of g){const ht=XR(ut,C.get(ut.key).overlayedDocument);ht!=null&&it.push(new ea(ut.key,ht,hT(ht.value.mapValue),hs.exists(!0)))}return _.mutationQueue.addMutationBatch(B,y,it,g)})).next((W=>{k=W;const it=W.applyToLocalDocumentSet(C,et);return _.documentOverlayCache.saveOverlays(B,W.batchId,it)}))})).then((()=>({batchId:k.batchId,changes:TT(C)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new Se(Zt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Xo(a,o.changes),await vh(a.remoteStore)}catch(o){const c=Fm(o,"Failed to persist write");i.reject(c)}}async function n0(r,t){const i=jt(r);try{const a=await KC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(ae(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ae(d.hu,14607):o.removedDocuments.size>0&&(ae(d.hu,42227),d.hu=!1))})),await Xo(i,a,t)}catch(a){await dl(a)}}function Hv(r,t,i){const a=jt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const _=jt(d);_.onlineState=g;let y=!1;_.queries.forEach(((S,C)=>{for(const k of C.Sa)k.va(g)&&(y=!0)})),y&&Qm(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function PI(r,t,i){const a=jt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new Se(It.comparator);d=d.insert(c,hn.newNoDocument(c,Ut.min()));const g=Jt().add(c),_=new ph(Ut.min(),new Map,new Se(Zt),d,g);await n0(a,_),a.du=a.du.remove(c),a.Au.delete(t),Ym(a)}else await im(a.localStore,t,!1).then((()=>am(a,t,i))).catch(dl)}async function jI(r,t){const i=jt(r),a=t.batch.batchId;try{const o=await QC(i.localStore,t);s0(i,a,null),i0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Xo(i,o)}catch(o){await dl(o)}}async function zI(r,t,i){const a=jt(r);try{const o=await(function(d,g){const _=jt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,g).next((C=>(ae(C!==null,37113),S=C.keys(),_.mutationQueue.removeMutationBatch(y,C)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);s0(a,t,i),i0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Xo(a,o)}catch(o){await dl(o)}}function i0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function s0(r,t,i){const a=jt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function am(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||r0(r,a)}))}function r0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(zm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Ym(r))}function Gv(r,t,i){for(const a of i)a instanceof WT?(r.Ru.addReference(a.key,t),BI(r,a)):a instanceof t0?(mt(Km,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||r0(r,a.key)):Dt(19791,{wu:a})}function BI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(mt(Km,"New document in limbo: "+i),r.Eu.add(a),Ym(r))}function Ym(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new It(Te.fromString(t)),a=r.fu.next();r.Au.set(a,new DI(i)),r.du=r.du.insert(i,a),KT(r.remoteStore,new Js(ki(Om(i.path)),a,"TargetPurposeLimboResolution",oh.ce))}}async function Xo(r,t,i){const a=jt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Pm.As(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const S=jt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>Z.forEach(y,(k=>Z.forEach(k.Es,(B=>S.persistence.referenceDelegate.addReference(C,k.targetId,B))).next((()=>Z.forEach(k.ds,(B=>S.persistence.referenceDelegate.removeReference(C,k.targetId,B)))))))))}catch(C){if(!ml(C))throw C;mt(jm,"Failed to update sequence numbers: "+C)}for(const C of y){const k=C.targetId;if(!C.fromCache){const B=S.Ms.get(k),J=B.snapshotVersion,et=B.withLastLimboFreeSnapshotVersion(J);S.Ms=S.Ms.insert(k,et)}}})(a.localStore,c))}async function qI(r,t){const i=jt(r);if(!i.currentUser.isEqual(t)){mt(Km,"User change. New user:",t.toKey());const a=await HT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new St(tt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Xo(i,a.Ls)}}function HI(r,t){const i=jt(r),a=i.Au.get(t);if(a&&a.hu)return Jt().add(a.key);{let o=Jt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function a0(r){const t=jt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=n0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PI.bind(null,t),t.Pu.H_=wI.bind(null,t.eventManager),t.Pu.yu=RI.bind(null,t.eventManager),t}function GI(r){const t=jt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zI.bind(null,t),t}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return FC(this.persistence,new qC,t.initialUser,this.serializer)}Cu(t){return new qT(Um.mi,this.serializer)}Du(t){return new JC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class FI extends eh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ae(this.persistence.referenceDelegate instanceof Wc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new CC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new qT((a=>Wc.mi(a,i)),this.serializer)}}class lm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Hv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=qI.bind(null,this.syncEngine),await EI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new SI})()}createDatastore(t){const i=yh(t.databaseInfo.databaseId),a=(function(c){return new iI(c)})(t.databaseInfo);return(function(c,d,g,_){return new lI(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new uI(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Hv(this.syncEngine,i,0)),(function(){return Uv.v()?new Uv:new WC})())}createSyncEngine(t,i){return(function(o,c,d,g,_,y,S){const C=new OI(o,c,d,g,_,y);return S&&(C.gu=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=jt(i);mt(Jr,"RemoteStore shutting down."),a.Ea.add(5),await Yo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}lm.provider={build:()=>new lm};class QI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const or="FirestoreClient";class KI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{mt(or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(mt(or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Fm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Ld(r,t){r.asyncQueue.verifyOperationInProgress(),mt(or,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await HT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Fv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await YI(r);mt(or,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>jv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>jv(t.remoteStore,o))),r._onlineComponents=t}async function YI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){mt(or,"Using user provided OfflineComponentProvider");try{await Ld(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;il("Error using user provided cache. Falling back to memory cache: "+i),await Ld(r,new eh)}}else mt(or,"Using default OfflineComponentProvider"),await Ld(r,new FI(void 0));return r._offlineComponents}async function l0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(mt(or,"Using user provided OnlineComponentProvider"),await Fv(r,r._uninitializedComponentsProvider._online)):(mt(or,"Using default OnlineComponentProvider"),await Fv(r,new lm))),r._onlineComponents}function XI(r){return l0(r).then((t=>t.syncEngine))}async function Qv(r){const t=await l0(r),i=t.eventManager;return i.onListen=MI.bind(null,t.syncEngine),i.onUnlisten=kI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=VI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=LI.bind(null,t.syncEngine),i}function o0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Kv=new Map;const u0="firestore.googleapis.com",Yv=!0;class Xv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new St(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u0,this.ssl=Yv}else this.host=t.host,this.ssl=t.ssl??Yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=BT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<wC)throw new St(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}oR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new St(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new St(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new St(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xm{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Zw;switch(a.type){case"firstParty":return new eR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new St(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Kv.get(i);a&&(mt("ComponentProvider","Removing Datastore"),Kv.delete(i),a.terminate())})(this),Promise.resolve()}}function $I(r,t,i,a={}){r=Ja(r,Xm);const o=ul(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(uE(`https://${g}`),cE("Firestore",!0)),c.host!==u0&&c.host!==g&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:o,emulatorOptions:a};if(!Yr(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=cn.MOCK_USER;else{y=AA(a.mockUserToken,r._app?.options.projectId);const C=a.mockUserToken.sub||a.mockUserToken.user_id;if(!C)throw new St(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new cn(C)}r._authCredentials=new Jw(new tT(y,S))}}class Eh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Eh(this.firestore,t,this._query)}}class $e{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $e(this.firestore,t,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fo(i,$e._jsonSchema))return new $e(t,a||null,new It(Te.fromString(i.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:qe("string",$e._jsonSchemaVersion),referencePath:qe("string")};class jo extends Eh{constructor(t,i,a){super(t,i,Om(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $e(this.firestore,null,new It(t))}withConverter(t){return new jo(this.firestore,t,this._path)}}function $v(r,t,...i){if(r=xn(r),arguments.length===1&&(t=bm.newId()),lR("doc","path",t),r instanceof Xm){const a=Te.fromString(t,...i);return ov(a),new $e(r,null,new It(a))}{if(!(r instanceof $e||r instanceof jo))throw new St(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Te.fromString(t,...i));return ov(a),new $e(r.firestore,r instanceof jo?r.converter:null,new It(a))}}const Zv="AsyncQueue";class Jv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new FT(this,"async_queue_retry"),this._c=()=>{const a=kd();a&&mt(Zv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=kd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=kd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Qr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ml(t))throw t;mt(Zv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",Wv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Gm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Dt(47125,{Pc:Wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Wv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function tE(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class nh extends Xm{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Jv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jv(t),this._firestoreClient=void 0,await t}}}function ZI(r,t){const i=typeof r=="object"?r:mE(),a=typeof r=="string"?r:Qc,o=fm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=TA("firestore");c&&$I(o,...c)}return o}function c0(r){if(r._terminated)throw new St(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||JI(r),r._firestoreClient}function JI(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new vR(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,o0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new KI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(ln.fromBase64String(t))}catch(i){throw new St(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Yn(ln.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fo(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:qe("string",Yn._jsonSchemaVersion),bytes:qe("string")};class $m{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new St(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class h0{constructor(t){this._methodName=t}}class Ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new St(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new St(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Zt(this._lat,t._lat)||Zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(Fo(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:qe("string",Ui._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};class Pi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fo(t,Pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Pi(t.vectorValues);throw new St(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:qe("string",Pi._jsonSchemaVersion),vectorValues:qe("object")};const WI=/^__.*__$/;class t2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ea(t,this.data,this.fieldMask,i,this.fieldTransforms):new Qo(t,this.data,i,this.fieldTransforms)}}function f0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:r})}}class Zm{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(f0(this.Ac)&&WI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class e2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||yh(t)}Cc(t,i,a,o=!1){return new Zm({Ac:t,methodName:i,Dc:a,path:an.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function n2(r){const t=r._freezeSettings(),i=yh(r._databaseId);return new e2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function i2(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);p0("Data must be an object, but it was:",d,a);const g=m0(a,d);let _,y;if(c.merge)_=new oi(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const C of c.mergeFields){const k=s2(t,C,i);if(!d.contains(k))throw new St(tt.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);a2(S,k)||S.push(k)}_=new oi(S),y=d.fieldTransforms.filter((C=>_.covers(C.field)))}else _=null,y=d.fieldTransforms;return new t2(new Kn(g),_,y)}function d0(r,t){if(g0(r=xn(r)))return p0("Unsupported field value:",t,r),m0(r,t);if(r instanceof h0)return(function(a,o){if(!f0(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let _=d0(g,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=xn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return HR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ye.fromDate(a);return{timestampValue:Jc(o.serializer,c)}}if(a instanceof ye){const c=new ye(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Jc(o.serializer,c)}}if(a instanceof Ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Yn)return{bytesValue:xT(o.serializer,a._byteString)};if(a instanceof $e){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:km(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Pi)return(function(d,g){return{mapValue:{fields:{[uT]:{stringValue:cT},[Kc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Mm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${wm(a)}`)})(r,t)}function m0(r,t){const i={};return iT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wr(r,((a,o)=>{const c=d0(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function g0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ye||r instanceof Ui||r instanceof Yn||r instanceof $e||r instanceof h0||r instanceof Pi)}function p0(r,t,i){if(!g0(i)||!eT(i)){const a=wm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function s2(r,t,i){if((t=xn(t))instanceof $m)return t._internalPath;if(typeof t=="string")return y0(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const r2=new RegExp("[~\\*/\\[\\]]");function y0(r,t,i){if(t.search(r2)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new $m(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new St(tt.INVALID_ARGUMENT,g+r+_)}function a2(r,t){return r.some((i=>i.isEqual(t)))}class _0{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new l2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(v0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class l2 extends _0{data(){return super.data()}}function v0(r,t){return typeof t=="string"?y0(r,t):t instanceof $m?t._internalPath:t._delegate._internalPath}function o2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new St(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u2{convertValue(t,i="none"){switch(ar(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Wr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((a=>Me(a.doubleValue)));return new Pi(i)}convertGeoPoint(t){return new Ui(Me(t.latitude),Me(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ch(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xo(t));default:return null}}convertTimestamp(t){const i=sr(t);return new ye(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Te.fromString(t);ae(zT(a),9688,{name:t});const o=new ko(a.get(1),a.get(3)),c=new It(a.popFirst(5));return o.isEqual(i)||ms(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function c2(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class bo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Kr extends _0{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(v0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Kr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Kr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Kr._jsonSchema={type:qe("string",Kr._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class Lc extends Kr{data(t={}){return super.data(t)}}class tl{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Lc(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new St(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const _=new Lc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Lc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new bo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:h2(g.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=tl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function h2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:r})}}tl._jsonSchemaVersion="firestore/querySnapshot/1.0",tl._jsonSchema={type:qe("string",tl._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class E0 extends u2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new $e(this.firestore,null,i)}}function f2(r,t,i){r=Ja(r,$e);const a=Ja(r.firestore,nh),o=c2(r.converter,t,i);return m2(a,[i2(n2(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,hs.none())])}function d2(r,...t){r=xn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||tE(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(tE(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof $e)d=Ja(r.firestore,nh),g=Om(r._key.path),c={next:_=>{t[a]&&t[a](g2(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Ja(r,Eh);d=Ja(_.firestore,nh),g=_._query;const y=new E0(d);c={next:S=>{t[a]&&t[a](new tl(d,y,_,S))},error:t[a+1],complete:t[a+2]},o2(r._query)}return(function(y,S,C,k){const B=new QI(k),J=new CI(S,B,C);return y.asyncQueue.enqueueAndForget((async()=>AI(await Qv(y),J))),()=>{B.Nu(),y.asyncQueue.enqueueAndForget((async()=>bI(await Qv(y),J)))}})(c0(d),g,o,c)}function m2(r,t){return(function(a,o){const c=new Qr;return a.asyncQueue.enqueueAndForget((async()=>UI(await XI(a),o,c))),c.promise})(c0(r),t)}function g2(r,t,i){const a=i.docs.get(t._key),o=new E0(r);return new Kr(r,o,t._key,a,new bo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){fl=o})(cl),el(new Xr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new nh(new Ww(a.getProvider("auth-internal")),new nR(d,a.getProvider("app-check-internal")),(function(y,S){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new St(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ko(y.options.projectId,S)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),er(sv,rv,t),er(sv,rv,"esm2020")})();var p2="firebase",y2="12.7.0";er(p2,y2,"app");const _2={apiKey:"AIzaSyBTrWWFvjvk9Y5l1YNGQGih7EzijJw30vk",authDomain:"stripes-tracker.firebaseapp.com",projectId:"stripes-tracker",storageBucket:"stripes-tracker.firebasestorage.app",messagingSenderId:"11321313480",appId:"1:11321313480:web:e8dfcc0d8da15de0eb3dfd",measurementId:"G-DR9WLBN0CP"},T0=dE(_2),om=Xw(T0),v2=new os,eE=ZI(T0);function E2({onLogin:r}){const t=async()=>{try{const i=await sw(om,v2);r(i.user)}catch(i){console.error("Error signing in with Google:",i),alert("Failed to sign in. Please try again.")}};return A.jsx("div",{className:"login-screen",children:A.jsxs("div",{className:"login-card",children:[A.jsx("div",{className:"login-icon",children:""}),A.jsx("h1",{className:"login-title",children:"Stripes Tracker"}),A.jsx("p",{className:"login-subtitle",children:"Track student progress through the stripe system"}),A.jsxs("button",{onClick:t,className:"google-sign-in-btn",children:[A.jsxs("svg",{className:"google-icon",viewBox:"0 0 24 24",width:"24",height:"24",children:[A.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),A.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),A.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),A.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]}),A.jsx("p",{className:"login-note",children:"Your data will be securely stored and synced across devices"})]})})}function T2({students:r,onAddStudent:t,onDeleteStudent:i,onEditStudentName:a,onSelectStudent:o,calculateCompletion:c,activeLevel:d,levelColors:g,levelTextColors:_,levelOrder:y,levelNames:S,sortBy:C,onSortChange:k}){const[B,J]=Mt.useState(""),[et,W]=Mt.useState(""),[it,ut]=Mt.useState(null),[ht,bt]=Mt.useState(""),wt=I=>{I.preventDefault(),B.trim()&&(t(B.trim()),J(""))},ft=(I,w)=>{I.stopPropagation(),ut(w.id),bt(w.name)},N=I=>{I.stopPropagation(),ht.trim()&&a(it,ht.trim()),ut(null),bt("")},R=I=>{I.stopPropagation(),ut(null),bt("")},b=I=>{I.key==="Enter"?N(I):I.key==="Escape"&&R(I)},M=I=>y.indexOf(I),D=Mt.useMemo(()=>r.filter(w=>w.name.toLowerCase().includes(et.toLowerCase())).sort((w,xt)=>{switch(C){case"name-asc":return w.name.localeCompare(xt.name);case"name-desc":return xt.name.localeCompare(w.name);case"level-desc":{const kt=M(w.currentLevel),H=M(xt.currentLevel);return kt!==H?H-kt:c(xt,xt.currentLevel)-c(w,w.currentLevel)}case"level-asc":{const kt=M(w.currentLevel),H=M(xt.currentLevel);return kt!==H?kt-H:c(w,w.currentLevel)-c(xt,xt.currentLevel)}default:return 0}}),[r,et,C,y,c]);return A.jsxs("div",{className:"student-list-container",children:[A.jsxs("div",{className:"student-list-header",children:[A.jsx("h2",{children:"Students"}),A.jsxs("p",{className:"student-count",children:[r.length," student",r.length!==1?"s":""]})]}),A.jsxs("form",{onSubmit:wt,className:"add-student-form",children:[A.jsx("input",{type:"text",value:B,onChange:I=>J(I.target.value),placeholder:"Enter student name...",className:"student-input"}),A.jsxs("button",{type:"submit",className:"add-btn",children:[A.jsx("span",{children:"+"})," Add Student"]})]}),A.jsxs("div",{className:"search-sort-row",children:[A.jsx("div",{className:"search-container",children:A.jsx("input",{type:"text",value:et,onChange:I=>W(I.target.value),placeholder:"Search students...",className:"search-input"})}),A.jsxs("div",{className:"sort-container",children:[A.jsx("label",{className:"sort-label",children:"Sort by:"}),A.jsxs("select",{value:C,onChange:I=>k(I.target.value),className:"sort-select",children:[A.jsx("option",{value:"name-asc",children:"Name (A  Z)"}),A.jsx("option",{value:"name-desc",children:"Name (Z  A)"}),A.jsx("option",{value:"level-desc",children:"Level (Highest first)"}),A.jsx("option",{value:"level-asc",children:"Level (Lowest first)"})]})]})]}),A.jsx("div",{className:"students-grid",children:D.length===0?A.jsxs("div",{className:"empty-state",children:[A.jsx("span",{className:"empty-icon",children:""}),A.jsx("p",{children:r.length===0?"No students yet. Add your first student above!":"No students match your search."})]}):D.map(I=>{const w=c(I,I.currentLevel),xt=it===I.id;return A.jsxs("div",{className:"student-card",onClick:()=>!xt&&o(I),children:[A.jsxs("div",{className:"student-card-header",children:[A.jsx("div",{className:"level-badge",style:{backgroundColor:g[I.currentLevel],color:_[I.currentLevel]},children:S[I.currentLevel]}),A.jsxs("div",{className:"card-actions",children:[!xt&&A.jsx("button",{className:"edit-btn",onClick:kt=>ft(kt,I),title:"Edit name",children:""}),A.jsx("button",{className:"delete-btn",onClick:kt=>{kt.stopPropagation(),confirm(`Delete ${I.name}?`)&&i(I.id)},title:"Delete student",children:""})]})]}),xt?A.jsxs("div",{className:"edit-name-container",onClick:kt=>kt.stopPropagation(),children:[A.jsx("input",{type:"text",value:ht,onChange:kt=>bt(kt.target.value),onKeyDown:b,className:"edit-name-input",autoFocus:!0}),A.jsxs("div",{className:"edit-actions",children:[A.jsx("button",{className:"save-edit-btn",onClick:N,children:"Save"}),A.jsx("button",{className:"cancel-edit-btn",onClick:R,children:"Cancel"})]})]}):A.jsx("h3",{className:"student-name",children:I.name}),A.jsxs("div",{className:"progress-section",children:[A.jsx("div",{className:"progress-bar-container",children:A.jsx("div",{className:"progress-bar",style:{width:`${w}%`,backgroundColor:g[I.currentLevel]}})}),A.jsxs("span",{className:"progress-text",children:[w,"% complete"]})]}),A.jsx("div",{className:"level-progress-dots",children:y.map((kt,H)=>A.jsx("div",{className:`level-dot ${M(I.currentLevel)>=H?"achieved":""}`,style:{backgroundColor:M(I.currentLevel)>=H?g[kt]:"#e9ecef"},title:S[kt]},kt))})]},I.id)})})]})}function S2({student:r,checklists:t,songs:i,activeLevel:a,onToggleProgress:o,onGraduate:c,calculateCompletion:d,levelColors:g,levelTextColors:_,levelOrder:y,levelNames:S}){const C=t[a]||[],k=d(r,a),B=y.indexOf(r.currentLevel);y.indexOf(a);const J=k===100&&a===r.currentLevel&&B<y.length-1,et=it=>i?.find(ut=>ut.id===it),W=it=>!it||it.length===0?null:A.jsx("div",{className:"progress-linked-songs",children:it.map(ut=>{const ht=et(ut);return ht?A.jsxs("span",{className:"progress-song-tag",children:[" ",ht.artist?`${ht.artist} - `:"",ht.title]},ut):null})});return A.jsxs("div",{className:"student-progress-container",children:[A.jsxs("div",{className:"progress-header",children:[A.jsxs("div",{className:"student-info",children:[A.jsx("h2",{children:r.name}),A.jsxs("div",{className:"current-level-badge",style:{backgroundColor:g[r.currentLevel],color:_[r.currentLevel]},children:["Current: ",S[r.currentLevel]]})]}),A.jsx("div",{className:"level-journey",children:y.map((it,ut)=>A.jsxs("div",{className:"journey-step",children:[A.jsx("div",{className:`journey-dot ${B>=ut?"achieved":""} ${it===a?"viewing":""}`,style:{backgroundColor:B>=ut?g[it]:"#e9ecef",border:it===a?`3px solid ${g[it]}`:"none",boxShadow:it===a?`0 0 0 3px ${g[it]}33`:"none"},title:S[it]}),ut<y.length-1&&A.jsx("div",{className:`journey-line ${B>ut?"achieved":""}`})]},it))})]}),A.jsxs("div",{className:"viewing-level-header",children:[A.jsxs("h3",{style:{color:g[a]},children:[S[a]," Checklist"]}),A.jsx("div",{className:"completion-badge",children:A.jsx("div",{className:"completion-ring",style:{background:`conic-gradient(${g[a]} ${k*3.6}deg, #e9ecef ${k*3.6}deg)`},children:A.jsxs("div",{className:"completion-inner",children:[k,"%"]})})})]}),C.length===0?A.jsxs("div",{className:"empty-checklist",children:[A.jsx("span",{className:"empty-icon",children:""}),A.jsxs("p",{children:["No checklist items for ",S[a]," yet."]}),A.jsx("p",{className:"hint",children:'Go to "Manage Checklists" to add items.'})]}):A.jsx("div",{className:"checklist",children:C.map(it=>{const ut=r.progress[a]?.[it.id]||!1,ht=it.subItems&&it.subItems.length>0;return A.jsxs("div",{className:"checklist-item-group",children:[A.jsxs("div",{className:`checklist-item ${ut?"checked":""}`,onClick:()=>o(r.id,a,it.id),children:[A.jsx("div",{className:"checkbox",style:{borderColor:ut?g[a]:"#ced4da",backgroundColor:ut?g[a]:"transparent"},children:ut&&A.jsx("span",{className:"checkmark",children:""})}),A.jsxs("div",{className:"item-content",children:[A.jsx("span",{className:"item-text",children:it.text}),W(it.linkedSongs)]})]}),ht&&A.jsx("div",{className:"sub-items",children:it.subItems.map(bt=>{const wt=r.progress[a]?.[bt.id]||!1;return A.jsxs("div",{className:`checklist-item sub-item ${wt?"checked":""}`,onClick:()=>o(r.id,a,bt.id),children:[A.jsx("div",{className:"checkbox small",style:{borderColor:wt?g[a]:"#ced4da",backgroundColor:wt?g[a]:"transparent"},children:wt&&A.jsx("span",{className:"checkmark",children:""})}),A.jsxs("div",{className:"item-content",children:[A.jsx("span",{className:"item-text",children:bt.text}),W(bt.linkedSongs)]})]},bt.id)})})]},it.id)})}),J&&A.jsxs("div",{className:"graduate-section",children:[A.jsxs("div",{className:"graduate-message",children:[" ",r.name," has completed all requirements for ",S[r.currentLevel],"!"]}),A.jsxs("button",{className:"graduate-btn",onClick:()=>c(r.id),style:{backgroundColor:g[y[B+1]],color:_[y[B+1]]},children:["Advance to ",S[y[B+1]]," "]})]}),B===y.length-1&&k===100&&a===r.currentLevel&&A.jsx("div",{className:"graduate-section master",children:A.jsxs("div",{className:"graduate-message",children:[" ",r.name," has achieved the highest level! Congratulations!"]})})]})}function A2({item:r,subItem:t,levelName:i,levelColor:a,onSave:o,onClose:c}){const[d,g]=Mt.useState(""),[_,y]=Mt.useState(!1),[S,C]=Mt.useState("edit"),k=Mt.useRef(null),B=t||r,J=!!t,et=B?.id,W=B?.lessonContent||"";if(Mt.useEffect(()=>{g(W),y(!1)},[et,W]),!r)return null;const it=ft=>{const N=ft.target.value;g(N),y(N!==W)},ut=()=>{o(d),y(!1)},ht=ft=>{ft.preventDefault(),ft.stopPropagation(),_?window.confirm("You have unsaved changes. Are you sure you want to close?")&&c():c()},bt=ft=>{ft.target===ft.currentTarget&&ht(ft)},wt=(ft,N="")=>{const R=k.current;if(!R)return;const b=R.selectionStart,M=R.selectionEnd,D=d.substring(b,M),I=d.substring(0,b)+ft+D+N+d.substring(M);g(I),y(!0),setTimeout(()=>{R.focus(),R.setSelectionRange(b+ft.length,b+ft.length+D.length)},0)};return A.jsx("div",{className:"lesson-editor-overlay",onClick:bt,children:A.jsxs("div",{className:"lesson-editor-modal",onClick:ft=>ft.stopPropagation(),children:[A.jsxs("div",{className:"lesson-editor-header",style:{borderBottomColor:a},children:[A.jsxs("div",{className:"lesson-header-info",children:[A.jsx("span",{className:"lesson-level-badge",style:{backgroundColor:a},children:i}),A.jsxs("div",{className:"lesson-title-section",children:[J&&A.jsx("span",{className:"lesson-parent-item",children:r.text}),A.jsxs("h2",{className:"lesson-item-title",children:[J&&A.jsx("span",{className:"sub-indicator",children:" "}),B?.text||"Untitled"]})]})]}),A.jsx("button",{className:"lesson-close-btn",onClick:ht,type:"button",children:""})]}),A.jsxs("div",{className:"lesson-editor-toolbar",children:[A.jsxs("div",{className:"toolbar-buttons",children:[A.jsx("button",{className:"toolbar-btn",onClick:()=>wt("<h1>","</h1>"),title:"Heading 1",type:"button",children:"H1"}),A.jsx("button",{className:"toolbar-btn",onClick:()=>wt("<h2>","</h2>"),title:"Heading 2",type:"button",children:"H2"}),A.jsx("button",{className:"toolbar-btn",onClick:()=>wt("<h3>","</h3>"),title:"Heading 3",type:"button",children:"H3"}),A.jsx("button",{className:"toolbar-btn",onClick:()=>wt("<strong>","</strong>"),title:"Bold",type:"button",style:{fontWeight:"bold"},children:"B"}),A.jsx("button",{className:"toolbar-btn",onClick:()=>wt("<em>","</em>"),title:"Italic",type:"button",style:{fontStyle:"italic"},children:"I"}),A.jsx("button",{className:"toolbar-btn",onClick:()=>wt("<u>","</u>"),title:"Underline",type:"button",style:{textDecoration:"underline"},children:"U"}),A.jsx("button",{className:"toolbar-btn",onClick:()=>wt(`<ul>
  <li>`,`</li>
</ul>`),title:"Bullet List",type:"button",children:""}),A.jsx("button",{className:"toolbar-btn",onClick:()=>wt(`<ol>
  <li>`,`</li>
</ol>`),title:"Numbered List",type:"button",children:"1."}),A.jsx("button",{className:"toolbar-btn",onClick:()=>wt("<blockquote>","</blockquote>"),title:"Quote",type:"button",children:""}),A.jsx("button",{className:"toolbar-btn",onClick:()=>wt('<a href="">',"</a>"),title:"Link",type:"button",children:""})]}),A.jsxs("div",{className:"view-toggle",children:[A.jsx("button",{className:`view-btn ${S==="edit"?"active":""}`,onClick:()=>C("edit"),type:"button",children:"Edit"}),A.jsx("button",{className:`view-btn ${S==="preview"?"active":""}`,onClick:()=>C("preview"),type:"button",children:"Preview"})]})]}),A.jsx("div",{className:"lesson-editor-content",children:S==="edit"?A.jsx("textarea",{ref:k,className:"lesson-textarea",value:d,onChange:it,placeholder:`Start writing your lesson content here...

Use HTML tags for formatting:
 <h1>, <h2>, <h3> for headings
 <strong> for bold, <em> for italic
 <ul><li>item</li></ul> for bullet lists
 <a href='url'>text</a> for links`}):A.jsx("div",{className:"lesson-preview",dangerouslySetInnerHTML:{__html:d||'<p style="color: #6b7280;">No content yet.</p>'}})}),A.jsxs("div",{className:"lesson-editor-footer",children:[A.jsx("div",{className:"lesson-footer-info",children:_?A.jsx("span",{className:"unsaved-indicator",children:" Unsaved changes"}):A.jsx("span",{className:"saved-indicator",children:" Saved"})}),A.jsxs("div",{className:"lesson-footer-actions",children:[A.jsx("button",{className:"lesson-cancel-btn",onClick:ht,type:"button",children:"Cancel"}),A.jsx("button",{className:"lesson-save-btn",onClick:ut,disabled:!_,style:{backgroundColor:_?a:void 0},type:"button",children:"Save Lesson"})]})]})]})})}function b2({checklists:r,onAddItem:t,onAddSubItem:i,onDeleteItem:a,onDeleteSubItem:o,onReorderItems:c,onReorderSubItems:d,onMoveItem:g,onSaveLessonContent:_,onLinkSong:y,onUnlinkSong:S,onAddSong:C,songs:k,levelColors:B,levelNames:J,levelOrder:et}){const[W,it]=Mt.useState({}),[ut,ht]=Mt.useState(null),[bt,wt]=Mt.useState(""),[ft,N]=Mt.useState(new Set),[R,b]=Mt.useState(null),[M,D]=Mt.useState(null),[I,w]=Mt.useState(""),[xt,kt]=Mt.useState(!1),[H,rt]=Mt.useState(""),[Tt,Ft]=Mt.useState(new Set),[Ht,V]=Mt.useState(null),[Q,ot]=Mt.useState(null),[at,Rt]=Mt.useState(null),[Ot,Gt]=Mt.useState(null),[K,st]=Mt.useState(null),yt=X=>{N(pt=>{const vt=new Set(pt);return vt.has(X)?vt.delete(X):vt.add(X),vt})},dt=(X,pt,vt=null)=>{const nt=vt?`${X}-${pt}-${vt}`:`${X}-${pt}`;Ft(_e=>{const Lt=new Set(_e);return Lt.has(nt)?Lt.delete(nt):Lt.add(nt),Lt})},gt=(X,pt,vt=null)=>{const nt=vt?`${X}-${pt}-${vt}`:`${X}-${pt}`;return Tt.has(nt)},ct=(X,pt)=>{X.preventDefault();const vt=W[pt]?.trim();vt&&(t(pt,vt),it(nt=>({...nt,[pt]:""})))},Ct=(X,pt)=>{bt.trim()&&(i(X,pt,bt.trim()),wt(""),ht(null))},Ae=(X,pt,vt=null)=>{const _e=(r[X]||[]).find(Lt=>Lt.id===pt);return _e?vt?_e.subItems?.find(Ie=>Ie.id===vt)?.linkedSongs||[]:_e.linkedSongs||[]:[]},An=X=>k.find(pt=>pt.id===X),bn=X=>{M&&(y(M.level,M.itemId,M.subItemId,X),D(null),w(""),kt(!1),rt(""))},ur=(X,pt,vt,nt)=>{S(X,pt,vt,nt)},be=()=>{if(I.trim()&&M){const X=C(H.trim(),I.trim());X&&y(M.level,M.itemId,M.subItemId,X),D(null),w(""),kt(!1),rt("")}},Ce=X=>{R&&X!==R.level&&g(R.level,R.itemId,X),b(null)},ci=(X,pt,vt)=>{V({level:pt,index:vt}),X.dataTransfer.effectAllowed="move",X.dataTransfer.setData("text/plain",vt),X.target.classList.add("dragging")},pl=X=>{X.target.classList.remove("dragging"),V(null),ot(null)},ia=(X,pt,vt)=>{X.preventDefault(),!(!Ht||Ht.level!==pt||at)&&ot({level:pt,index:vt})},Ze=(X,pt,vt)=>{X.preventDefault(),!(!Ht||Ht.level!==pt||at)&&(Ht.index!==vt&&c(pt,Ht.index,vt),V(null),ot(null))},qi=(X,pt,vt,nt)=>{X.stopPropagation(),Rt({level:pt,itemId:vt,subIndex:nt}),X.dataTransfer.effectAllowed="move",X.target.classList.add("dragging")},cr=X=>{X.target.classList.remove("dragging"),Rt(null),Gt(null)},hr=(X,pt,vt,nt)=>{X.preventDefault(),X.stopPropagation(),!(!at||at.level!==pt||at.itemId!==vt)&&Gt({level:pt,itemId:vt,subIndex:nt})},hi=(X,pt,vt,nt)=>{X.preventDefault(),X.stopPropagation(),!(!at||at.level!==pt||at.itemId!==vt)&&(at.subIndex!==nt&&d(pt,vt,at.subIndex,nt),Rt(null),Gt(null))},yl=k.filter(X=>X.title.toLowerCase().includes(I.toLowerCase())||X.artist.toLowerCase().includes(I.toLowerCase())),fr=(X,pt,vt=null)=>{const nt=Ae(X,pt,vt);if(nt.length===0)return null;const _e=gt(X,pt,vt);return A.jsxs("div",{className:`related-songs-section ${vt?"sub-item-songs":""}`,children:[A.jsxs("button",{className:"related-songs-toggle",onClick:()=>dt(X,pt,vt),children:[A.jsx("span",{className:`toggle-arrow ${_e?"expanded":""}`,children:""}),A.jsx("span",{className:"related-songs-label",children:"Related Songs"}),A.jsx("span",{className:"song-count-badge",children:nt.length})]}),_e&&A.jsx("div",{className:"linked-songs",children:nt.map(Lt=>{const Ie=An(Lt);return Ie?A.jsxs("div",{className:"linked-song-tag",children:[A.jsx("span",{className:"song-tag-icon",children:""}),A.jsxs("span",{className:"song-tag-text",children:[Ie.artist?`${Ie.artist} - `:"",Ie.title]}),A.jsx("button",{className:"unlink-song-btn",onClick:()=>ur(X,pt,vt,Lt),title:"Remove song",children:""})]},Lt):null})})]})},dr=(X,pt,vt=null)=>{if(!(M?.level===X&&M?.itemId===pt&&M?.subItemId===vt))return null;const _e=Ae(X,pt,vt),Lt=yl.filter(re=>!_e.includes(re.id)),Ie=I.trim().length>0;return A.jsxs("div",{className:"song-link-dropdown",children:[A.jsx("input",{type:"text",value:I,onChange:re=>{w(re.target.value),kt(!1)},placeholder:"Search songs or type to create new...",className:"song-search-input",autoFocus:!0}),xt?A.jsxs("div",{className:"create-song-form",children:[A.jsx("p",{className:"create-song-title",children:"Create new song:"}),A.jsx("input",{type:"text",value:H,onChange:re=>rt(re.target.value),placeholder:"Artist (optional)",className:"create-song-artist-input"}),A.jsxs("div",{className:"create-song-preview",children:[A.jsx("span",{className:"song-dropdown-icon",children:""}),A.jsxs("span",{children:[H?`${H} - `:"",I]})]}),A.jsxs("div",{className:"create-song-actions",children:[A.jsx("button",{className:"create-song-btn",onClick:be,children:"Create & Link"}),A.jsx("button",{className:"cancel-create-btn",onClick:()=>kt(!1),children:"Back"})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"song-dropdown-list",children:Lt.length===0?A.jsx("div",{className:"no-songs-msg",children:k.length===0&&!Ie?"No songs in database yet.":Ie?`No songs matching "${I}"`:"All songs are already linked"}):Lt.map(re=>A.jsxs("button",{className:"song-dropdown-item",onClick:()=>bn(re.id),children:[A.jsx("span",{className:"song-dropdown-icon",children:""}),A.jsxs("span",{className:"song-dropdown-text",children:[re.artist?`${re.artist} - `:"",re.title]})]},re.id))}),Ie&&A.jsxs("button",{className:"create-new-song-btn",onClick:()=>kt(!0),children:[A.jsx("span",{children:"+"}),' Create "',I,'" as new song']})]}),A.jsx("button",{className:"close-dropdown-btn",onClick:()=>{D(null),w(""),kt(!1),rt("")},children:"Cancel"})]})},sa=(X,pt)=>R?.level===X&&R?.itemId===pt?A.jsxs("div",{className:"move-item-dropdown",children:[A.jsx("p",{className:"move-dropdown-title",children:"Move to:"}),A.jsx("div",{className:"move-level-options",children:et.filter(nt=>nt!==X).map(nt=>A.jsx("button",{className:"move-level-btn",style:{backgroundColor:B[nt],color:"#fff"},onClick:()=>Ce(nt),children:J[nt]},nt))}),A.jsx("button",{className:"close-dropdown-btn",onClick:()=>b(null),children:"Cancel"})]}):null;return A.jsxs("div",{className:"checklist-manager all-levels",children:[A.jsxs("div",{className:"manager-header",children:[A.jsx("h2",{children:"Manage Checklists"}),A.jsx("p",{className:"manager-hint",children:"All levels shown  Click level header to collapse  Use  to move items between levels"})]}),A.jsx("div",{className:"levels-grid",children:et.map(X=>{const pt=r[X]||[],vt=ft.has(X);return A.jsxs("div",{className:`level-column ${vt?"collapsed":""}`,style:{"--level-color":B[X]},children:[A.jsxs("div",{className:"level-column-header",onClick:()=>yt(X),style:{backgroundColor:B[X]},children:[A.jsx("span",{className:`collapse-arrow ${vt?"":"expanded"}`,children:""}),A.jsx("h3",{children:J[X]}),A.jsx("span",{className:"item-count",children:pt.length})]}),!vt&&A.jsxs("div",{className:"level-column-content",children:[A.jsxs("form",{onSubmit:nt=>ct(nt,X),className:"level-add-form",children:[A.jsx("input",{type:"text",value:W[X]||"",onChange:nt=>it(_e=>({..._e,[X]:nt.target.value})),placeholder:"Add item...",className:"level-item-input"}),A.jsx("button",{type:"submit",className:"level-add-btn",style:{backgroundColor:B[X]},children:"+"})]}),pt.length===0?A.jsx("div",{className:"level-empty",children:A.jsx("span",{children:"No items yet"})}):A.jsx("div",{className:"level-items-list",children:pt.map((nt,_e)=>A.jsxs("div",{className:`level-manager-item ${Q?.level===X&&Q?.index===_e?"drag-over":""} ${Ht?.level===X&&Ht?.index===_e?"dragging":""}`,draggable:!0,onDragStart:Lt=>ci(Lt,X,_e),onDragEnd:pl,onDragOver:Lt=>ia(Lt,X,_e),onDrop:Lt=>Ze(Lt,X,_e),children:[A.jsxs("div",{className:"level-item-header",children:[A.jsx("div",{className:"level-drag-handle",title:"Drag to reorder",children:""}),A.jsx("span",{className:"level-item-number",children:_e+1}),A.jsx("span",{className:"level-item-text",children:nt.text}),A.jsxs("div",{className:"level-item-actions",children:[A.jsx("button",{className:`action-btn-mini edit ${nt.lessonContent?"has-content":""}`,onClick:Lt=>{Lt.stopPropagation(),st({level:X,item:{...nt},subItem:null})},title:"Edit lesson content",children:""}),A.jsx("button",{className:"action-btn-mini move",onClick:()=>{R?.itemId===nt.id?b(null):b({level:X,itemId:nt.id})},title:"Move to another level",children:""}),A.jsx("button",{className:"action-btn-mini song",onClick:()=>{M?.itemId===nt.id&&!M?.subItemId?D(null):(D({level:X,itemId:nt.id,subItemId:null}),w(""))},title:"Link song",children:""}),A.jsx("button",{className:"action-btn-mini sub",onClick:()=>{ut?.itemId===nt.id?ht(null):(ht({level:X,itemId:nt.id}),wt(""))},title:"Add sub-item",children:"+"}),A.jsx("button",{className:"action-btn-mini delete",onClick:()=>{confirm("Delete this item?")&&a(X,nt.id)},title:"Delete",children:""})]})]}),sa(X,nt.id),fr(X,nt.id),dr(X,nt.id),nt.subItems&&nt.subItems.length>0&&A.jsx("div",{className:"level-sub-items",children:nt.subItems.map((Lt,Ie)=>A.jsxs("div",{className:`level-sub-item ${Ot?.level===X&&Ot?.itemId===nt.id&&Ot?.subIndex===Ie?"drag-over":""} ${at?.level===X&&at?.itemId===nt.id&&at?.subIndex===Ie?"dragging":""}`,draggable:!0,onDragStart:re=>qi(re,X,nt.id,Ie),onDragEnd:cr,onDragOver:re=>hr(re,X,nt.id,Ie),onDrop:re=>hi(re,X,nt.id,Ie),children:[A.jsx("div",{className:"level-sub-drag-handle",title:"Drag to reorder",children:""}),A.jsx("span",{className:"sub-bullet",children:""}),A.jsx("span",{className:"level-sub-text",children:Lt.text}),A.jsxs("div",{className:"level-sub-actions",children:[A.jsx("button",{className:`action-btn-mini edit ${Lt.lessonContent?"has-content":""}`,onClick:re=>{re.stopPropagation(),st({level:X,item:{...nt},subItem:{...Lt}})},title:"Edit lesson content",children:""}),A.jsx("button",{className:"action-btn-mini song",onClick:()=>{M?.itemId===nt.id&&M?.subItemId===Lt.id?D(null):(D({level:X,itemId:nt.id,subItemId:Lt.id}),w(""))},title:"Link song",children:""}),A.jsx("button",{className:"action-btn-mini delete",onClick:()=>{confirm("Delete this sub-item?")&&o(X,nt.id,Lt.id)},title:"Delete",children:""})]}),fr(X,nt.id,Lt.id),dr(X,nt.id,Lt.id)]},Lt.id))}),ut?.level===X&&ut?.itemId===nt.id&&A.jsxs("div",{className:"level-add-sub-form",children:[A.jsx("input",{type:"text",value:bt,onChange:Lt=>wt(Lt.target.value),placeholder:"Sub-item...",className:"level-sub-input",autoFocus:!0,onKeyDown:Lt=>{Lt.key==="Enter"&&(Lt.preventDefault(),Ct(X,nt.id)),Lt.key==="Escape"&&ht(null)}}),A.jsx("button",{className:"level-sub-add-btn",onClick:()=>Ct(X,nt.id),style:{backgroundColor:B[X]},children:"Add"})]})]},nt.id))})]})]},X)})}),K&&K.item&&K.level&&A.jsx(A2,{item:K.item,subItem:K.subItem,levelName:J[K.level]||"Unknown Level",levelColor:B[K.level]||"#666",onSave:X=>{_&&K.item?.id&&_(K.level,K.item.id,K.subItem?.id||null,X),st(null)},onClose:()=>st(null)},`${K.level}-${K.item.id}-${K.subItem?.id||"main"}`)]})}const w2={level1:"#64748b",level2:"#f59e0b",level3:"#ef4444",level4:"#22c55e",level5:"#3b82f6",level6:"#8b5cf6"};function R2({songs:r,checklists:t,onAddSong:i,onEditSong:a,onDeleteSong:o,levelNames:c}){const[d,g]=Mt.useState(""),[_,y]=Mt.useState(""),[S,C]=Mt.useState(null),[k,B]=Mt.useState(""),[J,et]=Mt.useState(""),[W,it]=Mt.useState(""),[ut,ht]=Mt.useState(null),bt=b=>{const M=[];return t&&Object.entries(t).forEach(([D,I])=>{I.forEach(w=>{w.linkedSongs?.includes(b)&&M.push({level:D,text:w.text,isSubItem:!1}),w.subItems?.forEach(xt=>{xt.linkedSongs?.includes(b)&&M.push({level:D,text:xt.text,parentText:w.text,isSubItem:!0})})})}),M},wt=b=>{b.preventDefault(),_.trim()&&(i(d.trim(),_.trim()),g(""),y(""))},ft=b=>{C(b.id),B(b.artist),et(b.title)},N=()=>{J.trim()&&a(S,k.trim(),J.trim()),C(null)},R=r.filter(b=>b.title.toLowerCase().includes(W.toLowerCase())||b.artist.toLowerCase().includes(W.toLowerCase()));return A.jsxs("div",{className:"song-manager",children:[A.jsxs("div",{className:"manager-header",children:[A.jsx("h2",{children:" Song Database"}),A.jsx("p",{className:"manager-hint",children:'Add songs here, then link them to checklist items in "Manage Checklists"'})]}),A.jsxs("form",{onSubmit:wt,className:"add-song-form",children:[A.jsx("input",{type:"text",value:d,onChange:b=>g(b.target.value),placeholder:"Artist (optional)",className:"artist-input"}),A.jsx("input",{type:"text",value:_,onChange:b=>y(b.target.value),placeholder:"Song title *",className:"title-input"}),A.jsxs("button",{type:"submit",className:"add-btn song-add-btn",children:[A.jsx("span",{children:"+"})," Add Song"]})]}),r.length>5&&A.jsx("div",{className:"search-container",children:A.jsx("input",{type:"text",value:W,onChange:b=>it(b.target.value),placeholder:"Search songs...",className:"search-input"})}),r.length===0?A.jsxs("div",{className:"empty-state",children:[A.jsx("span",{className:"empty-icon",children:""}),A.jsx("p",{children:"No songs in your database yet."}),A.jsx("p",{className:"hint",children:"Add songs above to link them to curriculum items."})]}):A.jsx("div",{className:"songs-list",children:R.map(b=>A.jsx("div",{className:"song-item",children:S===b.id?A.jsxs("div",{className:"song-edit-form",children:[A.jsx("input",{type:"text",value:k,onChange:M=>B(M.target.value),placeholder:"Artist",className:"edit-artist-input"}),A.jsx("input",{type:"text",value:J,onChange:M=>et(M.target.value),placeholder:"Title",className:"edit-title-input",autoFocus:!0}),A.jsxs("div",{className:"edit-actions",children:[A.jsx("button",{className:"save-edit-btn",onClick:N,children:"Save"}),A.jsx("button",{className:"cancel-edit-btn",onClick:()=>C(null),children:"Cancel"})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"song-info clickable",onClick:()=>ht(b),title:"Click to view song details",children:[A.jsx("span",{className:"song-icon",children:""}),A.jsxs("div",{className:"song-details",children:[b.artist&&A.jsx("span",{className:"song-artist",children:b.artist}),A.jsx("span",{className:"song-title",children:b.title})]}),A.jsx("span",{className:"song-view-hint",children:"View details "})]}),A.jsxs("div",{className:"song-actions",children:[A.jsx("button",{className:"action-btn edit",onClick:M=>{M.stopPropagation(),ft(b)},title:"Edit song",children:""}),A.jsx("button",{className:"action-btn delete",onClick:M=>{M.stopPropagation(),confirm(`Delete "${b.artist?b.artist+" - ":""}${b.title}"?`)&&o(b.id)},title:"Delete song",children:""})]})]})},b.id))}),A.jsxs("div",{className:"song-count",children:[r.length," song",r.length!==1?"s":""," in database"]}),ut&&A.jsx("div",{className:"song-modal-overlay",onClick:()=>ht(null),children:A.jsxs("div",{className:"song-modal",onClick:b=>b.stopPropagation(),children:[A.jsx("button",{className:"modal-close-btn",onClick:()=>ht(null),children:""}),A.jsxs("div",{className:"song-modal-header",children:[A.jsx("span",{className:"song-modal-icon",children:""}),A.jsxs("div",{className:"song-modal-title-section",children:[ut.artist&&A.jsx("span",{className:"song-modal-artist",children:ut.artist}),A.jsx("h2",{className:"song-modal-title",children:ut.title})]})]}),A.jsxs("div",{className:"song-modal-section",children:[A.jsx("h3",{children:" Linked Concepts"}),(()=>{const b=bt(ut.id);if(b.length===0)return A.jsxs("div",{className:"no-linked-concepts",children:[A.jsx("span",{className:"no-concepts-icon",children:""}),A.jsx("p",{children:"This song is not linked to any checklist concepts yet."}),A.jsx("p",{className:"hint",children:'Link songs to checklist items in "Manage Checklists"'})]});const M=b.reduce((D,I)=>(D[I.level]||(D[I.level]=[]),D[I.level].push(I),D),{});return A.jsx("div",{className:"linked-concepts-list",children:Object.entries(M).map(([D,I])=>A.jsxs("div",{className:"level-concept-group",children:[A.jsx("div",{className:"level-concept-header",style:{backgroundColor:w2[D],color:"#ffffff"},children:c?.[D]||D}),A.jsx("div",{className:"level-concept-items",children:I.map((w,xt)=>A.jsx("div",{className:"concept-item",children:w.isSubItem?A.jsxs(A.Fragment,{children:[A.jsx("span",{className:"concept-parent",children:w.parentText}),A.jsx("span",{className:"concept-sub-indicator",children:""}),A.jsx("span",{className:"concept-text",children:w.text})]}):A.jsx("span",{className:"concept-text main",children:w.text})},xt))})]},D))})})()]}),A.jsx("div",{className:"song-modal-footer",children:A.jsxs("span",{className:"song-date-added",children:["Added: ",new Date(ut.dateAdded).toLocaleDateString()]})})]})})]})}const Mi=["level1","level2","level3","level4","level5","level6"],Rc={level1:"#64748b",level2:"#f59e0b",level3:"#ef4444",level4:"#22c55e",level5:"#3b82f6",level6:"#8b5cf6"},Ud={level1:"#ffffff",level2:"#ffffff",level3:"#ffffff",level4:"#ffffff",level5:"#ffffff",level6:"#ffffff"},Eo={level1:"Level 1",level2:"Level 2",level3:"Level 3",level4:"Level 4",level5:"Level 5",level6:"Level 6"},nE=()=>{const r={};return Mi.forEach(t=>{r[t]=[]}),r},C2=r=>{const t={};return Mi.forEach(i=>{t[i]={},(r[i]||[]).forEach(o=>{t[i][o.id]=!1,o.subItems&&o.subItems.forEach(c=>{t[i][c.id]=!1})})}),t};function I2(){const[r,t]=Mt.useState(null),[i,a]=Mt.useState(!0),[o,c]=Mt.useState(!1),[d,g]=Mt.useState([]),[_,y]=Mt.useState(nE()),[S,C]=Mt.useState([]),[k,B]=Mt.useState(null),[J,et]=Mt.useState("students"),[W,it]=Mt.useState("level1"),[ut,ht]=Mt.useState("name-asc"),bt=Mt.useRef(!1),wt=Mt.useRef(!1);Mt.useEffect(()=>{const K=U1(om,st=>{t(st),a(!1),st||(c(!1),bt.current=!1)});return()=>K()},[]),Mt.useEffect(()=>{if(!r)return;const K=$v(eE,"users",r.uid),st=d2(K,yt=>{if(!(wt.current||bt.current)){if(yt.exists()){const dt=yt.data();dt.students&&g(dt.students),dt.checklists&&y(dt.checklists),dt.songs&&C(dt.songs),dt.studentSortBy&&ht(dt.studentSortBy)}c(!0)}});return()=>st()},[r]),Mt.useEffect(()=>{if(!r||i||!o||!bt.current)return;const K=setTimeout(async()=>{try{wt.current=!0;const st=$v(eE,"users",r.uid);await f2(st,{students:d,checklists:_,songs:S,studentSortBy:ut,lastUpdated:new Date().toISOString()},{merge:!0}),bt.current=!1}catch(st){console.error("Error saving data:",st)}wt.current=!1},1e3);return()=>clearTimeout(K)},[d,_,S,ut,r,i,o]);const ft=()=>{bt.current=!0},N=async()=>{try{await P1(om),c(!1),g([]),y(nE()),C([]),B(null),et("students")}catch(K){console.error("Error signing out:",K)}},R=K=>{ft();const st={id:vc(),name:K,currentLevel:"level1",progress:C2(_),dateAdded:new Date().toISOString()};g([...d,st])},b=K=>{ft(),g(d.filter(st=>st.id!==K)),k?.id===K&&(B(null),et("students"))},M=(K,st)=>{ft(),g(d.map(yt=>yt.id===K?{...yt,name:st}:yt))},D=(K,st)=>{ft();const yt={id:vc(),artist:K,title:st,dateAdded:new Date().toISOString()};return C([...S,yt]),yt.id},I=(K,st,yt)=>{ft(),C(S.map(dt=>dt.id===K?{...dt,artist:st,title:yt}:dt))},w=K=>{ft(),C(S.filter(st=>st.id!==K)),y(st=>{const yt={...st};return Mi.forEach(dt=>{yt[dt]=(yt[dt]||[]).map(gt=>({...gt,linkedSongs:(gt.linkedSongs||[]).filter(ct=>ct!==K),subItems:(gt.subItems||[]).map(ct=>({...ct,linkedSongs:(ct.linkedSongs||[]).filter(Ct=>Ct!==K)}))}))}),yt})},xt=(K,st,yt,dt)=>{ft(),y(gt=>({...gt,[K]:(gt[K]||[]).map(ct=>{if(ct.id!==st)return ct;if(yt)return{...ct,subItems:(ct.subItems||[]).map(Ct=>{if(Ct.id!==yt)return Ct;const Ae=Ct.linkedSongs||[];return Ae.includes(dt)?Ct:{...Ct,linkedSongs:[...Ae,dt]}})};{const Ct=ct.linkedSongs||[];return Ct.includes(dt)?ct:{...ct,linkedSongs:[...Ct,dt]}}})}))},kt=(K,st,yt,dt)=>{ft(),y(gt=>({...gt,[K]:(gt[K]||[]).map(ct=>ct.id!==st?ct:yt?{...ct,subItems:(ct.subItems||[]).map(Ct=>Ct.id!==yt?Ct:{...Ct,linkedSongs:(Ct.linkedSongs||[]).filter(Ae=>Ae!==dt)})}:{...ct,linkedSongs:(ct.linkedSongs||[]).filter(Ct=>Ct!==dt)})}))},H=(K,st)=>{ft();const yt={id:vc(),text:st,subItems:[],linkedSongs:[]};y(dt=>({...dt,[K]:[...dt[K]||[],yt]})),g(dt=>dt.map(gt=>({...gt,progress:{...gt.progress,[K]:{...gt.progress?.[K]||{},[yt.id]:!1}}})))},rt=(K,st,yt)=>{ft();const dt={id:vc(),text:yt,linkedSongs:[]};y(gt=>({...gt,[K]:(gt[K]||[]).map(ct=>ct.id===st?{...ct,subItems:[...ct.subItems||[],dt]}:ct)})),g(gt=>gt.map(ct=>({...ct,progress:{...ct.progress,[K]:{...ct.progress?.[K]||{},[dt.id]:!1}}})))},Tt=(K,st)=>{ft();const dt=(_[K]||[]).find(gt=>gt.id===st)?.subItems?.map(gt=>gt.id)||[];y(gt=>({...gt,[K]:(gt[K]||[]).filter(ct=>ct.id!==st)})),g(gt=>gt.map(ct=>{const Ct={...ct.progress?.[K]||{}};return delete Ct[st],dt.forEach(Ae=>delete Ct[Ae]),{...ct,progress:{...ct.progress,[K]:Ct}}}))},Ft=(K,st,yt)=>{ft(),y(dt=>({...dt,[K]:(dt[K]||[]).map(gt=>gt.id===st?{...gt,subItems:(gt.subItems||[]).filter(ct=>ct.id!==yt)}:gt)})),g(dt=>dt.map(gt=>{const ct={...gt.progress?.[K]||{}};return delete ct[yt],{...gt,progress:{...gt.progress,[K]:ct}}}))},Ht=(K,st,yt)=>{ft(),y(dt=>{const gt=[...dt[K]||[]],[ct]=gt.splice(st,1);return gt.splice(yt,0,ct),{...dt,[K]:gt}})},V=(K,st,yt,dt)=>{ft(),y(gt=>({...gt,[K]:(gt[K]||[]).map(ct=>{if(ct.id!==st)return ct;const Ct=[...ct.subItems||[]],[Ae]=Ct.splice(yt,1);return Ct.splice(dt,0,Ae),{...ct,subItems:Ct}})}))},Q=(K,st,yt,dt)=>{ft(),y(gt=>({...gt,[K]:(gt[K]||[]).map(ct=>ct.id!==st?ct:yt?{...ct,subItems:(ct.subItems||[]).map(Ct=>Ct.id!==yt?Ct:{...Ct,lessonContent:dt})}:{...ct,lessonContent:dt})}))},ot=(K,st,yt)=>{ft();const dt=(_[K]||[]).find(ct=>ct.id===st);if(!dt)return;const gt=[dt.id,...(dt.subItems||[]).map(ct=>ct.id)];y(ct=>({...ct,[K]:(ct[K]||[]).filter(Ct=>Ct.id!==st),[yt]:[...ct[yt]||[],dt]})),g(ct=>ct.map(Ct=>{const Ae={...Ct.progress?.[K]||{}},An={...Ct.progress?.[yt]||{}};return gt.forEach(bn=>{bn in Ae?(An[bn]=Ae[bn],delete Ae[bn]):An[bn]=!1}),{...Ct,progress:{...Ct.progress,[K]:Ae,[yt]:An}}}))},at=(K,st,yt)=>{ft(),g(dt=>dt.map(gt=>{if(gt.id!==K)return gt;const ct=gt.progress?.[st]||{};return{...gt,progress:{...gt.progress,[st]:{...ct,[yt]:!ct[yt]}}}}))},Rt=K=>{ft(),g(st=>st.map(yt=>{if(yt.id!==K)return yt;const dt=Mi.indexOf(yt.currentLevel);return dt<Mi.length-1?{...yt,currentLevel:Mi[dt+1]}:yt}))},Ot=(K,st)=>{const yt=_[st];if(!yt||yt.length===0)return 0;let dt=0,gt=0;return yt.forEach(ct=>{dt++,K.progress[st]?.[ct.id]&&gt++,ct.subItems?.forEach(Ct=>{dt++,K.progress[st]?.[Ct.id]&&gt++})}),dt>0?Math.round(gt/dt*100):0},Gt=K=>{B(K),et("progress")};return i?A.jsxs("div",{className:"loading-screen",children:[A.jsx("div",{className:"loading-spinner"}),A.jsx("p",{children:"Loading..."})]}):r?A.jsxs("div",{className:"app",children:[A.jsxs("header",{className:"app-header",children:[A.jsxs("div",{className:"logo",children:[A.jsx("span",{className:"logo-icon",children:""}),A.jsx("h1",{children:"Progress Tracker"})]}),A.jsxs("nav",{className:"nav-tabs",children:[A.jsx("button",{className:`nav-tab ${J==="students"?"active":""}`,onClick:()=>et("students"),children:"Students"}),A.jsx("button",{className:`nav-tab ${J==="progress"?"active":""}`,onClick:()=>et("progress"),disabled:!k,children:"Progress"}),A.jsx("button",{className:`nav-tab ${J==="manage"?"active":""}`,onClick:()=>et("manage"),children:"Manage Checklists"}),A.jsx("button",{className:`nav-tab ${J==="songs"?"active":""}`,onClick:()=>et("songs"),children:" Songs"})]}),A.jsxs("div",{className:"user-section",children:[A.jsx("img",{src:r.photoURL,alt:r.displayName,className:"user-avatar",title:r.displayName}),A.jsx("button",{onClick:N,className:"logout-btn",children:"Sign Out"})]})]}),J!=="songs"&&J!=="manage"&&A.jsx("div",{className:"level-tabs",children:Mi.map(K=>A.jsx("button",{className:`level-tab ${W===K?"active":""}`,style:{"--level-color":Rc[K],"--level-text":Ud[K]},onClick:()=>it(K),children:Eo[K]},K))}),A.jsxs("main",{className:"main-content",children:[J==="students"&&A.jsx(T2,{students:d,onAddStudent:R,onDeleteStudent:b,onEditStudentName:M,onSelectStudent:Gt,calculateCompletion:Ot,activeLevel:W,levelColors:Rc,levelTextColors:Ud,levelOrder:Mi,levelNames:Eo,sortBy:ut,onSortChange:K=>{ft(),ht(K)}}),J==="progress"&&k&&A.jsx(S2,{student:d.find(K=>K.id===k.id)||k,checklists:_,songs:S,activeLevel:W,onToggleProgress:at,onGraduate:Rt,calculateCompletion:Ot,levelColors:Rc,levelTextColors:Ud,levelOrder:Mi,levelNames:Eo}),J==="manage"&&A.jsx(b2,{checklists:_,onAddItem:H,onAddSubItem:rt,onDeleteItem:Tt,onDeleteSubItem:Ft,onReorderItems:Ht,onReorderSubItems:V,onMoveItem:ot,onSaveLessonContent:Q,onLinkSong:xt,onUnlinkSong:kt,onAddSong:D,songs:S,levelColors:Rc,levelNames:Eo,levelOrder:Mi}),J==="songs"&&A.jsx(R2,{songs:S,checklists:_,onAddSong:D,onEditSong:I,onDeleteSong:w,levelNames:Eo})]})]}):A.jsx(E2,{onLogin:t})}lA.createRoot(document.getElementById("root")).render(A.jsx(Mt.StrictMode,{children:A.jsx(I2,{})}));
